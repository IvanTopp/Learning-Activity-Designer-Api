(this["webpackJsonplearning-activity-designer-app"]=this["webpackJsonplearning-activity-designer-app"]||[]).push([[0],{380:function(e,t,n){},508:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),i=n.n(r),c=n(37),s=n.n(c),o=(n(237),n(238),n(609)),l=n(193),d=n(8),u=n.n(d),j=n(18),b=n(14),p="http://learning-activity-designer.herokuapp.com/api",g=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a,r,i,c,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.length>2&&void 0!==s[2]?s[2]:"GET",r="".concat(p,"/").concat(t),"GET"!==a){e.next=11;break}return e.next=5,fetch(r);case 5:return i=e.sent,e.next=8,i.json();case 8:return e.abrupt("return",e.sent);case 11:return e.next=13,fetch(r,{method:a,headers:{"Content-type":"application/json"},body:JSON.stringify(n)});case 13:return c=e.sent,e.next=16,c.json();case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a,r,i,c,s,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.length>2&&void 0!==o[2]?o[2]:"GET",r="".concat(p,"/").concat(t),i=localStorage.getItem("token")||"","GET"!==a){e.next=12;break}return e.next=6,fetch(r,{method:a,headers:{"x-token":i}});case 6:return c=e.sent,e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 12:return e.next=14,fetch(r,{method:a,headers:{"Content-type":"application/json","x-token":i},body:JSON.stringify(n)});case 14:return s=e.sent,e.next=17,s.json();case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=Object(r.createContext)();function f(){var e=Object(r.useContext)(h);if(void 0===e)throw new Error("useAuthState must be used within a AuthProvider");return e}var x={checking:!0,user:null,token:null},O=function(e){var t=e.children,n=Object(r.useState)(x),i=Object(b.a)(n,2),c=i[0],s=i[1],o=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a,r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("auth/login",{email:t,password:n},"POST");case 2:return(a=e.sent).ok&&(r=a.data,i=r.user,c=r.token,s({user:i,token:c,checking:!1})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("auth/register",t,"POST");case 2:return(n=e.sent).ok&&(a=n.data,r=a.user,i=a.token,s({user:r,token:i,checking:!1})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=Object(r.useCallback)(Object(j.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("token")){e.next=4;break}return s({user:null,token:null,checking:!1}),e.abrupt("return",!1);case 4:return e.next=6,m("auth/renew");case 6:if(!(t=e.sent).ok){e.next=14;break}return n=t.data,a=n.user,r=n.token,localStorage.setItem("token",r),s({user:a,token:r,checking:!1}),e.abrupt("return",!0);case 14:return s({user:null,token:null,checking:!1}),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)}))),[]);return Object(r.useEffect)((function(){null===c.token?localStorage.removeItem("token"):localStorage.setItem("token",c.token)}),[c.token]),Object(a.jsx)(h.Provider,{value:{authState:c,login:o,register:l,logout:function(){s({checking:!1,user:null,token:null})},verifyToken:d,setAuthState:s},children:t})},v=n(298),y=Object(r.createContext)(),w=function(){var e=Object(r.useContext)(y);if(void 0===e)throw new Error("useSocketState must be used within a SocketProvider");return e},k=function(e){var t=e.children,n=f().authState,i=function(e){var t=Object(r.useState)(null),n=Object(b.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(!1),s=Object(b.a)(c,2),o=s[0],l=s[1],d=f().authState,u=Object(r.useCallback)((function(){var t=d.token,n=v.io.connect(e,{transports:["websocket"],autoConnect:!0,forceNew:!0,query:{"x-token":t}});i(n)}),[e,d.token]),j=Object(r.useCallback)((function(){null===a||void 0===a||a.disconnect()}),[a]);return Object(r.useEffect)((function(){l(null===a||void 0===a?void 0:a.connected)}),[a]),Object(r.useEffect)((function(){null===a||void 0===a||a.on("connect",(function(){return l(!0)})),null===a||void 0===a||a.on("disconnect",(function(){return l(!1)}))}),[a]),{socket:a,online:o,connectSocket:u,disconnectSocket:j}}("http://learning-activity-designer.herokuapp.com"),c=i.socket,s=i.online,o=i.connectSocket,l=i.disconnectSocket;return Object(r.useEffect)((function(){!!n.token&&o()}),[n.token,o]),Object(r.useEffect)((function(){!!n.token||l()}),[n.token,l]),Object(a.jsx)(y.Provider,{value:{socket:c,online:s},children:t})},C=n(23),A=n(3),S={ui:{toggleLoginModal:"[UI] toggle login modal",toggleModal:"[UI] toggle modal",toggleRegisterModal:"[UI] toggle register modal",toggleLearningResultModal:"[UI] toggle learning result modal",updateFolderPath:"[UI] update folder path",toggleConfirmAction:"[UI] confirm action",setFolder:"[UI] set folder data",setConfirmData:"[UI] set confirm data"},design:{updateDesign:"[DESIGN] toggle login modal",changeMetadataField:"[DESIGN] change metadata field",changeTaskField:"[DESIGN] change task field",setCurrentLearningResultField:"[DESIGN] set learning result field",clearCurrentLearningResult:"[DESIGN] clear current learning result",setCurrentLearningResult:"[DESIGN] set current learning result",setBloomCategories:"[DESIGN] set bloom categories",setBloomVerbs:"[DESIGN] set bloom verbs",setDesignPrivileges:"[DESIGN] set design privileges"}},N=function(e,t){switch(t.type){case S.ui.toggleModal:return Object(A.a)(Object(A.a)({},e),{},Object(C.a)({},"is"+t.payload+"ModalOpen",!e["is"+t.payload+"ModalOpen"]));case S.ui.toggleRegisterModal:return Object(A.a)(Object(A.a)({},e),{},{isRegisterModalOpen:!e.isRegisterModalOpen});case S.ui.updateFolderPath:return e.folderPath!==t.payload?Object(A.a)(Object(A.a)({},e),{},{folderPath:t.payload}):e;case S.ui.toggleWitchOpenModal:return Object(A.a)(Object(A.a)({},e),{},{setWitchOpenModal:!e.setWitchOpenModal});case S.ui.setFolder:return Object(A.a)(Object(A.a)({},e),{},{folder:t.payload});case S.ui.setConfirmData:return Object(A.a)(Object(A.a)({},e),{},{confirmModalData:t.payload});default:return e}},D=Object(r.createContext)();function T(){var e=Object(r.useContext)(D);if(void 0===e)throw new Error("useUiState must be used within a UiProvider");return e}var E={folderPath:"/",isLoginModalOpen:!1,isRegisterModalOpen:!1,isLearningResultModalOpen:!1,isEditProfileModalOpen:!1,isContactsModalOpen:!1,isConfirmationModalOpen:!1,isOtherConfirmationModalOpen:!1,isShareOpenModal:!1,setWichOpenModal:!1,isFolderModalOpen:!1,folder:{_id:null,name:""},confirmModalData:{type:null,args:null,actionMutation:null}},I=function(e){var t=e.children,n=Object(r.useReducer)(N,E),i=Object(b.a)(n,2),c=i[0],s=i[1];return Object(a.jsx)(D.Provider,{value:{uiState:c,dispatch:s},children:t})},P=n(48),L=n(47),F=n(549),M=n(616),R=n(510),B=n(512),q=n(563),W=n(561),Q=n(562),V=n(608),z="data:image/png;base64,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",H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.useState)(e),n=Object(b.a)(t,2),a=n[0],i=n[1],c=function(){i(e)},s=function(e){var t=e.target;i(Object(A.a)(Object(A.a)({},a),{},Object(C.a)({},t.name,t.value)))};return[a,s,c,i]},K=n(612),U=n(552),G=n(554),J=n(136),Z=n(555),X=n(556),Y=n(553),_=Object(F.a)((function(e){return{close:{position:"absolute",top:5,right:5,padding:15},header:{display:"flex",justifyContent:"center",alignItems:"center"}}})),$=i.a.memo((function(e){var t=e.isOpen,n=e.handleClose,r=e.maxWidth,i=void 0===r?"sm":r,c=e.title,s=void 0===c?"":c,o=e.subtitle,l=void 0===o?"":o,d=e.image,u=e.content,j=e.actions,b=_();return Object(a.jsxs)(K.a,{fullWidth:!0,maxWidth:i,open:t,onClose:n,children:[Object(a.jsxs)(U.a,{className:b.header,disableTypography:!0,children:[Object(a.jsx)(R.a,{className:b.close,onClick:n,color:"inherit",size:"small",children:Object(a.jsx)(Y.a,{})}),Object(a.jsxs)(G.a,{container:!0,spacing:1,children:[Object(a.jsx)(G.a,{item:!0,xs:12,children:d}),Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsx)(J.a,{align:"center",variant:"h5",component:"p",children:s})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsx)(J.a,{align:"center",variant:"subtitle1",component:"h1",children:l})})]})]}),Object(a.jsx)(Z.a,{children:u}),j&&Object(a.jsx)(X.a,{children:j})]})})),ee=Object(F.a)((function(e){return{formcontrol:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},margin:{margin:e.spacing(1)},form:{display:"flex",flexDirection:"column",marginLeft:"10%",marginRight:"10%",width:"80%",overflow:"auto"},logo:{display:"block",marginLeft:"auto",marginRight:"auto",width:"30%",marginTop:15,marginBottom:15},footer:{display:"flex",flexDirection:"column",width:"100%",justifyContent:"center",alignItems:"center",paddingTop:30,paddingBottom:15},link:{marginTop:10,marginBottom:10},"@global":{"*::-webkit-scrollbar":{width:"0.4em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)"},"*::-webkit-scrollbar-thumb":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)",borderRadius:"15px",backgroundColor:"rgba(0,0,0,.1)"}}}})),te={emailError:null,passwordError:null},ne=function(){var e=ee(),t=T(),n=t.uiState,i=t.dispatch,c=f().login,s=Object(r.useState)(te),o=Object(b.a)(s,2),l=o[0],d=o[1],p=Object(r.useState)(!1),g=Object(b.a)(p,2),m=g[0],h=g[1],x=Object(r.useState)(!1),O=Object(b.a)(x,2),v=O[0],y=O[1],w=H({email:"",password:""}),k=Object(b.a)(w,3),N=k[0],D=k[1],E=k[2],I=N.email,P=N.password,L=l.emailError,F=l.passwordError,K=function(e){h(null),d((function(t){return Object(A.a)(Object(A.a)({},t),{},Object(C.a)({},e.target.name+"Error",null))})),D(e)},U=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Object.keys(N).map((function(e,t){return""===N[e].trim()?(d((function(t){return Object(A.a)(Object(A.a)({},t),{},Object(C.a)({},e+"Error","Este campo es requerido."))})),!1):(d((function(t){return Object(A.a)(Object(A.a)({},t),{},Object(C.a)({},e+"Error",null))})),!0)})).reduce((function(e,t){return e&&t}))){e.next=3;break}return e.abrupt("return");case 3:if(/^[-\w.%+]{1,64}@(?:[A-Z0-9]{1,63}\.){1,125}[A-Z]{2,63}$/i.test(I)||(d((function(e){return Object(A.a)(Object(A.a)({},e),{},{emailError:"El correo debe tener la siguiente estructura: example@example.com"})})),0)){e.next=5;break}return e.abrupt("return");case 5:if(P.length>=8&&P.length<=16||(d((function(e){return Object(A.a)(Object(A.a)({},e),{},{passwordError:"La contrase\xf1a debe tener entre 8 y 16 caracteres."})})),0)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,c(I,P);case 9:(n=e.sent).ok?i({type:S.ui.toggleModal,payload:"Login"}):h(n.message);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){i({type:S.ui.toggleModal,payload:"Login"}),E()};return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)($,{isOpen:n.isLoginModalOpen,handleClose:G,title:"\xa1Bienvenido!",subtitle:"Completa los campos para ingresar con tu cuenta",image:Object(a.jsx)("img",{className:e.logo,src:z,alt:"Logo"}),content:Object(a.jsxs)("form",{className:e.form,onSubmit:U,noValidate:!0,children:[m&&Object(a.jsxs)(V.a,{severity:"error",children:[" ",m]}),Object(a.jsx)(M.a,{error:!!L,helperText:L,margin:"dense",variant:"outlined",name:"email",value:I,onChange:K,label:"Email",type:"email",fullWidth:!0}),Object(a.jsx)(M.a,{error:!!F,helperText:F,margin:"dense",variant:"outlined",name:"password",value:P,onChange:K,label:"Contrase\xf1a",type:v?"text":"password",fullWidth:!0,InputProps:{endAdornment:Object(a.jsx)(R.a,{onClick:function(){y(!v)},onMouseDown:function(e){e.preventDefault()},children:v?Object(a.jsx)(W.a,{}):Object(a.jsx)(Q.a,{})})}}),Object(a.jsxs)("div",{className:e.footer,children:[Object(a.jsx)(B.a,{variant:"outlined",type:"submit",fullWidth:!0,children:"Iniciar Sesi\xf3n"}),Object(a.jsx)("div",{style:{paddingTop:20},children:Object(a.jsx)(q.a,{href:"#",align:"center",variant:"body1",onClick:function(e){e.preventDefault(),console.log("Redirigir a recuperar contrase\xf1a...")},children:"\xbfOlvidaste tu contrase\xf1a?"})}),Object(a.jsx)("div",{style:{paddingBottom:15,paddingTop:10},children:Object(a.jsx)(q.a,{href:"#",variant:"body1",onClick:function(e){e.preventDefault(),G(),i({type:S.ui.toggleModal,payload:"Register"})},children:"\xbfNo tienes cuenta? Registrate"})})]})]})})})},ae=Object(F.a)((function(e){return{form:{display:"flex",flexDirection:"column",marginLeft:"10%",marginRight:"10%",width:"80%"},logo:{display:"block",marginLeft:"auto",marginRight:"auto",width:"30%",marginTop:15,marginBottom:15},footer:{display:"flex",flexDirection:"column",width:"100%",justifyContent:"center",alignItems:"center",paddingTop:30,paddingBottom:15},"@global":{"*::-webkit-scrollbar":{width:"0.4em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)"},"*::-webkit-scrollbar-thumb":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)",borderRadius:"15px",backgroundColor:"rgba(0,0,0,.1)"}}}})),re={nameError:null,lastnameError:null,emailError:null,passwordError:null,confirmPasswordError:null},ie=i.a.memo((function(){var e=ae(),t=T(),n=t.uiState,i=t.dispatch,c=f().register,s=Object(r.useState)(null),o=Object(b.a)(s,2),l=o[0],d=o[1],p=Object(r.useState)(re),g=Object(b.a)(p,2),m=g[0],h=g[1],x=H({name:"",lastname:"",email:"",password:"",confirmPassword:""}),O=Object(b.a)(x,3),v=O[0],y=O[1],w=O[2],k=v.name,N=v.lastname,D=v.email,E=v.password,I=v.confirmPassword,P=m.nameError,L=m.lastnameError,F=m.emailError,R=m.passwordError,W=m.confirmPasswordError,Q=function(){i({type:S.ui.toggleModal,payload:"Register"}),w(),h(re),d(null)},K=function(e){d(null),h((function(t){return Object(A.a)(Object(A.a)({},t),{},Object(C.a)({},e.target.name+"Error",null))})),y(e)},U=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Object.keys(v).map((function(e,t){return""===v[e].trim()?(h((function(t){return Object(A.a)(Object(A.a)({},t),{},Object(C.a)({},e+"Error","Este campo es requerido."))})),!1):(h((function(t){return Object(A.a)(Object(A.a)({},t),{},Object(C.a)({},e+"Error",null))})),!0)})).reduce((function(e,t){return e&&t}))){e.next=3;break}return e.abrupt("return");case 3:if(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,16}$/.test(E)?E.trim()===I.trim()||(h((function(e){return Object(A.a)(Object(A.a)({},e),{},{passwordError:"Las contrase\xf1as no coinciden.",confirmPasswordError:"Las contrase\xf1as no coinciden."})})),0):(h((function(e){return Object(A.a)(Object(A.a)({},e),{},{passwordError:"La contrase\xf1a debe tener al menos un car\xe1cter en min\xfascula, uno en may\xfascula, un n\xfamero y debe tener entre 8 y 16 caract\xe9res de longitud."})})),0)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,c(v);case 7:(n=e.sent).ok?i({type:S.ui.toggleModal,payload:"Register"}):d(n.message);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)($,{isOpen:n.isRegisterModalOpen,handleClose:Q,title:"\xa1Bienvenido!",subtitle:"Completa los campos para registrar tu cuenta",image:Object(a.jsx)("img",{className:e.logo,src:z,alt:"Logo"}),content:Object(a.jsxs)("form",{className:e.form,onSubmit:U,noValidate:!0,children:[l&&Object(a.jsx)(V.a,{severity:"error",children:l}),Object(a.jsx)(M.a,{variant:"outlined",error:!!P,helperText:P,margin:"dense",name:"name",value:k,onChange:K,label:"Nombres",type:"text",fullWidth:!0}),Object(a.jsx)(M.a,{variant:"outlined",error:!!L,helperText:L,margin:"dense",name:"lastname",value:N,onChange:K,label:"Apellidos",type:"text",fullWidth:!0}),Object(a.jsx)(M.a,{variant:"outlined",error:!!F,helperText:F,margin:"dense",name:"email",value:D,onChange:K,label:"Email",type:"email",fullWidth:!0}),Object(a.jsx)(M.a,{variant:"outlined",error:!!R,helperText:R,margin:"dense",name:"password",value:E,onChange:K,label:"Contrase\xf1a",type:"password",fullWidth:!0}),Object(a.jsx)(M.a,{variant:"outlined",error:!!W,helperText:W,margin:"dense",name:"confirmPassword",value:I,onChange:K,label:"Repetir contrase\xf1a",type:"password",fullWidth:!0}),Object(a.jsxs)("div",{className:e.footer,children:[Object(a.jsx)(B.a,{color:"primary",variant:"outlined",type:"submit",fullWidth:!0,children:"Registrarme"}),Object(a.jsx)(q.a,{href:"#",style:{paddingTop:20,paddingBottom:15},variant:"body1",onClick:function(e){e.preventDefault(),Q(),i({type:S.ui.toggleModal,payload:"Login"})},children:"\xbfYa tienes cuenta?"})]})]})})})),ce=Object(F.a)((function(e){return{root:{minHeight:"calc(100vh - 64px)"}}})),se=function(){var e=ce();return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)("h1",{children:"LandingPage"}),Object(a.jsx)("hr",{}),Object(a.jsx)(ne,{}),Object(a.jsx)(ie,{})]})},oe=n(123),le=function(e){var t=e.isAuthenticated,n=e.component,r=Object(oe.a)(e,["isAuthenticated","component"]);return Object(a.jsx)(L.b,Object(A.a)(Object(A.a)({},r),{},{component:function(e){return t?Object(a.jsx)(L.a,{to:"/my-designs"}):Object(a.jsx)(n,Object(A.a)({},e))}}))},de=function(e){var t=e.isAuthenticated,n=e.component,r=Object(oe.a)(e,["isAuthenticated","component"]);return localStorage.setItem("lastPath",r.location.pathname),Object(a.jsx)(L.b,Object(A.a)(Object(A.a)({},r),{},{component:function(e){return t?Object(a.jsx)(n,Object(A.a)({},e)):Object(a.jsx)(L.a,{to:"/"})}}))},ue=n(580),je=n(574),be=n(615),pe=n(578),ge=n(614),me=n(564),he=n(565),fe=n(566),xe=n(570),Oe=n(619),ve=n(567),ye=n(568),we=n(569),ke=function(e,t){var n=e.split(" ")[0],a=t.split(" ")[0];return"".concat(n," ").concat(a)},Ce=function(e,t){return"".concat(e.substring(0,1)+t.substring(0,1))},Ae=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("design/recent");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error(t.message);case 5:return e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("design/user",{path:t,from:n},"POST");case 2:if((a=e.sent).ok){e.next=5;break}throw new Error(a.message);case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("design/public/user/",{id:t,from:n},"POST");case 2:if((a=e.sent).ok){e.next=5;break}throw new Error(a.message);case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),De=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("design/shared-with-user/",{from:t},"POST");case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.path,a=t.isPublic,r=void 0!==a&&a,console.log(r),e.next=4,m("design",{path:n,isPublic:r},"POST");case 4:if((i=e.sent).ok){e.next=7;break}throw new Error(i.message);case 7:return e.abrupt("return",i.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,m("design/".concat(n),{},"DELETE");case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.message);case 6:return e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=Object(F.a)((function(e){return{root:{position:"relative",border:"1px solid ".concat(e.palette.divider),width:325,minWidth:325,margin:"10px 10px 10px 0px",borderRadius:5,cursor:"pointer",userSelect:"none",backgroundColor:e.palette.background.design,"&:hover":{boxShadow:"0px 0px 10px 0 #bcc3d6",background:e.palette.background.designHover}},ownerInfo:{borderTop:"1px solid ".concat(e.palette.divider),paddingLeft:15,paddingRight:15},row:{display:"flex"},rowJustified:{display:"flex",justifyContent:"space-between"},col:{display:"flex",flexDirection:"column"},ellipsis:{width:200,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},designIcon:{marginLeft:-12,fontSize:50,alignSelf:"center",justifySelf:"start",width:"20%"},deleteIcon:{position:"absolute",top:8,right:8},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),Pe=function(e){var t,n,r,i=e._id,c=e.title,s=e.updatedAt,o=e.metadata,d=e.folder,b=e.owner,p=e.canDelete,g=void 0===p||p,m=Object(l.b)(),h=f().authState,x=T().dispatch,O=Object(L.g)(),v=Object(ge.a)(Ee,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.cancelQueries("recent-designs");case 2:return e.next=4,m.cancelQueries(["designs",d.path]);case 4:return e.next=6,m.cancelQueries([b._id,"user-public-designs"]);case 6:if(t=m.getQueryData(["designs",d.path]),n=m.getQueryData([b,"user-public-designs"]),a=["designs",d.path],O.location.pathname.includes("/my-designs")||(a=[b._id,"user-public-designs"]),m.setQueryData(a,(function(e){var t=e.pages.find((function(e){return e.designs.find((function(e){return e._id===i}))})),n=t.designs.filter((function(e){return e._id!==i})),a=Object.assign({},Object(A.a)(Object(A.a)({},t),{},{designs:n})),r=e.pages;return r[e.pages.indexOf(t)]=a,Object.assign({},Object(A.a)(Object(A.a)({},e),{},{pages:r}))})),"/"!==d.path){e.next=15;break}return r=m.getQueryData("recent-designs"),m.setQueryData("recent-designs",(function(e){return e.filter((function(e){return e._id!==i}))})),e.abrupt("return",{previousDesigns:t,previousPublicDesigns:n,previousRecentDesigns:r});case 15:return e.abrupt("return",{previousDesigns:t,previousPublicDesigns:n});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(e,t,n){console.log(e),m.setQueryData(["designs",d.path],n.previousDesigns),m.setQueryData([b,"user-public-designs"],n.previousPublicDesigns),n.previousRecentDesigns&&m.setQueryData("recent-designs",n.previousRecentDesigns)},onSettled:function(){m.invalidateQueries("recent-designs"),m.invalidateQueries(["designs",d.path]),m.invalidateQueries([b._id,"user-public-designs"])}}),y=Ie(),w=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation(),x({type:S.ui.setConfirmData,payload:{type:"dise\xf1o",args:{designId:i},actionMutation:v}}),x({type:S.ui.toggleModal,payload:"Confirmation"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(me.a,{className:y.root,elevation:0,children:[Object(a.jsx)(he.a,{component:P.b,to:"/designs/".concat(i),children:Object(a.jsxs)(fe.a,{children:[Object(a.jsxs)("div",{className:y.row,style:{width:"100%"},children:[Object(a.jsx)(ve.a,{className:y.designIcon}),Object(a.jsxs)("div",{className:y.col,children:[Object(a.jsx)("div",{className:y.row,children:Object(a.jsx)(J.a,{className:y.ellipsis,variant:"h5",component:"h2",children:c})}),Object(a.jsx)("div",{className:y.row,children:Object(a.jsx)(J.a,{className:y.ellipsis,variant:"body1",component:"p",children:o.category?o.category.name:"Sin categor\xeda"})})]})]}),Object(a.jsx)("div",{className:y.rowJustified,children:Object(a.jsxs)(J.a,{variant:"body1",component:"p",children:["Tiempo de dise\xf1o: ","".concat(null!==(t=o.workingTime.hours)&&void 0!==t?t:0,":").concat(null!==(n=o.workingTime.minutes)&&void 0!==n?n:0)," Hrs"]})}),Object(a.jsxs)("div",{className:y.rowJustified,style:{marginTop:10,marginBottom:-5},children:[Object(a.jsxs)(J.a,{color:"textSecondary",variant:"body2",children:["\xdaltima modificaci\xf3n: ",new Date(s).toLocaleDateString()]}),Object(a.jsxs)("div",{className:y.row,style:{marginRight:4},children:[Object(a.jsx)(ye.a,{fontSize:"small"}),Object(a.jsx)(J.a,{variant:"body2",children:" 4.6"})]})]})]})}),g&&h.user.uid===b._id&&Object(a.jsx)(R.a,{className:y.deleteIcon,onClick:w,children:Object(a.jsx)(we.a,{})}),Object(a.jsx)(he.a,{component:P.b,to:"/profile/".concat(b._id),children:Object(a.jsxs)(xe.a,{className:y.ownerInfo,children:[Object(a.jsx)(Oe.a,{alt:ke(b.name,b.lastname),children:Ce(b.name,b.lastname)}),Object(a.jsxs)("div",{children:[Object(a.jsx)(J.a,{color:"textPrimary",children:ke(b.name,b.lastname)}),Object(a.jsx)(J.a,{color:"textSecondary",children:null!==(r=b.occupation)&&void 0!==r?r:"Sin ocupaci\xf3n"})]})]})})]})},Le=Object(F.a)({root:{display:"flex",flexDirection:"column",justifyContent:"center"},designsContainer:{width:"100%",display:"flex",flexGrow:1,flexWrap:"wrap",justifyContent:"flex-start",marginTop:15,marginBottom:15},error:{marginTop:15,width:"100%",display:"flex",justifyContent:"center",textAlign:"justify",alignItems:"center"},loadMore:{marginBottom:50},clickHere:{textDecoration:"none",cursor:"pointer","&:hover":{textDecoration:"underline"}}}),Fe=function(e){var t=e.data,n=e.status,r=e.isFetchingNextPage,i=e.fetchNextPage,c=e.hasNextPage,s=e.handleCreateDesign,o=e.label,l=Le(),d=f().authState;return"loading"===n?Object(a.jsx)("p",{children:"Loading..."}):"error"===n?Object(a.jsx)(V.a,{severity:"error",className:l.error,children:"Ha ocurrido un problema al intentar obtener los dise\xf1os. Esto probablemente se deba a un problema de conexi\xf3n, por favor revise que su equipo tenga conexi\xf3n a internet e intente m\xe1s tarde. Si el problema persiste, por favor comun\xedquese con el equipo de soporte."}):Object(a.jsxs)("div",{className:l.root,children:[Object(a.jsx)("div",{className:l.designsContainer,children:t.pages[0].designs.length>0?t.pages.map((function(e,t){return e.designs.map((function(e,t){return Object(a.jsx)(Pe,Object(A.a)({title:e.metadata.name},e),"my-design"+e._id)}))})):"shared-with-me"===o?Object(a.jsx)(V.a,{severity:"info",style:{width:"100%",display:"flex",justifyContent:"center"},children:"No se han encontrado dise\xf1os compartidos. Cuando otros usuarios compartan dise\xf1os contigo aparecer\xe1n aqu\xed."}):"user-profile"===o?t.pages[0].ownerId===d.user.uid?Object(a.jsxs)(V.a,{severity:"info",style:{width:"100%",display:"flex",justifyContent:"center"},children:["No cuentas con dise\xf1os p\xfablicos. Crea tu primer dise\xf1o p\xfablico haciendo click "," ",Object(a.jsx)(q.a,{className:l.clickHere,onClick:s,children:"aqu\xed"}),"!"]}):Object(a.jsx)(V.a,{severity:"info",style:{width:"100%",display:"flex",justifyContent:"center"},children:"Este usuario no cuenta con dise\xf1os p\xfablicos."}):Object(a.jsxs)(V.a,{severity:"info",style:{width:"100%",display:"flex",justifyContent:"center"},children:["No se han encontrado dise\xf1os en este directorio. Crea tu primer dise\xf1o haciendo click "," ",Object(a.jsx)(q.a,{className:l.clickHere,onClick:s,children:"aqu\xed"}),"!"]})}),t&&t.pages[0].designs.length>0&&c&&Object(a.jsx)(B.a,{className:l.loadMore,color:"primary",onClick:function(){return i()},children:r?"Cargando m\xe1s...":"Cargar M\xe1s"})]})},Me=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("folder/user",{path:t},"POST");case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.path,a=t.folderName,e.next=3,m("folder/create",{path:n,folderName:a},"POST");case 3:if((r=e.sent).ok){e.next=6;break}throw new Error(r.message);case 6:return e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=n(602),qe=n(571),We=Object(F.a)((function(e){return{root:{border:"1px solid ".concat(e.palette.divider),width:325,minWidth:325,borderRadius:5,margin:"10px 10px 10px 0px",cursor:"pointer",userSelect:"none",backgroundColor:e.palette.background.paper,textDecoration:"none",color:e.palette.text.primary,"&:hover":{boxShadow:"0px 0px 10px 0 #bcc3d6",background:e.palette.background.designHover}},folderBody:{padding:"15px 10px 15px 20px",display:"flex",justifyContent:"start",alignItems:"center",textDecoration:"none"},folderName:{paddingTop:3,fontSize:20,paddingLeft:20}}})),Qe=function(e){var t=e.name,n=e.path,r=Object(oe.a)(e,["name","path"]),i=We();return Object(a.jsx)(Be.a,Object(A.a)(Object(A.a)({className:i.root,component:P.b,to:"/my-designs".concat(n)},r),{},{children:Object(a.jsxs)("div",{className:i.folderBody,children:[Object(a.jsx)(qe.a,{fontSize:"large"}),Object(a.jsx)(J.a,{className:i.folderName,children:t})]})}))},Ve=Object(F.a)({root:{paddingTop:15,display:"flex",flexDirection:"column",justifyContent:"center"},designsContainer:{width:"100%",display:"flex",flexGrow:1,flexWrap:"wrap",justifyContent:"flex-start"}}),ze=function(e){e.title;var t=e.data,n=Ve();return t&&t.length>0?Object(a.jsx)("div",{className:n.root,children:Object(a.jsx)("div",{className:n.designsContainer,children:t.map((function(e){return Object(a.jsx)(Qe,Object(A.a)({},e),"my-folder"+e._id)}))})}):Object(a.jsx)("div",{})},He=n(560),Ke=n(513),Ue=n(573),Ge=n(572),Je=n(575),Ze=n(576),Xe=Object(F.a)((function(e){return{icon:{marginRight:10}}})),Ye=function(){var e=Xe(),t=Object(L.g)(),n=Object(L.h)(),r=Object(l.b)(),i=f().authState,c=Object(ge.a)(Te,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.cancelQueries("recent-designs");case 2:return e.next=4,r.cancelQueries(["designs","/"]);case 4:return e.next=6,r.cancelQueries([i.user.id,"user-public-designs"]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){r.invalidateQueries("recent-designs"),r.invalidateQueries(["designs","/"]),r.invalidateQueries([i.user.id,"user-public-designs"])},onError:function(e){console.log(e)},onSuccess:function(e){t.push("/designs/".concat(e.design._id))}}),s=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.mutate("/");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(B.a,{variant:"contained",color:"default",style:{margin:10},onClick:s,children:"Crear Dise\xf1o"}),Object(a.jsxs)(He.a,{component:"nav","aria-label":"main mailbox folders",children:[Object(a.jsxs)(Ke.a,{button:!0,selected:n.pathname.includes("/my-designs"),component:P.b,to:"/my-designs",children:[Object(a.jsx)(Ge.a,{className:e.icon}),Object(a.jsx)(Ue.a,{primary:"Mis Dise\xf1os"})]}),Object(a.jsx)(je.a,{}),Object(a.jsxs)(Ke.a,{button:!0,selected:n.pathname.includes("/shared-with-me"),component:P.b,to:"/shared-with-me",children:[Object(a.jsx)(Je.a,{className:e.icon}),Object(a.jsx)(Ue.a,{primary:"Compartidos Conmigo"})]}),Object(a.jsx)(je.a,{}),Object(a.jsxs)(Ke.a,{button:!0,selected:n.pathname.includes("/public-repository"),component:P.b,to:"/public-repository",children:[Object(a.jsx)(Ze.a,{className:e.icon}),Object(a.jsx)(Ue.a,{primary:"Repositorio P\xfablico"})]}),Object(a.jsx)(je.a,{})]})]})},_e=n(613),$e=Object(F.a)((function(e){return{root:{marginTop:20,marginBottom:20,width:"100%",padding:"10px 15px 10px 15px",borderRadius:3,backgroundColor:e.palette.background.default},link:{textDecoration:"none","&:hover":{textDecoration:"underline"}}}})),et=function(){var e=$e(),t=T().uiState.folderPath;return Object(a.jsxs)(_e.a,{className:e.root,children:[1!==t.length?Object(a.jsx)(J.a,{className:e.link,color:"inherit",component:P.b,to:"/my-designs",children:" Mis Dise\xf1os "}):Object(a.jsx)(J.a,{color:"textPrimary",children:" Mis Dise\xf1os "}),function(){if(1!==t.length){var n="",r=t.split("/");return r.shift(),r.map((function(r){var i=n+="/"+r;return Object(a.jsx)("div",{style:{display:"flex"},children:t===i?Object(a.jsxs)(J.a,{color:"textPrimary",children:[r," "]}):Object(a.jsxs)(J.a,{className:e.link,color:"inherit",component:P.b,to:"/my-designs".concat(i),children:[r," "]})},i)}))}}()]})},tt=n(302),nt=n(577),at=Object(F.a)((function(e){return{root:{border:"1px solid ".concat(e.palette.divider),display:"flex",flexDirection:"column",justifyContent:"space-between",width:325,minWidth:325,height:198,margin:"10px 10px 10px 0px",borderRadius:10},ownerInfo:{borderTop:"1px solid ".concat(e.palette.divider),paddingLeft:15,paddingRight:15,paddingTop:10},row:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},col:{width:"80%",display:"flex",flexDirection:"column"}}})),rt=function(){var e=at();return Object(a.jsxs)(me.a,{className:e.root,children:[Object(a.jsxs)(fe.a,{children:[Object(a.jsxs)("div",{className:e.row,children:[Object(a.jsx)(nt.a,{variant:"rect",width:35,height:43}),Object(a.jsxs)("div",{className:e.col,children:[Object(a.jsxs)("div",{className:e.row,style:{marginLeft:-5},children:[Object(a.jsx)(nt.a,{style:{marginTop:-3},animation:"wave",height:33,width:"80%"}),Object(a.jsx)(nt.a,{variant:"circle",width:20,height:20})]}),Object(a.jsx)("div",{className:e.row,style:{marginLeft:-5},children:Object(a.jsx)(nt.a,{style:{marginTop:-3},animation:"wave",height:23,width:"70%"})})]})]}),Object(a.jsx)("div",{className:e.row,children:Object(a.jsx)(nt.a,{animation:"wave",height:20,width:"70%"})}),Object(a.jsxs)("div",{className:e.row,children:[Object(a.jsxs)("div",{className:e.row,style:{marginTop:14,marginBottom:-5},children:[Object(a.jsx)(nt.a,{animation:"wave",height:20,width:"70%"}),Object(a.jsx)(nt.a,{variant:"circle",width:13,height:13,style:{marginTop:2,marginRight:5}})]}),Object(a.jsx)(nt.a,{animation:"wave",height:20,width:"5%",style:{marginTop:14,marginBottom:-5}})]})]}),Object(a.jsxs)(xe.a,{className:e.ownerInfo,children:[Object(a.jsx)(nt.a,{variant:"circle",width:40,height:40,style:{marginBottom:3}}),Object(a.jsxs)("div",{className:e.col,style:{marginBottom:3},children:[Object(a.jsx)(nt.a,{animation:"wave",height:20,width:"100%"}),Object(a.jsx)(nt.a,{animation:"wave",height:20,width:"80%"})]})]})]})},it=Object(F.a)({root:{paddingTop:15,marginBottom:15},recentDesigns:{width:"100%",display:"flex",flexGrow:1,flexWrap:"nowrap",justifyContent:"flex-start",marginTop:15},title:{}}),ct=function(e){var t=e.width,n=(e.height,it()),r=Math.trunc(t/345),i=Object(pe.a)("recent-designs",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ae());case 1:case"end":return e.stop()}}),e)})))),c=i.isLoading,s=i.isError,o=i.data;if(s)return Object(a.jsx)("div",{});var l=function(){return Array.from(Array(r).keys()).map((function(e){return Object(a.jsx)(rt,{},"recent-design-skeleton-".concat(e))}))},d=function(){return o.map((function(e){return Object(a.jsx)(Pe,Object(A.a)(Object(A.a)({title:e.metadata.name},e),{},{canDelete:!1}),"recent"+e._id)}))};return Object(a.jsxs)("div",{className:n.root,children:[o&&0!==o.length?Object(a.jsxs)("div",{className:n.title,children:[Object(a.jsx)(J.a,{variant:"h4",children:"Dise\xf1os recientes"}),Object(a.jsx)(je.a,{})]}):Object(a.jsx)("div",{}),o&&o.length>0?o.length>r?Object(a.jsx)(tt.a,{className:n.recentDesigns,style:{cursor:"grab"},children:c?l():d()}):Object(a.jsx)("div",{className:n.recentDesigns,children:c?l():d()}):Object(a.jsx)("div",{})]})},st=n(579),ot=n(57),lt=Object(F.a)((function(e){return{title:{display:"flex",justifyContent:"space-between"},close:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},folderNameInput:{marginTop:20,marginBottom:20}}})),dt=function(){var e=lt(),t=T(),n=t.uiState,i=t.dispatch,c=n.folderPath,s=n.folder,o=n.isFolderModalOpen,d=Object(l.b)(),p=Object(ot.b)().enqueueSnackbar,g=Object(r.useState)(null),m=Object(b.a)(g,2),h=m[0],f=m[1],x=Object(r.useState)(s.name),O=Object(b.a)(x,2),v=O[0],y=O[1],w=Object(ge.a)(Re,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.cancelQueries(["folders",c]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){d.invalidateQueries(["folders",c])},onError:function(e){p(e.message,{variant:"error",autoHideDuration:2e3})},onSuccess:function(e){k()}}),k=function(){i({type:S.ui.toggleModal,payload:"Folder"}),i({type:S.ui.setFolder,payload:{_id:null,name:""}}),f(null)},C=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===v.trim()){e.next=5;break}return e.next=3,w.mutate({path:c,folderName:v});case 3:e.next=6;break;case 5:f("Este campo es obligatorio.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(K.a,{fullWidth:!0,open:o,"aria-labelledby":"form-dialog-title",children:[Object(a.jsxs)("div",{className:e.title,children:[Object(a.jsx)(U.a,{id:"form-dialog-title",onClose:k,children:s._id?"Editar Carpeta":"Nueva Carpeta"}),Object(a.jsx)(R.a,{className:e.close,"aria-label":"close",onClick:k,children:Object(a.jsx)(st.a,{})})]}),Object(a.jsxs)(Z.a,{children:[Object(a.jsxs)(J.a,{style:{marginBottom:20},children:["Usted est\xe1 por ",s._id?"editar":"crear"," una nueva carpeta. Por favor ingrese el ",s._id?"nuevo":""," nombre para su carpeta en la siguiente entrada de texto."]}),Object(a.jsx)(J.a,{variant:"caption",children:"Importante: No puede existir una carpeta en el directorio con el mismo nombre."}),Object(a.jsx)(M.a,{className:e.folderNameInput,error:!!h,helperText:h,margin:"dense",variant:"outlined",name:"name",value:v,onChange:function(e){var t=e.target;h&&f(null),y(t.value)},label:"Nombre Carpeta",type:"text",fullWidth:!0})]}),Object(a.jsxs)(X.a,{children:[Object(a.jsx)(B.a,{onClick:k,children:"Cancelar"}),Object(a.jsx)(B.a,{variant:"contained",color:"primary",onClick:C,children:"Crear Carpeta"})]})]})},ut=Object(F.a)((function(e){return{leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},workspace:{paddingLeft:30,paddingRight:30,background:e.palette.background.workSpace,minHeight:"calc(100vh - 128px)"},rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},icon:{marginRight:10},breadCrumbs:{marginTop:20,marginBottom:20,width:"100%",padding:"10px 15px 10px 15px",borderRadius:3,backgroundColor:e.palette.background.default},designsAndFoldersContainer:{paddingTop:15},link:{textDecoration:"none"},sectionTitle:Object(C.a)({width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",alignItems:"flex-end",paddingBottom:5},e.breakpoints.down("xs"),{flexDirection:"column",alignItems:"start",justifyContent:"center"}),button:{height:35}}})),jt=function(){var e=ut(),t=Object(L.g)(),n=Object(L.i)(),i=Object(r.useRef)(null),c=T(),s=c.uiState,o=c.dispatch,d=Object(l.b)(),p=f().authState,g=Object(r.useState)(0),m=Object(b.a)(g,2),h=m[0],x=m[1],O=Object(r.useState)(0),v=Object(b.a)(O,2),y=v[0],w=v[1];Object(r.useEffect)((function(){o({type:S.ui.updateFolderPath,payload:n.urlPath?"/"+n.urlPath:"/"})}),[o,n]);var k=s.folderPath,C=n.urlPath?k.split("/")[k.split("/").length-1]:"Mis Dise\xf1os",N=Object(be.a)(["designs",k],function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageParam,a=void 0===n?0:n,e.next=3,Se(k,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{refetchOnWindowFocus:!1,getNextPageParam:function(e,t){if(e.nPages!==t.length)return e.from}}),D=Object(pe.a)(["folders",k],Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(k);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}),E=Object(ge.a)(Te,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.cancelQueries("recent-designs");case 2:return e.next=4,d.cancelQueries(["designs",k]);case 4:return e.next=6,d.cancelQueries([p.user.id,"user-public-designs"]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){d.invalidateQueries("recent-designs"),d.invalidateQueries(["designs",k]),d.invalidateQueries([p.user.id,"user-public-designs"])},onError:function(e){console.log(e)},onSuccess:function(e){t.push("/designs/".concat(e.design._id))}});Object(r.useEffect)((function(){i.current&&(w(i.current.offsetHeight),x(i.current.offsetWidth))}),[i]);var I=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"/",e.next=3,E.mutate(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o({type:S.ui.toggleModal,payload:"Folder"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsx)(G.a,{item:!0,xs:12,md:3,lg:2,className:e.leftPanel,children:Object(a.jsx)(Ye,{})}),Object(a.jsxs)(G.a,{item:!0,xs:12,md:6,lg:8,ref:i,className:e.workspace,children:[Object(a.jsx)(et,{}),"/"===k&&Object(a.jsx)(ct,{id:"recent",width:h,height:y}),Object(a.jsxs)("div",{className:e.designsAndFoldersContainer,children:[Object(a.jsxs)("div",{className:e.sectionTitle,children:[Object(a.jsx)(J.a,{variant:"h4",children:"/"===k?"Mis Dise\xf1os":C}),Object(a.jsxs)(ue.a,{className:e.button,children:[Object(a.jsx)(B.a,{variant:"outlined",fullWidth:!0,size:"large",color:"default",onClick:function(e){return I(e,k)},children:"Crear Dise\xf1o"}),Object(a.jsx)(B.a,{variant:"outlined",fullWidth:!0,size:"large",color:"default",onClick:P,children:"Crear Carpeta"})]})]}),Object(a.jsx)(je.a,{}),Object(a.jsx)(ze,Object(A.a)({},D)),Object(a.jsx)(Fe,Object(A.a)(Object(A.a)({},N),{},{handleCreateDesign:function(e){return I(e,k)}}))]})]}),Object(a.jsx)(G.a,{item:!0,xs:12,md:3,lg:2,className:e.rightPanel})]}),Object(a.jsx)(dt,{})]})},bt=n(30),pt=n(303),gt=n.n(pt),mt=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("user/".concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("user/search/",{filter:t,from:n},"POST");case 2:if((a=e.sent).ok){e.next=5;break}throw new Error(a.message);case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ft=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uid,a=t.contacts,e.prev=1,e.next=4,m("user/".concat(n),{newData:{contacts:a}},"PUT");case 4:if((r=e.sent).ok){e.next=7;break}throw new Error(r.message);case 7:return e.abrupt("return",r.data);case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),xt=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a,r,i,c,s,o,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uid,a=t.name,r=t.lastname,i=t.occupation,c=t.institution,s=t.country,o=t.city,l=t.description,e.prev=1,e.next=4,m("user/".concat(n),{newData:{uid:n,name:a,lastname:r,occupation:i,institution:c,country:s,city:o,description:l}},"PUT");case 4:if((d=e.sent).ok){e.next=7;break}throw new Error(d.message);case 7:return e.abrupt("return",d.data);case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),Ot=n(581),vt=n(582),yt=n(583),wt=n(584),kt=n(122),Ct=n.n(kt),At=Object(F.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},photoProfile:{width:e.spacing(30),height:e.spacing(30),marginTop:e.spacing(2),marginBottom:e.spacing(2)},errorContainer:{display:"flex",width:"100%",justifyContent:"center"},error:{marginTop:15,minWidth:"50%",display:"flex",justifyContent:"center",textAlign:"justify",alignItems:"center"}}})),St=i.a.memo((function(){var e,t=At(),n=Object(l.b)(),r=T(),i=r.uiState,c=r.dispatch,s=f().authState,o=Object(L.i)().uid,d=Object(ot.b)().enqueueSnackbar,p=Object(pe.a)(["user-profile",o],Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}),g=p.isLoading,m=p.isError,h=p.data,x=H({name:h.name,lastname:h.lastname,occupation:h.occupation,institution:h.institution,country:h.country,city:h.city,description:h.description}),O=Object(b.a)(x,3),v=O[0],y=O[1],w=O[2],k=v.name,C=v.lastname,N=v.occupation,D=v.institution,E=v.country,I=v.city,P=v.description,F=Object(ge.a)(xt,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cancelQueries(["user-profile",o]);case 2:return t=n.getQueryData(["user-profile",o]),a=["user-profile",o],n.setQueryData(a,(function(e){return Object.assign({},Object(A.a)(Object(A.a)({},e),{},{uid:o,name:k,lastname:C,occupation:N,institution:D,country:E,city:I,description:P}))})),e.abrupt("return",{previousUserProfile:t});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(e,t){console.log(e),n.setQueryData(["user-profile",o],t.previousUserProfile)},onSettled:function(){n.invalidateQueries(["user-profile",o])}});if(m)return Object(a.jsx)("div",{className:t.errorContainer,children:Object(a.jsx)(V.a,{severity:"error",className:t.error,children:"Ha ocurrido un problema al intentar obtener el usuario en la base de datos. Esto probablemente se deba a un problema de conexi\xf3n, por favor revise que su equipo tenga conexi\xf3n a internet e intente m\xe1s tarde. Si el problema persiste, por favor comun\xedquese con el equipo de soporte."})});if(g)return Object(a.jsx)(J.a,{children:"Cargando..."});var q=function(){c({type:S.ui.toggleModal,payload:"EditProfile"}),w()},W=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,F.mutate({uid:s.user.uid,name:k,lastname:C,occupation:N,institution:D,country:E,city:I,description:P});case 3:c({type:S.ui.toggleModal,payload:"EditProfile"}),d("Su perfil se ha guardado correctamente",{variant:"success",autoHideDuration:2e3});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(K.a,{onClose:q,"aria-labelledby":"customized-dialog-title",open:i.isEditProfileModalOpen,children:[Object(a.jsxs)(U.a,{id:"customized-dialog-title",onClose:q,children:["Editar perfil",Object(a.jsx)(R.a,{"aria-label":"close",className:t.closeButton,onClick:q,children:Object(a.jsx)(Ct.a,{})})]}),Object(a.jsx)(Z.a,{dividers:!0,children:Object(a.jsxs)(G.a,{container:!0,spacing:1,children:[Object(a.jsx)(G.a,{container:!0,alignItems:"center",justify:"center",children:Object(a.jsx)(Oe.a,{alt:h.name+" "+h.lastname,className:t.photoProfile,src:null!==(e=h.img)&&void 0!==e?e:""})}),Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(M.a,{variant:"outlined",margin:"dense",name:"name",value:k,onChange:y,label:"Nombres",type:"text",fullWidth:!0})}),Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(M.a,{variant:"outlined",margin:"dense",name:"lastname",value:C,onChange:y,label:"Apellidos",type:"text",fullWidth:!0})}),Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(M.a,{variant:"outlined",margin:"dense",name:"country",value:null!==E&&void 0!==E?E:"",onChange:y,label:"Pa\xeds",type:"text",fullWidth:!0})}),Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(M.a,{variant:"outlined",margin:"dense",name:"city",value:null!==I&&void 0!==I?I:"",onChange:y,label:"Ciudad",type:"text",fullWidth:!0})}),Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(M.a,{variant:"outlined",margin:"dense",name:"occupation",value:null!==N&&void 0!==N?N:"",onChange:y,label:"Ocupaci\xf3n",type:"text",fullWidth:!0})}),Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(M.a,{variant:"outlined",margin:"dense",name:"institution",value:null!==D&&void 0!==D?D:"",onChange:y,label:"Instituci\xf3n",type:"text",fullWidth:!0})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsx)(M.a,{multiline:!0,variant:"outlined",margin:"dense",name:"description",rows:4,value:null!==P&&void 0!==P?P:"",onChange:y,label:"Descripci\xf3n",type:"text",fullWidth:!0})})]})}),Object(a.jsxs)(X.a,{children:[Object(a.jsx)(B.a,{onClick:q,children:"Cancelar"}),Object(a.jsx)(B.a,{variant:"contained",color:"primary",onClick:W,children:"Guardar"})]})]})})})),Nt=Object(F.a)((function(e){return{root:{display:"flex",width:"100%",padding:5,borderRadius:10,border:"1px solid ".concat(e.palette.divider),marginTop:10,cursor:"pointer",backgroundColor:e.palette.background.design,"&:hover":{zIndex:.5,background:e.palette.background.designHover}},card:{display:"flex",width:"100%"},body:{display:"flex",marginLeft:10,flexDirection:"column",justifyContent:"center"},photo:{margin:10,width:e.spacing(8),height:e.spacing(8)},name:{},location:{}}})),Dt=function(e){var t,n=e._id,r=e.name,i=e.lastname,c=e.city,s=e.country,o=(e.scoreMean,e.img),l=e.occupation,d=e.onClick,u=Nt(),j=Object(L.g)(),b=function(e,t){e.stopPropagation(),d&&d(),j.push("/profile/".concat(t))};return Object(a.jsx)("div",{className:u.root,onClick:function(e){return b(e,n)},children:Object(a.jsxs)("div",{className:u.card,children:[Object(a.jsx)(Oe.a,{className:u.photo,alt:ke(r,i),src:null!==o&&void 0!==o?o:"",children:Object(a.jsx)(J.a,{variant:"h5",children:Ce(r,i)})}),Object(a.jsxs)("div",{className:u.body,children:[Object(a.jsx)("div",{className:u.name,children:Object(a.jsx)(J.a,{variant:"h5",color:"textPrimary",children:r+" "+i})}),Object(a.jsx)("div",{className:u.location,children:Object(a.jsx)(J.a,{variant:"subtitle1",color:"textSecondary",children:c&&s?c+", "+s:null!==(t=null!==c&&void 0!==c?c:s)&&void 0!==t?t:"Sin locaci\xf3n"})}),Object(a.jsx)("div",{children:Object(a.jsx)(J.a,{variant:"subtitle1",color:"textSecondary",children:l||"Sin ocupaci\xf3n"})})]})]})})},Tt=Object(F.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),Et=function(){var e=Tt(),t=T(),n=t.uiState,r=t.dispatch,i=Object(L.i)().uid,c=Object(pe.a)(["user-profile",i],Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}).data,s=function(){r({type:S.ui.toggleModal,payload:"Contacts"})};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(K.a,{onClose:s,"aria-labelledby":"customized-dialog-title",open:n.isContactsModalOpen,children:[Object(a.jsxs)(U.a,{id:"customized-dialog-title",onClose:s,children:["Contactos",Object(a.jsx)(R.a,{"aria-label":"close",className:e.closeButton,onClick:s,children:Object(a.jsx)(Ct.a,{})})]}),Object(a.jsx)(Z.a,{dividers:!0,children:c.contacts.map((function(e){return Object(a.jsx)(Dt,Object(A.a)(Object(A.a)({},e),{},{onClick:s}),e._id)}))}),Object(a.jsx)(X.a,{children:Object(a.jsx)(B.a,{onClick:s,children:"Cerrar"})})]})})},It=Object(F.a)((function(e){return{designPanel:{flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider),background:e.palette.background.workSpace,minHeight:"calc(100vh - 128px)"},photoProfile:{width:e.spacing(30),height:e.spacing(30),marginTop:e.spacing(2),marginBottom:e.spacing(2)},spaceFirstDataFirstData:{marginBottom:e.spacing(1)},centerGrid:{display:"flex",alignItems:"center",justifyItems:"center"},spaceSecondData:{marginBottom:e.spacing(2)},spaceData:{marginLeft:e.spacing(5),marginBottom:e.spacing(2),marginRight:e.spacing(5)},spaceDesign:{marginLeft:e.spacing(7),marginTop:e.spacing(2),marginRight:e.spacing(7)},spaceIcons:{marginRight:e.spacing(1)},errorContainer:{display:"flex",width:"100%",justifyContent:"center"},error:{marginTop:15,minWidth:"50%",display:"flex",justifyContent:"center",textAlign:"justify",alignItems:"center"}}})),Pt=function(){var e,t=It(),n=Object(l.b)(),r=f(),i=r.authState,c=r.setAuthState,s=T().dispatch,o=Object(L.g)(),d=Object(L.i)().uid,b=Object(pe.a)(["user-profile",d],Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(d);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}),p=b.isLoading,g=b.isError,m=b.data,h=b.error,x=b.refetch,O=Object(be.a)([d,"user-public-designs"],function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageParam,a=void 0===n?0:n,e.next=3,Ne(d,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{refetchOnWindowFocus:!1,getNextPageParam:function(e,t){if(e.nPages!==t.length)return e.from}}),v=Object(ge.a)(ft,{onSuccess:function(e,t,a){var r=t.uid,i=t.contacts;c((function(e){return Object(A.a)(Object(A.a)({},e),{},{user:Object.assign({},Object(A.a)(Object(A.a)({},e.user),{},{contacts:i}))})})),n.invalidateQueries(["user-profile",r])}}),y=Object(ge.a)(Te,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cancelQueries("recent-designs");case 2:return e.next=4,n.cancelQueries("designs");case 4:return e.next=6,n.cancelQueries([i.user.id,"user-public-designs"]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){n.invalidateQueries("recent-designs"),n.invalidateQueries("designs"),n.invalidateQueries([i.user.id,"user-public-designs"])},onError:function(e){console.log(e)},onSuccess:function(e){o.push("/designs/".concat(e.design._id))}}),w=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.mutate({path:"/",isPublic:!0});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(g)return Object(a.jsx)("div",{className:t.errorContainer,children:Object(a.jsx)(V.a,{severity:"error",className:t.error,children:"Ha ocurrido un problema al intentar obtener el usuario en la base de datos. Esto probablemente se deba a un problema de conexi\xf3n, por favor revise que su equipo tenga conexi\xf3n a internet e intente m\xe1s tarde. Si el problema persiste, por favor comun\xedquese con el equipo de soporte."})});if(p)return Object(a.jsx)(J.a,{children:"Cargando..."});var k=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v.mutate({uid:i.user.uid,contacts:[].concat(Object(bt.a)(i.user.contacts),[d])});case 3:return n.invalidateQueries(["user-profile",d]),e.next=6,x();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v.mutate({uid:i.user.uid,contacts:i.user.contacts.filter((function(e){return e!==d}))});case 3:n.invalidateQueries(["user-profile",d]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return g?Object(a.jsxs)(J.a,{children:["Error: ",h.message]}):p?Object(a.jsx)(J.a,{children:"Cargando..."}):Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsxs)(G.a,{item:!0,xs:12,sm:3,children:[Object(a.jsx)(G.a,{container:!0,alignItems:"center",justify:"center",children:Object(a.jsx)(Oe.a,{alt:m.name+" "+m.lastname,className:t.photoProfile,src:null!==(e=m.img)&&void 0!==e?e:""})}),Object(a.jsx)(G.a,{container:!0,alignItems:"center",justify:"center",children:m&&Object(a.jsx)(J.a,{align:"center",variant:"h5",component:"h2",children:m.name+" "+m.lastname})}),Object(a.jsx)(G.a,{container:!0,alignItems:"center",justify:"center",children:m&&m.occupation&&Object(a.jsx)(J.a,{className:t.spaceFirstData,color:"textSecondary",children:m.occupation})}),Object(a.jsxs)(G.a,{container:!0,alignItems:"center",justify:"center",className:t.spaceFirstData,children:[Object(a.jsx)(G.a,{item:!0,children:m.contacts.length>0?Object(a.jsx)(R.a,{onClick:function(){s({type:S.ui.toggleModal,payload:"Contacts"})},children:Object(a.jsx)(Je.a,{})}):Object(a.jsx)(Je.a,{})}),Object(a.jsx)(G.a,{item:!0,children:Object(a.jsxs)(J.a,{style:{marginLeft:8},children:[" ",m.contacts.length]})}),"\u30fb",Object(a.jsx)(G.a,{item:!0,children:Object(a.jsx)(ye.a,{})}),Object(a.jsx)(G.a,{item:!0,children:Object(a.jsxs)(J.a,{style:{marginLeft:8},children:[" ",m.scoreMean]})})]}),Object(a.jsx)(G.a,{container:!0,alignItems:"center",justify:"center",className:t.spaceSecondData,children:i.user.uid===d?Object(a.jsx)(B.a,{variant:"outlined",size:"small",onClick:function(){s({type:S.ui.toggleModal,payload:"EditProfile"})},startIcon:Object(a.jsx)(Ot.a,{}),children:"Editar perfil"}):i.user.contacts.includes(d)?Object(a.jsx)(B.a,{variant:"outlined",size:"small",onClick:C,startIcon:Object(a.jsx)(st.a,{}),children:"Eliminar de mis contactos"}):Object(a.jsx)(B.a,{variant:"outlined",size:"small",onClick:k,startIcon:Object(a.jsx)(vt.a,{}),children:"Agregar a mis contactos"})}),Object(a.jsx)(je.a,{className:t.spaceData}),Object(a.jsxs)(G.a,{className:t.spaceData,children:[m&&m.institution&&Object(a.jsxs)(G.a,{container:!0,className:t.spaceSecondData,children:[Object(a.jsx)(G.a,{item:!0,children:Object(a.jsx)(yt.a,{className:t.spaceIcons})}),Object(a.jsx)(G.a,{item:!0,children:Object(a.jsx)(J.a,{className:t.spaceFirstData,color:"textSecondary",children:m.institution})})]}),m&&m.city&&m.country&&Object(a.jsxs)(G.a,{container:!0,className:t.spaceSecondData,children:[Object(a.jsx)(G.a,{item:!0,children:Object(a.jsx)(gt.a,{className:t.spaceIcons})}),Object(a.jsx)(G.a,{item:!0,children:Object(a.jsx)(J.a,{className:t.spaceFirstData,color:"textSecondary",children:m.city+", "+m.country})})]}),m&&Object(a.jsxs)(G.a,{container:!0,className:t.spaceSecondData,children:[Object(a.jsx)(G.a,{item:!0,children:Object(a.jsx)(wt.a,{className:t.spaceIcons})}),Object(a.jsx)(G.a,{item:!0,children:Object(a.jsx)(J.a,{className:t.spaceFirstData,color:"textSecondary",children:m.email})})]}),Object(a.jsx)(je.a,{className:t.spaceSecondData}),m&&m.description&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{color:"textSecondary",className:t.spaceSecondData,children:"Descripci\xf3n"}),Object(a.jsx)(J.a,{children:m.description})]})]})]}),Object(a.jsx)(G.a,{item:!0,xs:12,sm:9,className:t.designPanel,children:Object(a.jsxs)(G.a,{className:t.spaceDesign,children:[Object(a.jsx)(J.a,{variant:"h4",children:"Dise\xf1os P\xfablicos"}),Object(a.jsx)(je.a,{}),i.user.uid===d&&Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(St,{})}),Object(a.jsx)(Et,{}),Object(a.jsx)(Fe,Object(A.a)(Object(A.a)({},O),{},{label:"user-profile",handleCreateDesign:w}))]})})]})},Lt=n(591),Ft=n(589),Mt=n(590),Rt=n(617),Bt=n(314),qt=n(592),Wt=n(593),Qt=n(594),Vt=n(304),zt=n.n(Vt),Ht=n(588),Kt=n(312),Ut=n(200),Gt=n(585),Jt=n(586),Zt=n(587),Xt=Object(r.createContext)();function Yt(){var e=Object(r.useContext)(Xt);if(void 0===e)throw new Error("useUserConfigState must be used within a UserConfigProvider");return e}var _t=function(e){var t=e.children,n=f().authState,i=Object(r.useState)({darkTheme:!1,modeAdvanced:!1}),c=Object(b.a)(i,2),s=c[0],o=c[1];Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("darkTheme"));null!==e&&o((function(t){return Object(A.a)(Object(A.a)({},t),{},{darkTheme:e})}))}),[]),Object(r.useEffect)((function(){null!==n.user&&localStorage.setItem("darkTheme",JSON.stringify(s.darkTheme))}),[n.user,s.darkTheme]);var l,d=(l=s.darkTheme,Object(Kt.a)({palette:{type:l?"dark":"light",primary:{dark:Ut.a[500],light:Gt.a[500],main:l?Ut.a[500]:Gt.a[500]},secondary:{dark:Jt.a[900],light:Zt.a[500],main:l?Jt.a[900]:Zt.a[500]},text:{primary:l?"#F4F4F4":"#36393F"},background:{default:l?"#36393F":"#F4F4F4",paper:l?"#36393F":"#F4F4F4",workSpace:l?"#2F3136":"#FEFEFE",navbar:l?"#202225":"#DCDCDC",design:l?"#36393F":"#F4F4F4",designHover:l?"#393D46":"#F6F6F6"}}}));return Object(a.jsx)(Xt.Provider,{value:{userConfig:s,setUserConfig:o},children:Object(a.jsx)(Ht.a,{theme:d,children:t})})},$t=Object(F.a)((function(e){var t;return{root:{flexGrow:1},title:{flexGrow:1,color:e.palette.text.primary},logo:{width:e.spacing(5),height:e.spacing(5)},brand:Object(C.a)({display:"flex",alignItems:"center",textDecoration:"none",marginLeft:5,marginRight:5},e.breakpoints.down("xs"),{marginTop:20,marginBottom:10}),search:Object(C.a)({marginLeft:5,marginRight:5},e.breakpoints.down("xs"),{marginTop:5,marginBottom:5}),searchForm:{display:"flex",alignItems:"center"},userAndOptions:Object(C.a)({marginLeft:5,marginRight:5},e.breakpoints.down("xs"),{marginTop:5,marginBottom:10}),navbarColor:{background:e.palette.background.navbar},navbarLetter:{textDecoration:"none",color:e.palette.text.primary,cursor:"pointer"},menuColor:{background:e.palette.background.menu},toolbar:(t={display:"flex",flexDirection:"row",justifyContent:"space-between"},Object(C.a)(t,e.breakpoints.down("xs"),{flexDirection:"column",justifyContent:"center"}),Object(C.a)(t,e.breakpoints.up("sm"),{flexDirection:"row",justifyContent:"space-between"}),t)}})),en=function(){var e=Object(l.b)(),t=Object(L.g)(),n=Object(r.useState)(null),i=Object(b.a)(n,2),c=i[0],s=i[1],o=Yt(),d=o.userConfig,p=o.setUserConfig,g=T().dispatch,m=f(),h=m.authState,x=m.logout,O=Object(r.useState)(""),v=Object(b.a)(O,2),y=v[0],w=v[1],k=function(e){p(Object(A.a)(Object(A.a)({},d),{},Object(C.a)({},e.target.name,e.target.checked)))},N=function(){var e=Object(j.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),y.trim().length>0&&(t.push("/users/search?q=".concat(y.trim())),w(""));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=$t();return Object(a.jsx)("div",{className:D.root,children:Object(a.jsx)(Ft.a,{position:"static",className:D.navbarColor,elevation:0,children:Object(a.jsxs)(Mt.a,{className:D.toolbar,children:[Object(a.jsxs)(Be.a,{className:D.brand,component:P.b,to:"/",children:[Object(a.jsx)(Oe.a,{className:D.logo,src:z,alt:"Logo"}),Object(a.jsx)(J.a,{variant:"h6",className:D.title,children:"LAD"})]}),h.token?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:D.search,children:Object(a.jsxs)("form",{className:D.searchForm,onSubmit:N,noValidate:!0,children:[Object(a.jsx)(Rt.a,{margin:"dense",variant:"outlined",name:"filter",value:y,type:"text",placeholder:"Buscar usuario",onChange:function(e){var t=e.target;w(t.value)}}),Object(a.jsx)(R.a,{type:"submit",className:D.iconButton,"aria-label":"search",children:Object(a.jsx)(Lt.a,{})})]})}),Object(a.jsxs)("div",{className:D.userAndOptions,style:{display:"flex",alignItems:"center"},children:[Object(a.jsx)(J.a,{className:D.navbarLetter,component:P.b,to:"/profile/".concat(h.user.uid),children:h.user.name}),Object(a.jsx)(R.a,{onClick:function(e){s(e.currentTarget)},children:Object(a.jsx)(zt.a,{})})]}),Object(a.jsxs)(Bt.a,{anchorEl:c,open:Boolean(c),anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},onClose:function(){s(null)},children:[Object(a.jsx)(qt.a,{children:Object(a.jsx)(Wt.a,{control:Object(a.jsx)(Qt.a,{checked:d.darkTheme,onChange:k,name:"darkTheme"}),label:"Tema Oscuro"})}),Object(a.jsx)(qt.a,{children:Object(a.jsx)(Wt.a,{control:Object(a.jsx)(Qt.a,{checked:d.modeAdvanced,onChange:k,name:"modeAdvanced"}),label:"Modo Avanzado"})}),Object(a.jsx)(qt.a,{children:Object(a.jsx)(B.a,{color:"primary",onClick:function(){e.clear(),s(null),x()},children:"Cerrar sesi\xf3n"})})]})]}):Object(a.jsxs)(ue.a,{variant:"text","aria-label":"text primary button group",children:[Object(a.jsx)(B.a,{onClick:function(){g({type:S.ui.toggleModal,payload:"Login"})},children:"Ingresar"}),Object(a.jsx)(B.a,{onClick:function(){g({type:S.ui.toggleModal,payload:"Register"})},children:"Registrarme"})]})]})})})},tn=n(595),nn=Object(F.a)((function(e){return{pos:{width:"fit-content"}}})),an=function(){var e=nn();return Object(a.jsx)(Ft.a,{position:"static",color:"default",children:Object(a.jsx)(tn.a,{maxWidth:"md",className:e.pos,children:Object(a.jsx)(Mt.a,{children:Object(a.jsx)(J.a,{variant:"body1",children:"\xa9 2021 Universidad Cat\xf3lica de Temuco"})})})})},rn=n(601),cn=n(511),sn=Object(F.a)((function(e){return{leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},workspace:{paddingTop:20,paddingLeft:30,paddingRight:30,background:e.palette.background.workSpace,minHeight:"calc(100vh - 128px)"},rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},icon:{marginRight:10}}})),on=function(){var e=sn(),t=Object(be.a)(["shared-designs"],function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageParam,a=void 0===n?0:n,e.next=3,De(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{refetchOnWindowFocus:!1,getNextPageParam:function(e,t){if(e.nPages!==t.length)return e.from}});return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsx)(G.a,{item:!0,xs:12,md:3,lg:2,className:e.leftPanel,children:Object(a.jsx)(Ye,{})}),Object(a.jsxs)(G.a,{item:!0,xs:12,md:6,lg:8,className:e.workspace,children:[Object(a.jsx)(J.a,{variant:"h4",style:{marginBottom:5},children:"Compartidos conmigo"}),Object(a.jsx)(je.a,{}),Object(a.jsx)(Fe,Object(A.a)(Object(A.a)({},t),{},{label:"shared-with-me"}))]}),Object(a.jsx)(G.a,{item:!0,xs:12,md:3,lg:2,className:e.rightPanel})]})})},ln=Object(F.a)((function(e){return{leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},workspace:{paddingLeft:30,paddingRight:30,background:e.palette.background.workSpace,minHeight:"calc(100vh - 128px)"},rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},icon:{marginRight:10}}})),dn=function(){var e=ln();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsx)(G.a,{item:!0,xs:12,md:3,lg:2,className:e.leftPanel,children:Object(a.jsx)(Ye,{})}),Object(a.jsx)(G.a,{item:!0,xs:12,md:6,lg:8,className:e.workspace,children:Object(a.jsx)(J.a,{variant:"h4",children:"Repositorio P\xfablico"})}),Object(a.jsx)(G.a,{item:!0,xs:12,md:3,lg:2,className:e.rightPanel})]})})},un=n(305),jn=n.n(un),bn=Object(F.a)((function(e){return{leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},workspace:{paddingLeft:30,paddingRight:30,paddingBottom:50,background:e.palette.background.workSpace,minHeight:"calc(100vh - 128px)"},rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},icon:{marginRight:10},usersContainer:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:15},errorContainer:{marginTop:15,marginBottom:15,display:"flex",width:"100%",justifyContent:"center"},error:{minWidth:"50%",display:"flex",justifyContent:"center",textAlign:"center",alignItems:"center"},loadMore:{marginTop:50}}})),pn=function(){var e=bn(),t=Object(L.g)(),n=Object(L.h)(),r=jn.a.parse(n.search).q,i=function(e){t.push(e)},c=Object(be.a)("search-users",function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageParam,a=void 0===n?0:n,e.next=3,ht(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{refetchOnWindowFocus:!1,getNextPageParam:function(e,t){if(e.nPages!==t.length)return e.from}}),s=c.data,o=c.status,l=c.error,d=c.isFetchingNextPage,b=c.fetchNextPage,p=c.hasNextPage;return r?"loading"===o?Object(a.jsx)("p",{children:"Loading..."}):"error"===o?Object(a.jsx)(V.a,{severity:"error",className:e.error,children:l.message}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsx)(G.a,{item:!0,xs:12,md:3,lg:2,className:e.leftPanel,children:Object(a.jsxs)(He.a,{component:"nav","aria-label":"main mailbox folders",children:[Object(a.jsxs)(Ke.a,{button:!0,onClick:function(){return i("/my-designs")},children:[Object(a.jsx)(Ge.a,{className:e.icon}),Object(a.jsx)(Ue.a,{primary:"Mis Dise\xf1os"})]}),Object(a.jsx)(je.a,{}),Object(a.jsxs)(Ke.a,{button:!0,onClick:function(){return i("/shared-with-me")},children:[Object(a.jsx)(Je.a,{className:e.icon}),Object(a.jsx)(Ue.a,{primary:"Compartidos Conmigo"})]}),Object(a.jsx)(je.a,{}),Object(a.jsxs)(Ke.a,{button:!0,onClick:function(){return i("/public-repository")},children:[Object(a.jsx)(Ze.a,{className:e.icon}),Object(a.jsx)(Ue.a,{primary:"Repositorio P\xfablico"})]}),Object(a.jsx)(je.a,{})]})}),Object(a.jsx)(G.a,{item:!0,xs:12,md:6,lg:8,className:e.workspace,children:Object(a.jsx)("div",{style:{paddingTop:15},children:s.pages[0].users.length>0?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{variant:"h4",children:"Usuarios encontrados"}),Object(a.jsx)(je.a,{}),Object(a.jsxs)("div",{className:e.usersContainer,children:[s.pages.map((function(e,t){return e.users.map((function(e,t){return Object(a.jsx)(Dt,Object(A.a)({},e),e._id)}))})),s&&p&&Object(a.jsx)(B.a,{className:e.loadMore,color:"primary",onClick:function(){return b()},children:d?"Cargando m\xe1s...":"Cargar M\xe1s"})]})]}):Object(a.jsx)(V.a,{severity:"error",className:e.error,children:"No se han encontrado coincidencias."})})}),Object(a.jsx)(G.a,{item:!0,xs:12,md:3,lg:2,className:e.rightPanel})]})}):Object(a.jsx)("div",{className:e.errorContainer,children:Object(a.jsx)(V.a,{severity:"error",className:e.error,children:"No se ha ingresado filtro para la b\xfasqueda de usuarios. Por favor ingrese informaci\xf3n en la entrada de texto de la barra de navegaci\xf3n para buscar usuarios y presione 'enter' o el \xedcono de b\xfasqueda."})})},gn=n(603),mn=n(600),hn=n(319),fn=n(598),xn=n(610),On=n(559),vn=n(607),yn=n(197),wn=n.n(yn),kn=function(e,t){switch(t.type){case S.design.updateDesign:return Object(A.a)(Object(A.a)({},e),{},{design:t.payload});case S.design.changeMetadataField:return null!==t.payload.subfield?Object(A.a)(Object(A.a)({},e),{},{design:Object(A.a)(Object(A.a)({},e.design),{},{metadata:Object(A.a)(Object(A.a)({},e.design.metadata),{},Object(C.a)({},t.payload.field,Object(A.a)(Object(A.a)({},e.design.metadata[t.payload.field]),{},Object(C.a)({},t.payload.subfield,t.payload.value))))})}):Object(A.a)(Object(A.a)({},e),{},{design:Object(A.a)(Object(A.a)({},e.design),{},{metadata:Object(A.a)(Object(A.a)({},e.design.metadata),{},Object(C.a)({},t.payload.field,t.payload.value))})});case S.design.changeTaskField:var n=e.design.data.learningActivities;return null!==t.payload.subfield?n[t.payload.learningActivityIndex].tasks[t.payload.index][t.payload.field][t.payload.subfield]=t.payload.value:n[t.payload.learningActivityIndex].tasks[t.payload.index][t.payload.field]=t.payload.value,Object(A.a)(Object(A.a)({},e),{},{design:Object(A.a)(Object(A.a)({},e.design),{},{data:Object(A.a)(Object(A.a)({},e.design.data),{},{learningActivities:n})})});case S.design.setCurrentLearningResultField:return Object(A.a)(Object(A.a)({},e),{},{currentLearningResult:Object(A.a)(Object(A.a)({},e.currentLearningResult),{},Object(C.a)({},t.payload.field,t.payload.value))});case S.design.clearCurrentLearningResult:return Object(A.a)(Object(A.a)({},e),{},{currentLearningResult:{category:null,verb:null,description:null,editing:!1,index:null}});case S.design.setCurrentLearningResult:return Object(A.a)(Object(A.a)({},e),{},{currentLearningResult:t.payload});case S.design.setBloomCategories:return Object(A.a)(Object(A.a)({},e),{},{bloomCategories:t.payload});case S.design.setBloomVerbs:return Object(A.a)(Object(A.a)({},e),{},{bloomVerbs:t.payload});case S.design.setDesignPrivileges:return Object(A.a)(Object(A.a)({},e),{},{design:Object(A.a)(Object(A.a)({},e.design),{},{privileges:t.payload})});default:return e}},Cn=Object(r.createContext)();function An(){var e=Object(r.useContext)(Cn);if(void 0===e)throw new Error("useDesignState must be used within a DesignProvider");return e}var Sn={design:null,currentLearningResult:{category:null,verb:null,description:null,editing:!1,index:null},bloomCategories:[],bloomVerbs:[]},Nn=function(e){var t=e.children,n=Object(r.useReducer)(kn,Sn),i=Object(b.a)(n,2),c=i[0],s=i[1];return Object(a.jsx)(Cn.Provider,{value:{designState:c,dispatch:s},children:t})},Dn=n(51),Tn=n(315),En=n(316),In=n(306),Pn=n(21),Ln=n(313),Fn=Object(r.createContext)();function Mn(){var e=Object(r.useContext)(Fn);if(void 0===e)throw new Error("SharedDocContext must be used within a SharedDocProvider");return e}var Rn=function(e){var t=e.children,n=Object(r.useState)(null),i=Object(b.a)(n,2),c=i[0],s=i[1],o=Object(r.useState)(null),l=Object(b.a)(o,2),d=l[0],u=l[1],j=Object(r.useState)(null),p=Object(b.a)(j,2),g=p[0],m=p[1],h=f().authState,x=Object(r.useCallback)((function(e){if(d)return!1;if(!h.user)return!1;var t=["#30bced","#6eeb83","#ffbc42","#ecd444","#ee6352","#9ac2c9","#8acb88","#1be7ff"],n=new Pn.d({guid:e});s(n),u(new Ln.a("ws://learning-activity-designer.herokuapp.com:1234",e,n)),m({name:h.user.name,color:t[Math.floor(Math.random()*t.length)]})}),[d,h.user]),O=Object(r.useCallback)((function(){s(null),u(null),m(null)}),[s,u,m]);return Object(a.jsx)(Fn.Provider,{value:{doc:c,provider:d,connectToDesign:x,clearDoc:O,user:g},children:t})},Bn=(n(380),n(168)),qn=n(307),Wn=n(308),Qn=n(309),Vn=n(89),zn=n(12),Hn=Dn.b.create({name:"placeholder",defaultOptions:{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Placeholder",showOnlyWhenEditable:!0,showOnlyCurrent:!0},addProseMirrorPlugins:function(){var e=this;return[new zn.d({props:{decorations:function(t){var n=t.doc,a=t.selection,r=e.editor.isEditable||!e.options.showOnlyWhenEditable,i=a.anchor,c=[],s=0===n.textContent.length;if(r)return n.descendants((function(t,n){var a=i>=n&&i<=n+t.nodeSize,r=0===t.content.size;if((a||!e.options.showOnlyCurrent)&&r){var o=[e.options.emptyNodeClass];s&&o.push(e.options.emptyEditorClass);var l=Vn.a.node(n,n+t.nodeSize,{class:o.join(" "),"data-empty-text":"function"===typeof e.options.placeholder?e.options.placeholder(t):e.options.placeholder});c.push(l)}return!1})),Vn.b.create(n,c)}}})]}}),Kn=n(310),Un=n(596),Gn=n(597);function Jn(e){var t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText}var Zn=Object(F.a)((function(e){return{root:function(e){e.multiline,e.rowMax,e.focused;return{width:"100%",display:"flex"}},inputContainer:function(t){var n=t.multiline,a=t.rowMax,r=t.focused,i=t.type;return{width:"100%",cursor:"text",height:n&&1===a?"auto":"calc(22px * ".concat(a," + 38px)"),overflow:"auto",borderWidth:r?2:1,borderStyle:"solid",borderColor:r?e.palette.primary.main:e.palette.action.disabled,borderRadius:e.shape.borderRadius,borderTopRightRadius:"number"===i?0:e.shape.borderRadius,borderBottomRightRadius:"number"===i?0:e.shape.borderRadius,"&:hover":{borderColor:r?e.palette.primary.main:e.palette.action.active},"&:focus":{borderColor:r?e.palette.primary.main:e.palette.primary.light}}},actions:function(){return{display:"flex",flexDirection:"column",width:70,justifyContent:"space-between",borderWidth:1,borderStyle:"solid",borderLeftStyle:"none",borderColor:e.palette.action.disabled,borderTopRightRadius:5,borderBottomRightRadius:5}},action:function(){return{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"}},editorx:function(e){var t=e.multiline,n=e.rowMax;return{height:t&&1===n?"auto":"calc(22px * ".concat(n," + 34px)")}},"@global":{".ProseMirror":function(t){t.multiline,t.rowMax;return{height:"100%",overflow:"auto",overflowX:"hidden",width:"100%",fontSize:e.typography.body1.fontSize,fontFamily:e.typography.fontFamily,fontStyle:"normal",paddingTop:"1rem",paddingBottom:"1rem",paddingLeft:10,paddingRight:10}},".ProseMirror p":{marginBlockStart:0,marginBlockEnd:0},".ProseMirror-focused":{border:"0px solid red !important"},".ProseMirror:focus":{outline:"none"},".ProseMirror p.is-editor-empty:first-child::before":{content:"attr(data-empty-text)",float:"left",color:"dark"===e.palette.type?e.palette.grey[400]:e.palette.grey[600],pointerEvents:"none",height:0},"*::-webkit-scrollbar":{width:"0.4em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)"},"*::-webkit-scrollbar-thumb":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)",borderRadius:"15px",backgroundColor:"rgba(0,0,0,.1)"}}}})),Xn=Object(r.forwardRef)((function(e,t){var n=e.name,i=e.multiline,c=e.rowMax,s=void 0===c?1:c,o=e.maxLength,l=e.onChange,d=e.placeholder,u=void 0===d?"":d,j=e.initialvalue,p=void 0===j?"":j,g=e.type,m=void 0===g?"text":g,h=e.max,f=e.min,x=e.deleteOnRemove,O=void 0!==x&&x,v=Object(r.useState)(!1),y=Object(b.a)(v,2),w=y[0],k=y[1],C=Zn({multiline:i,rowMax:s,focused:w,type:m}),A=Object(r.useState)(!1),S=Object(b.a)(A,2),N=S[0],D=S[1],T=Mn(),E=T.doc,I=T.provider,P=T.user,L=Object(r.useState)(null),F=Object(b.a)(L,2),M=F[0],R=F[1],B=Object(r.useCallback)((function(){return Jn(null===M||void 0===M?void 0:M.getHTML().toString()).trim().toString()}),[M]),q=Object(r.useCallback)((function(e){null===M||void 0===M||M.commands.first((function(t){var n=t.commands;return[function(){return n.setContent(e.toString())}]}))}),[M]);if(Object(r.useImperativeHandle)(t,(function(){return{clearText:function(){E&&M&&q("")}}})),Object(r.useEffect)((function(){return function(){E&&M&&O&&q("")}}),[E,M,q,O]),M||R(new Dn.a({editorProps:"number"===m?{handleTextInput:function(e,t,n,a){return!(!isNaN(a)||"-"===a)||("0"===a&&"00"===e.dom.firstChild.textContent||("-"===a&&e.dom.firstChild.textContent.match(/-/g).length>1||"-"===a&&null!==f&&f>=0||"-"===a&&0!==e.dom.firstChild.textContent.indexOf("-")||(null!==h&&parseInt(e.dom.firstChild.textContent)>h||null!==f&&parseInt(e.dom.firstChild.textContent)<f)))},handlePaste:function(e,t,n){var a;if(1!==n.content.childCount)return!0;if(isNaN(n.content.firstChild.textContent))return!0;var r=e.dom.firstChild.textContent+n.content.firstChild.textContent;return!!(r.includes("-")&&(null===(a=r.match(/-/g))||void 0===a?void 0:a.length)>1||r.includes("-")&&0!==r.indexOf("-"))||(null!==h&&parseInt(r)>h||null!==f&&parseInt(r)<f)}}:{},extensions:[qn.a.extend({content:i?"block+":"block"}),Wn.a,Qn.a,Hn.configure({placeholder:u.charAt(0).toUpperCase()+u.slice(1)}),En.a.configure({provider:I,user:P}),Tn.a.configure({document:E,field:n}),Kn.a.configure({limit:o})],onUpdate:function(e){var t=Jn(e.editor.getHTML().toString()),a="number"!==m||isNaN(t)?t:parseInt(t);l&&l({target:{name:n,type:m,value:"number"===m&&isNaN(a)?0:a}})},onFocus:function(e){e.editor,e.event;k(!0)},onBlur:function(e){e.editor,e.event;k(!1)}})),Object(r.useEffect)((function(){I.synced?N||""===B()&&(q(p),D(!0)):I.once("synced",(function(){N||""===B()&&(q(p),D(!0))}))}),[I.synced,B,p,I,q,N]),!M)return Object(a.jsx)("div",{children:"Conectando..."});return Object(a.jsxs)("div",{className:C.root,children:[Object(a.jsx)("div",{className:C.inputContainer,onClick:function(){w||M.chain().focus("end").run()},children:Object(a.jsx)(In.a,{editor:M,className:"".concat(C.editorx)})}),"number"===m&&Object(a.jsxs)("div",{className:C.actions,children:[Object(a.jsx)(Be.a,{className:C.action,component:Bn.a,onClick:function(){var e=B();if(M&&"number"===m){if(!e.length||"-"===e)return q(null!==f&&void 0!==f?f:0);if(e=parseInt(e),!(null!==h&&e+1>h))return l&&l({target:{name:n,type:m,value:"number"===m&&isNaN(e)?0:e+1}}),q(e+1)}},children:Object(a.jsx)(Un.a,{})}),Object(a.jsx)(je.a,{}),Object(a.jsx)(Be.a,{className:C.action,component:Bn.a,onClick:function(){var e=B();if(M&&"number"===m){if(!e.length||"-"===e)return q(null!==f&&void 0!==f?f:0);if(e=parseInt(e),!(null!==f&&e-1<f))return l&&l({target:{name:n,type:m,value:"number"===m&&isNaN(e)?0:e-1}}),q(e-1)}},children:Object(a.jsx)(Gn.a,{})})]})]})})),Yn=Object(F.a)((function(e){return{taskSpacing:{marginLeft:e.spacing(2),marginTop:e.spacing(1)},trashIcon:{display:"flex"},tasksSpacing:{marginTop:e.spacing(1),background:e.palette.background.workSpace},taskSpacingDescription:{marginLeft:e.spacing(2),marginTop:e.spacing(2)},taskSpacingDescriptionBD:{marginBottom:e.spacing(1)},colorLearningType:{width:"100%",height:"100%"},timeField:{marginRight:10,display:"flex",alignItems:"center"},grid:{display:"flex",alignItems:"center"}}})),_n=Object(r.forwardRef)((function(e,t){var n,i,c=e.learningActivityIndex,s=e.index,o=e.task,l=Yn(),d=w().socket,u=Object(r.useRef)(!0),j=Object(r.useRef)(),p=Object(r.useRef)(),g=Object(r.useRef)(),m=An().designState.design,h=T().dispatch,f=Object(ot.b)().enqueueSnackbar,x=H({description:o.description,learningType:o.learningType&&""!==o.learningType.trim()?o.learningType:"Seleccionar",modality:o.modality&&""!==o.modality.trim()?o.modality:"Seleccionar",format:o.format&&""!==o.format.trim()?o.format:"Seleccionar",timeHours:null!==(n=o.duration.hours)&&void 0!==n?n:0,timeMinutes:null!==(i=o.duration.minutes)&&void 0!==i?i:0}),O=Object(b.a)(x,4),v=O[0],y=O[1],k=O[3];Object(r.useImperativeHandle)(t,(function(){return{clearTexts:function(){null===j||void 0===j||j.current.clearText(),null===p||void 0===p||p.current.clearText(),null===g||void 0===g||g.current.clearText()}}})),Object(r.useEffect)((function(){return function(){u.current=!1}}),[]),Object(r.useEffect)((function(){u.current&&v.description!==o.description&&k((function(e){return Object(A.a)(Object(A.a)({},e),{},{description:o.description})}))}),[v.description,o.description,k]),Object(r.useEffect)((function(){u.current&&v.learningType!==o.learningType&&k((function(e){return Object(A.a)(Object(A.a)({},e),{},{learningType:o.learningType&&""!==o.learningType.trim()?o.learningType:"Seleccionar"})}))}),[v.learningType,o.learningType,k]),Object(r.useEffect)((function(){u.current&&v.modality!==o.modality&&k((function(e){return Object(A.a)(Object(A.a)({},e),{},{modality:o.modality&&""!==o.modality.trim()?o.modality:"Seleccionar"})}))}),[v.modality,o.modality,k]),Object(r.useEffect)((function(){u.current&&v.format!==o.format&&k((function(e){return Object(A.a)(Object(A.a)({},e),{},{format:o.format&&""!==o.format.trim()?o.format:"Seleccionar"})}))}),[v.format,o.format,k]),Object(r.useEffect)((function(){u.current&&v.timeHours!==o.duration.hours&&k((function(e){var t;return Object(A.a)(Object(A.a)({},e),{},{timeHours:null!==(t=o.duration.hours)&&void 0!==t?t:0})}))}),[v.timeHours,o.duration.hours,k]),Object(r.useEffect)((function(){u.current&&v.timeMinutes!==o.duration.minutes&&k((function(e){var t;return Object(A.a)(Object(A.a)({},e),{},{timeMinutes:null!==(t=o.duration.minutes)&&void 0!==t?t:0})}))}),[v.timeMinutes,o.duration.minutes,k]);var C=v.description,N=v.learningType,D=v.modality,E=v.format,I=v.timeHours,P=v.timeMinutes,L=function(e){var t=e.target,n=t.name,a=t.value,r=null;n.includes("description")?n="description":n.includes("timeHours")?(n="duration",r="hours",a=isNaN(a)?0:a):n.includes("timeMinutes")&&(n="duration",r="minutes",a=isNaN(a)?0:a),y({target:t}),d.emit("edit-task-field",{designId:m._id,learningActivityIndex:c,index:s,field:n,value:a,subfield:r})},F=function(e){y(e),d.emit("edit-task-field",{designId:m._id,learningActivityIndex:c,index:s,field:e.target.name,value:e.target.value,subfield:null})};return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(G.a,{children:Object(a.jsx)(hn.a,{square:!0,className:l.tasksSpacing,children:Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsx)(G.a,{item:!0,xs:1,children:"Investigaci\xf3n"===o.learningType?Object(a.jsx)("div",{className:l.colorLearningType,style:{backgroundColor:"#57A8E7"}}):"Adquisici\xf3n"===o.learningType?Object(a.jsx)("div",{className:l.colorLearningType,style:{backgroundColor:"#E95D5D"}}):"Producci\xf3n"===o.learningType?Object(a.jsx)("div",{className:l.colorLearningType,style:{backgroundColor:"#C8951F"}}):"Discusi\xf3n"===o.learningType?Object(a.jsx)("div",{className:l.colorLearningType,style:{backgroundColor:"#087A4C"}}):"Colaboraci\xf3n"===o.learningType?Object(a.jsx)("div",{className:l.colorLearningType,style:{backgroundColor:"#DFDF3F"}}):"Pr\xe1ctica"===o.learningType?Object(a.jsx)("div",{className:l.colorLearningType,style:{backgroundColor:"#A75BCD"}}):void 0}),Object(a.jsxs)(G.a,{item:!0,xs:11,children:[Object(a.jsxs)(G.a,{container:!0,className:l.taskSpacing,children:[Object(a.jsx)(G.a,{item:!0,xs:12,sm:5,children:Object(a.jsxs)(On.a,{variant:"outlined",size:"small",style:{width:"90%"},children:[Object(a.jsx)(J.a,{variant:"body2",color:"textSecondary",children:" Aprendizaje "}),Object(a.jsxs)(vn.a,{name:"learningType",value:N,onChange:F,children:[Object(a.jsx)(qt.a,{value:"Seleccionar",children:" Seleccionar "}),Object(a.jsx)(qt.a,{value:"Investigaci\xf3n",children:" Investigaci\xf3n "}),Object(a.jsx)(qt.a,{value:"Adquisici\xf3n",children:" Adquisici\xf3n "}),Object(a.jsx)(qt.a,{value:"Producci\xf3n",children:" Producci\xf3n "}),Object(a.jsx)(qt.a,{value:"Discusi\xf3n",children:" Discusi\xf3n "}),Object(a.jsx)(qt.a,{value:"Colaboraci\xf3n",children:" Colaboraci\xf3n "}),Object(a.jsx)(qt.a,{value:"Pr\xe1ctica",children:" Pr\xe1ctica "})]})]})}),Object(a.jsxs)(G.a,{item:!0,xs:12,sm:6,className:l.grid,style:{justifyContent:"space-between"},children:[Object(a.jsxs)(On.a,{variant:"outlined",size:"small",style:{width:"90%"},children:[Object(a.jsx)(J.a,{variant:"body2",color:"textSecondary",children:" Modalidad "}),Object(a.jsxs)(vn.a,{name:"modality",value:D,onChange:F,children:[Object(a.jsx)(qt.a,{value:"Seleccionar",children:" Seleccionar "}),Object(a.jsx)(qt.a,{value:"Presencial-As\xedncrono",children:" Presencial-As\xedncrono"}),Object(a.jsx)(qt.a,{value:"Presencial-S\xedncrono",children:" Presencial-S\xedncrono"}),Object(a.jsx)(qt.a,{value:"Online-As\xedncrono",children:" Online-As\xedncrono"}),Object(a.jsx)(qt.a,{value:"Online-S\xedncrono",children:" Online-S\xedncrono"})]})]}),Object(a.jsx)(fn.a,{title:"Delete",children:Object(a.jsx)(R.a,{onClick:function(){return function(e){""===C&&"Seleccionar"===N&&"Seleccionar"===D&&"Seleccionar"===E&&0===I&&0===P?(null===j||void 0===j||j.current.clearText(),null===p||void 0===p||p.current.clearText(),null===g||void 0===g||g.current.clearText(),d.emit("delete-task",{designId:m._id,learningActivityIndex:c,index:e}),f("Su tarea se ha eliminado",{variant:"success",autoHideDuration:2e3})):(h({type:S.ui.setConfirmData,payload:{type:"tarea",args:{designId:m._id,learningActivityIndex:c,index:e},actionMutation:null}}),h({type:S.ui.toggleModal,payload:"Confirmation"}))}(s)},children:Object(a.jsx)(wn.a,{fontSize:"small"})})})]})]}),Object(a.jsxs)(G.a,{container:!0,className:l.taskSpacing,children:[Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,className:l.grid,children:Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsx)(J.a,{variant:"body2",color:"textSecondary",children:" Tiempo de trabajo "}),Object(a.jsxs)("div",{className:l.timeField,children:[Object(a.jsx)(Xn,{ref:j,name:"timeHours-task-".concat(s,"-learning-activity-").concat(c),placeholder:"Horas",initialvalue:I,onChange:L,type:"number",min:0}),Object(a.jsx)(J.a,{style:{marginLeft:10,marginRight:10},children:" : "}),Object(a.jsx)(Xn,{ref:p,name:"timeMinutes-task-".concat(s,"-learning-activity-").concat(c),placeholder:"Minutos",initialvalue:P,onChange:L,type:"number",min:0,max:59})]})]})}),Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,className:l.grid,children:Object(a.jsxs)(On.a,{variant:"outlined",size:"small",style:{width:"90%",marginRight:5},children:[Object(a.jsx)(J.a,{variant:"body2",color:"textSecondary",style:{marginBottom:4,marginRight:5},children:" Formato "}),Object(a.jsxs)(vn.a,{name:"format",value:E,onChange:F,children:[Object(a.jsx)(qt.a,{value:"Seleccionar",children:" Seleccionar "}),Object(a.jsx)(qt.a,{value:"Grupal",children:" Grupal"}),Object(a.jsx)(qt.a,{value:"Individual",children:" Individual"}),Object(a.jsx)(qt.a,{value:"Toda la clase",children:" Toda la clase"})]})]})})]}),Object(a.jsx)(G.a,{container:!0,className:l.taskSpacingDescription,children:Object(a.jsxs)(G.a,{item:!0,sm:11,children:[Object(a.jsx)(J.a,{variant:"body2",color:"textSecondary",children:" Descripci\xf3n "}),Object(a.jsx)(G.a,{className:l.taskSpacingDescriptionBD,children:Object(a.jsx)(Xn,{ref:g,name:"description-task-".concat(s,"-learning-activity-").concat(c),placeholder:"Descripci\xf3n",initialvalue:C,onChange:L,multiline:!0})})]})})]})]})})},s)})})),$n=Object(F.a)((function(e){return{root:{display:"flex",width:"100%",border:"1px solid ".concat(e.palette.divider),height:"100%"},title:{display:"flex",alignItems:"center"},colorBox:{width:10,height:10,marginRight:5,border:"1px solid #dddddd"},colorBoxRightPanel:{width:13,height:13,marginRight:5},spacingGraphic:{marginTop:e.spacing(1),display:"flex",flexWrap:"wrap"},legend:{marginTop:e.spacing(.5),marginLeft:e.spacing(.5),marginRight:e.spacing(.5),display:"flex",alignItems:"center"}}})),ea=function(e){var t=e.height,n=void 0===t?25:t,r=e.items,i=e.type,c=e.legends,s=$n(),o=Yt().userConfig,l=[],d=0;return r.map((function(e){return d=e.value+d})),"Activity"===i?l=(o.darkTheme,["#57A8E7","#E95D5D","#C8951F","#087A4C","#DFDF3F","#A75BCD"]):"Format"===i?l=(o.darkTheme,["rgba(61, 156, 65, 0.8)","rgba(224, 243, 225, 0.8)","rgba(102, 242, 108, 0.75)"]):"Modality"===i&&(l=(o.darkTheme,["#A6CAF6","#6996CD","#5FA2EF","#135BB3"])),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:s.root,style:{height:n},children:r.map((function(e,t){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(fn.a,{title:Object(a.jsxs)("div",{className:s.title,children:[Object(a.jsx)("div",{className:s.colorBox,style:{backgroundColor:l[t]}}),"".concat(e.title,": ").concat((100*e.value/d).toFixed(1),"%")]}),arrow:!0,children:Object(a.jsx)("div",{style:{width:"".concat(100*e.value,"%"),height:"100%",backgroundColor:l[t]}})},"nombreGrafico".concat(t))})}))}),c&&Object(a.jsx)("div",{className:s.spacingGraphic,children:r.map((function(e,t){return Object(a.jsxs)("div",{className:s.legend,children:[Object(a.jsx)("div",{className:s.colorBoxRightPanel,style:{backgroundColor:l[t]}}),Object(a.jsxs)(J.a,{variant:"caption",children:[" ",e.title," "]})]},t)}))})]})},ta=[{title:"Investigaci\xf3n",value:0},{title:"Adquisici\xf3n",value:0},{title:"Producci\xf3n",value:0},{title:"Discusi\xf3n",value:0},{title:"Colaboraci\xf3n",value:0},{title:"Pr\xe1ctica",value:0}],na=[{title:"Investigaci\xf3n",value:0},{title:"Adquisici\xf3n",value:0},{title:"Producci\xf3n",value:0},{title:"Discusi\xf3n",value:0},{title:"Colaboraci\xf3n",value:0},{title:"Pr\xe1ctica",value:0}],aa=[{title:"Grupal",value:0},{title:"Individual",value:0},{title:"Toda la clase",value:0}],ra=[{title:"Presencial-As\xedncrono",value:0},{title:"Presencial-S\xedncrono",value:0},{title:"Online-As\xedncrono",value:0},{title:"Online-S\xedncrono",value:0}],ia=Object(F.a)((function(e){return{unitSpacing:{marginTop:e.spacing(3)},titleUnitSpacing:{display:"flex",paddingLeft:10,paddingRight:10,marginTop:e.spacing(1)},graphicUnitSpacing:{width:"100%",paddingLeft:10,paddingRight:10,display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.spacing(1)},trashIcon:{marginLeft:"auto"},spacingDescriptionlearningActivity:{marginTop:e.spacing(1)},spacingDescription:{marginRight:e.spacing(2)},spacingLinkedResults:{marginTop:e.spacing(2)},buttonPos:{marginTop:e.spacing(1),marginLeft:"auto"},gridTask:{marginTop:e.spacing(1),marginLeft:e.spacing(1)},learningResultList:{display:"flex",flexWrap:"nowrap",flexDirection:"column",paddingLeft:15,maxHeight:200,overflow:"auto",overflowX:!0}}})),ca=function(e){var t=e.index,n=e.learningActivity,i=ia(),c=An().designState.design,s=w().socket,o=T().dispatch,l=Object(ot.b)().enqueueSnackbar,d=Object(r.useRef)(),u=Object(r.useRef)(),j=Object(r.useRef)([]),p=H({title:n.title,description:n.description}),g=Object(b.a)(p,4),m=g[0],h=g[1],f=g[3];Object(r.useEffect)((function(){f({title:n.title,description:n.description})}),[c,f,n]);var x=m.title,O=m.description,v=function(){""!==x||""!==O||0!==n.learningResults.length||void 0!==n.tasks&&0!==n.tasks.length?(o({type:S.ui.setConfirmData,payload:{type:"actividad",args:{designId:c._id,index:t},actionMutation:null}}),o({type:S.ui.toggleModal,payload:"Confirmation"})):(null===j||void 0===j||j.current.forEach((function(e){return null===e||void 0===e?void 0:e.clearTexts()})),null===d||void 0===d||d.current.clearText(),null===u||void 0===u||u.current.clearText(),s.emit("delete-learningActivity",{designId:c._id,index:t}),l("Su actividad se ha eliminado",{variant:"success",autoHideDuration:2e3}))},y=function(){s.emit("new-task",{designId:c._id,index:t})},k=function(e){var n=e.target,a=n.name;n.name.includes("title")?a="title":n.name.includes("description")&&(a="description"),s.emit("edit-unit-field",{designId:c._id,index:t,field:a,value:n.value}),h({target:Object(A.a)(Object(A.a)({},n),{},{name:a})})};return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(G.a,{children:Object(a.jsxs)(hn.a,{className:i.unitSpacing,children:[Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsx)(G.a,{item:!0,xs:12,sm:5,className:i.titleUnitSpacing,children:Object(a.jsx)(Xn,{ref:d,name:"title-learning-activity-".concat(t),placeholder:"T\xedtulo",initialvalue:x,onChange:k})}),void ta.forEach((function(e){e.value=0})),Object(a.jsxs)(G.a,{item:!0,xs:12,sm:7,className:i.graphicUnitSpacing,children:[c.data.learningActivities[t]&&c.data.learningActivities[t].tasks&&c.data.learningActivities[t].tasks.forEach((function(e){ta.forEach((function(t){t.title===e.learningType&&(t.value=t.value+1)}))})),Object(a.jsx)(ea,{items:ta,type:"Activity"}),Object(a.jsx)(fn.a,{title:"Delete",children:Object(a.jsx)(R.a,{onClick:v,children:Object(a.jsx)(wn.a,{fontSize:"small"})})})]})]}),Object(a.jsx)(je.a,{}),Object(a.jsxs)(G.a,{container:!0,spacing:2,children:[Object(a.jsxs)(G.a,{item:!0,xs:12,sm:8,children:[Object(a.jsx)(G.a,{className:i.gridTask,children:c.data.learningActivities[t]&&c.data.learningActivities[t].tasks&&c.data.learningActivities[t].tasks.map((function(e,n){return Object(a.jsx)(_n,{ref:function(e){return j.current.push(e)},index:n,task:e,learningActivityIndex:t},"task-".concat(n,"-learningActivity-").concat(t))}))}),Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsx)(G.a,{item:!0}),Object(a.jsx)(G.a,{item:!0,className:i.buttonPos,children:Object(a.jsx)(B.a,{size:"small",variant:"outlined",onClick:y,children:" Agregar Tarea "})})]})]}),Object(a.jsxs)(G.a,{item:!0,xs:12,sm:4,children:[Object(a.jsx)(J.a,{variant:"body2",className:i.spacingDescriptionlearningActivity,color:"textSecondary",children:" Descripci\xf3n Unidad de aprendizaje "}),Object(a.jsx)(G.a,{className:i.spacingDescription,children:Object(a.jsx)(Xn,{ref:u,name:"description-learning-activity-".concat(t),placeholder:"T\xedtulo",initialvalue:O,onChange:function(e){return k},rowMax:3,multiline:!0})}),Object(a.jsx)(J.a,{variant:"body2",className:i.spacingLinkedResults,color:"textSecondary",children:" Resultados Vinculados "}),Object(a.jsx)("div",{className:i.learningResultList,children:c.metadata.results.map((function(e){return Object(a.jsx)(Wt.a,{style:{width:"50%"},control:Object(a.jsx)(xn.a,{checked:!!n.learningResults.find((function(t){return t.verb===e.verb})),onChange:function(a){return function(e,a,r){if(a){var i=0;n.learningResults.forEach((function(e,t){e.verb===r.verb&&e.description===r.description&&(i=t)})),s.emit("delete-learning-result-from-learningActivity",{designId:c._id,index:t,indexLearningResults:i})}else s.emit("add-learning-result-to-learningActivity",{designId:c._id,index:t,result:r})}(0,!!n.learningResults.find((function(t){return t.verb===e.verb})),e)}}),label:e.verb},"learning-result-".concat(e.verb))}))})]})]})]})},t)})},sa=n(167),oa=n.n(sa),la=function(e){var t=e.items,n=Yt().userConfig;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(oa.a,{id:"pie",palette:(n.darkTheme,["#57A8E7","#E95D5D","#C8951F","#087A4C","#DFDF3F","#A75BCD"]),dataSource:t,title:"An\xe1lisis",theme:n.darkTheme?"generic.contrast":"generic.light",children:[Object(a.jsx)(sa.Series,{argumentField:"title",valueField:"value"}),Object(a.jsx)(sa.Legend,{verticalAlignment:"bottom",horizontalAlignment:"center",itemTextPosition:"right",rowCount:2}),Object(a.jsx)(sa.Tooltip,{enabled:!0,customizeTooltip:function(e){return{text:"".concat(e.argumentText," - ").concat((100*e.percent).toFixed(1),"%")}}})]})})},da=n(605),ua=Object(F.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},titleSectionShare:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},divSectionShare:{marginBottom:e.spacing(4)}}})),ja=function(){var e=ua(),t=T(),n=t.uiState,i=t.dispatch,c=An().designState.design,s=Object(r.useState)(""),o=Object(b.a)(s,1)[0],l=Object(r.useState)(""),d=Object(b.a)(l,2),p=d[0],g=d[1],m=Object(ot.b)().enqueueSnackbar,h=w().socket,f=Object(r.useState)(Object(bt.a)(c.privileges)),x=Object(b.a)(f,2),O=x[0],v=x[1],y=Object(pe.a)(["user-profile",c.owner],Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(c.owner);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}),k=y.data,C=y.error,N=y.isError,D=y.isLoading,E=function(){v(Object(bt.a)(c.privileges)),i({type:S.ui.toggleModal,payload:"Share"})};if(C)return Object(a.jsx)("div",{className:e.error,children:Object(a.jsx)(V.a,{severity:"error",children:C})});if(!c||!k)return Object(a.jsx)(J.a,{children:"Cargando..."});return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(K.a,{onClose:E,open:n.isShareModalOpen,maxWidth:"sm",fullWidth:!0,children:[Object(a.jsx)(U.a,{children:"Compartir Dise\xf1o"}),Object(a.jsx)(R.a,{"aria-label":"close",className:e.closeButton,onClick:E,children:Object(a.jsx)(Ct.a,{})}),Object(a.jsx)(Z.a,{dividers:!0,children:D?Object(a.jsx)(J.a,{children:"Cargando..."}):N?Object(a.jsx)("div",{className:e.error,children:Object(a.jsx)(V.a,{severity:"error",children:C})}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:e.titleSectionShare,children:Object(a.jsx)(J.a,{color:"textSecondary",children:" Compartir a contactos "})}),Object(a.jsx)("div",{children:Object(a.jsx)(da.a,{value:o,blurOnSelect:!0,onChange:function(e,t){!function(e){if(e){var t=k.contacts.find((function(t){return t.name===e}));t&&(c.privileges.map((function(e){return e.user._id===t._id})).reduce((function(e,t){return e||t}))?m("El usuario ya se encuentra agregado",{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:2e3}):v([].concat(Object(bt.a)(O),[{user:t,type:1}])),g(""))}}(t)},inputValue:p,onInputChange:function(e,t){g(t)},options:k.contacts.map((function(e){return e.name})),getOptionSelected:function(e,t){return e.id===t.id},renderInput:function(e){return Object(a.jsx)(M.a,Object(A.a)(Object(A.a)({},e),{},{label:"Buscar Contacto",margin:"normal",variant:"outlined",InputProps:Object(A.a)({},e.InputProps)}))}})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(je.a,{style:{marginBottom:10}}),O.map((function(e,t){return Object(a.jsxs)(G.a,{container:!0,style:{marginBottom:10},children:[Object(a.jsx)(G.a,{style:{justifyContent:"space-between"},children:Object(a.jsx)(Oe.a,{style:{marginRight:7}})}),Object(a.jsxs)(G.a,{style:{justifyContent:"space-between"},children:[Object(a.jsx)(J.a,{children:e.user.name+" "+e.user.lastname}),Object(a.jsx)(J.a,{color:"textSecondary",children:e.user.email})]}),Object(a.jsx)(G.a,{style:{justifyContent:"space-between",marginLeft:"auto"},children:e.user._id===c.owner?Object(a.jsx)(J.a,{children:"Propietario"}):Object(a.jsx)(On.a,{variant:"outlined",size:"small",children:Object(a.jsxs)(vn.a,{name:"type",value:e.type,onChange:function(n){!function(e,t,n){var a=e.target.value;if(a!==t)if("Quitar"===a)n===O.length-1?v(Object(bt.a)(O.slice(0,n))):v([].concat(Object(bt.a)(O.slice(0,n)),Object(bt.a)(O.slice(n+1,O.length))));else{var r=Object(A.a)({},O[n]);r.type=a,n===O.length-1?v([].concat(Object(bt.a)(O.slice(0,n)),[r])):v([].concat(Object(bt.a)(O.slice(0,n)),[r],Object(bt.a)(O.slice(n+1,O.length))))}}(n,e.type,t)},children:[Object(a.jsx)(qt.a,{value:0,children:" Editor "}),Object(a.jsx)(qt.a,{value:1,children:" Lector"}),Object(a.jsx)(qt.a,{value:"Quitar",children:" Quitar"})]},"privileges-action-".concat(t))})})]},"privilege-".concat(t))}))]})]})})}),Object(a.jsxs)(X.a,{children:[Object(a.jsx)(B.a,{onClick:E,children:"Cancelar"}),Object(a.jsx)(B.a,{variant:"contained",color:"primary",onClick:function(){h.emit("change-design-privileges",{designId:c._id,privileges:Object(bt.a)(O)}),i({type:S.ui.toggleModal,payload:"Share"}),m("Se ha compartido su dise\xf1o correctamente",{variant:"success",autoHideDuration:2e3})},children:"Listo"})]})]})})},ba=Object(F.a)((function(e){return{leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},workspace:{paddingLeft:15,paddingRight:15,background:e.palette.background.workSpace,height:"calc(100vh - 177px)",overflow:"auto"},rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},buttonGroupWorkSpace:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},textLefPanel:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},spaceData:{marginBottom:e.spacing(1),borderBottom:"2px solid ".concat(e.palette.divider)},LeftPanelMetadata:{marginTop:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2)},textLefPanelMetadata:{marginTop:e.spacing(3)},graphicsSpacing:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},betweenGraphics:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},workSpaceUnits:{},"@global":{"*::-webkit-scrollbar":{width:"0.4em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)"},"*::-webkit-scrollbar-thumb":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)",borderRadius:"15px",backgroundColor:"rgba(0,0,0,.1)"}}}})),pa=function(){var e=ba(),t=An().designState.design,n=t.metadata,r=w().socket,i=Object(ot.b)().enqueueSnackbar,c=T().dispatch,s=!1,o=!1,l=!1;return t.data.learningActivities.forEach((function(e){void 0!==e.tasks&&e.tasks.forEach((function(e){""!==e.learningType&&"Seleccionar"!==e.learningType&&(s=!0),""!==e.format&&"Seleccionar"!==e.format&&(o=!0),""!==e.modality&&"Seleccionar"!==e.modality&&(l=!0)}))})),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsxs)(G.a,{item:!0,xs:12,md:3,lg:2,className:e.leftPanel,children:[Object(a.jsx)(G.a,{container:!0,alignItems:"center",justify:"center",children:Object(a.jsx)(J.a,{className:e.textLefPanel,children:" INFORMACI\xd3N DISE\xd1O "})}),Object(a.jsx)(je.a,{className:e.spaceData}),Object(a.jsxs)(G.a,{className:e.LeftPanelMetadata,children:[Object(a.jsx)(G.a,{children:n&&n.name&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{variant:"body2",color:"textSecondary",children:" Nombre "}),Object(a.jsx)(J.a,{variant:"body2",children:n.name}),Object(a.jsx)(je.a,{})]})}),Object(a.jsx)(G.a,{children:n&&n.category&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{variant:"body2",color:"textSecondary",className:e.textLefPanelMetadata,children:"Tema"}),Object(a.jsxs)(J.a,{variant:"body2",children:[" ",n.category.name," "]}),Object(a.jsx)(je.a,{})]})}),Object(a.jsx)(G.a,{children:n&&n.workingTime&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{variant:"body2",color:"textSecondary",className:e.textLefPanelMetadata,children:" Tiempo de trabajo "}),Object(a.jsxs)(J.a,{variant:"body2",children:[" ",n.workingTime.hours," : ",n.workingTime.minutes]}),Object(a.jsx)(je.a,{})]})}),Object(a.jsx)(G.a,{children:n&&n.workingTimeDesign&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{variant:"body2",color:"textSecondary",className:e.textLefPanelMetadata,children:"Tiempo de trabajo Dise\xf1o"}),Object(a.jsxs)(J.a,{variant:"body2",children:[" ",n.workingTimeDesign]}),Object(a.jsx)(je.a,{})]})}),Object(a.jsx)(G.a,{children:n&&n.name&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{variant:"body2",color:"textSecondary",className:e.textLefPanelMetadata,children:" Modo de entrega "}),Object(a.jsxs)(J.a,{variant:"body2",children:[" ",n.name," "]}),Object(a.jsx)(je.a,{})]})}),n&&n.classSize&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{variant:"body2",color:"textSecondary",className:e.textLefPanelMetadata,children:" Tama\xf1o de la clase "}),Object(a.jsxs)(J.a,{variant:"body2",children:[" ",n.classSize," "]}),Object(a.jsx)(je.a,{})]}),Object(a.jsx)(G.a,{children:n&&n.priorKnowledge&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{variant:"body2",color:"textSecondary",className:e.textLefPanelMetadata,children:" Conocimiento Previo "}),Object(a.jsxs)(J.a,{variant:"body2",children:[" ",n.priorKnowledge," "]}),Object(a.jsx)(je.a,{})]})}),Object(a.jsx)(G.a,{children:n&&n.description&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{variant:"body2",color:"textSecondary",className:e.textLefPanelMetadata,children:" Descripci\xf3n "}),Object(a.jsxs)(J.a,{variant:"body2",children:[" ",n.description," "]}),Object(a.jsx)(je.a,{})]})}),Object(a.jsx)(G.a,{children:n&&n.objective&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J.a,{color:"textSecondary",className:e.textLefPanelMetadata,children:" Objetivos "}),Object(a.jsxs)(J.a,{children:[" ",n.objective," "]}),Object(a.jsx)(je.a,{})]})}),Object(a.jsx)(G.a,{})]})]}),Object(a.jsxs)(G.a,{item:!0,xs:12,md:6,lg:8,className:e.workspace,children:[Object(a.jsxs)(ue.a,{size:"small","aria-label":"outlined primary button group",className:e.buttonGroupWorkSpace,children:[Object(a.jsx)(B.a,{children:"Nuevo"}),Object(a.jsx)(B.a,{onClick:function(){c({type:S.ui.toggleModal,payload:"Share"})},children:"Compartir"}),Object(a.jsx)(B.a,{onClick:function(e){r.emit("save-design",{designId:t._id}),i("Su dise\xf1o se ha guardado correctamente",{variant:"success",autoHideDuration:2e3})},children:"Guardar"})]}),Object(a.jsxs)(G.a,{className:e.workSpaceUnits,children:[Object(a.jsx)(B.a,{size:"small",variant:"outlined",onClick:function(){r.emit("new-learningActivity",{designId:t._id})},children:"Agregar Unidad de Aprendizaje"}),Object(a.jsx)(G.a,{children:t.data.learningActivities&&t.data.learningActivities.map((function(e,t){return Object(a.jsx)(ca,{index:t,learningActivity:e},"learningActivity-".concat(t))}))})]})]}),Object(a.jsxs)(G.a,{item:!0,xs:12,md:3,lg:2,className:e.rightPanel,children:[(ta.forEach((function(e){e.value=0})),na.forEach((function(e){e.value=0})),aa.forEach((function(e){e.value=0})),void ra.forEach((function(e){e.value=0}))),Object(a.jsxs)(G.a,{className:e.graphicsSpacing,children:[t.data.learningActivities&&t.data.learningActivities.map((function(e){return e.tasks&&e.tasks.forEach((function(e){ta.forEach((function(t){t.title===e.learningType&&(t.value=t.value+1)})),na.forEach((function(t){t.title===e.learningType&&(t.value=t.value+1)})),aa.forEach((function(t){t.title===e.format&&(t.value=t.value+1)})),ra.forEach((function(t){t.title===e.modality&&(t.value=t.value+1)}))}))})),s&&Object(a.jsx)("div",{className:e.betweenGraphics,children:Object(a.jsx)(la,{items:na})}),o&&Object(a.jsxs)("div",{className:e.betweenGraphics,children:[Object(a.jsx)(J.a,{children:"Formato"}),Object(a.jsx)(ea,{items:aa,type:"Format",legends:!0})]}),l&&Object(a.jsxs)("div",{className:e.betweenGraphics,children:[Object(a.jsx)(J.a,{children:"Modalidad"}),Object(a.jsx)(ea,{items:ra,type:"Modality",legends:!0})]})]})]}),Object(a.jsx)(ja,{})]})})},ga=n(618),ma=n(11),ha=function e(){Object(ma.a)(this,e)};ha.toHoursAndMinutes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Math.floor(e/60),n=Math.round(60*(e/60-t));return[t,n]},ha.toMinutes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 60*parseInt(e)+parseInt(t)};var fa=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("category");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error(t.message);case 5:return e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xa=Object(F.a)((function(e){return{root:{position:"relative",padding:20,width:"49%",marginBottom:10,borderRadius:5,border:"1px solid ".concat(e.palette.divider)},description:{overflow:"hidden",textOverflow:"ellipsis",textAlign:"justify"},actions:{position:"absolute",top:8,right:8}}})),Oa=function(e){var t=e.verb,n=e.description,r=e.index,i=xa(),c=w().socket,s=T().dispatch,o=An(),l=o.designState,d=o.dispatch,u=l.design;return Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsx)(J.a,{color:"textSecondary",gutterBottom:!0,variant:"caption",children:"Resultado"}),Object(a.jsx)(J.a,{variant:"body2",children:t}),Object(a.jsx)(J.a,{color:"textSecondary",gutterBottom:!0,variant:"caption",children:"Descripci\xf3n"}),Object(a.jsx)(J.a,{className:i.description,variant:"body2",children:n}),Object(a.jsxs)("div",{className:i.actions,children:[Object(a.jsx)(R.a,{className:i.deleteIcon,onClick:function(){var e=l.bloomVerbs,a=l.bloomCategories.find((function(n){return n._id===e.find((function(e){return e.name===t})).category}))._id;d({type:S.design.setCurrentLearningResult,payload:{category:a,verb:t,description:n,editing:!0,index:r}}),s({type:S.ui.toggleModal,payload:"LearningResult"})},children:Object(a.jsx)(Ot.a,{})}),Object(a.jsx)(R.a,{className:i.deleteIcon,onClick:function(){var e=0;u.metadata.results.forEach((function(a,r){a.verb===t&&a.description===n&&(e=r)})),c.emit("delete-learning-result",{designId:u._id,index:e})},children:Object(a.jsx)(we.a,{})})]})]})},va=n(620),ya=n(599),wa=n(611),ka=Object(F.a)((function(e){return{root:{width:"100%",height:300,clipPath:"polygon(50% 0, 0 100%, 100% 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},option:{backgroundColor:e.palette.primary.main,marginBottom:10,width:"100%",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{transition:"box-shadow .3s",cursor:"pointer",boxShadow:"0 0px 8px 0 rgba(0, 0, 0, 0.2), 0 0px 20px 0 rgba(0, 0, 0, 0.19)"}},crear:{paddingTop:30,height:"25%"},evaluar:{height:"16.6%"},analizar:{height:"16.6%"},aplicar:{height:"16.6%"},comprender:{height:"16.6%"},recordar:{height:"16.6%"},active:{boxShadow:"0 0px 8px 0 rgba(0, 0, 0, 0.2), 0 0px 20px 0 rgba(0, 0, 0, 0.19)",backgroundColor:e.palette.secondary.light,color:"white"}}})),Ca=function(){var e=ka(),t=An(),n=t.designState,r=t.dispatch,i=n.currentLearningResult.category,c=n.bloomCategories;return Object(a.jsx)("div",{className:e.root,children:c.map((function(t){var n=i===t._id;return Object(a.jsx)("div",{onClick:function(){return e=n?null:t._id,void r({type:S.design.setCurrentLearningResultField,payload:{field:"category",value:e}});var e},className:"".concat(e.option," ").concat(e[t.name.toLowerCase()]," ").concat(n&&e.active),children:t.name},t._id)}))})},Aa=n(604),Sa=Object(F.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:"center"},option:{minWidth:"25%"}}})),Na=function(){var e=Sa(),t=An(),n=t.designState,r=t.dispatch,i=n.currentLearningResult.category,c=n.currentLearningResult.verb,s=n.bloomVerbs;return Object(a.jsx)("div",{className:e.root,children:s.filter((function(e){return e.category===i})).map((function(t){var n=c===t.name;return Object(a.jsx)(Wt.a,{className:e.option,value:t.name,control:Object(a.jsx)(Aa.a,{checked:n,onChange:function(e){return n=t.name,void r({type:S.design.setCurrentLearningResultField,payload:{field:"verb",value:n}});var n},value:t.name}),label:t.name},t._id)}))})},Da=Object(F.a)((function(e){return{title:{display:"flex",justifyContent:"space-between"},close:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),Ta=function(e){var t,n=e.design,i=e.isOpen,c=Da(),s=w().socket,o=An(),l=o.designState,d=o.dispatch,u=T().dispatch,j=l.currentLearningResult,p=j.category,g=j.verb,m=j.editing,h=j.index,f=Object(r.useState)(null!==(t=l.currentLearningResult.description)&&void 0!==t?t:""),x=Object(b.a)(f,2),O=x[0],v=x[1],y=Object(r.useState)(0),k=Object(b.a)(y,2),C=k[0],A=k[1],N=["Selecciona una categor\xeda de bloom","Selecciona un verbo","Proporciona una descripci\xf3n"];Object(r.useEffect)((function(){v(l.currentLearningResult.description)}),[v,l.currentLearningResult.description]);var D=function(){u({type:S.ui.toggleModal,payload:"LearningResult"}),A(0),d({type:S.design.clearCurrentLearningResult})};return Object(a.jsxs)(K.a,{fullWidth:!0,open:i,onClose:D,"aria-labelledby":"form-dialog-title",children:[Object(a.jsxs)("div",{className:c.title,children:[Object(a.jsx)(U.a,{id:"form-dialog-title",onClose:D,children:m?"Editar resultado de aprendizaje":"Nuevo resultado de aprendizaje"}),Object(a.jsx)(R.a,{className:c.close,"aria-label":"close",onClick:D,children:Object(a.jsx)(st.a,{})})]}),Object(a.jsxs)(Z.a,{children:[Object(a.jsx)(va.a,{activeStep:C,alternativeLabel:!0,children:N.map((function(e){return Object(a.jsx)(ya.a,{children:Object(a.jsx)(wa.a,{children:e})},e)}))}),0===C?Object(a.jsx)(Ca,{}):1===C?Object(a.jsx)(Na,{}):Object(a.jsx)(M.a,{multiline:!0,rows:6,variant:"outlined",name:"description",value:null!==O&&void 0!==O?O:"",onChange:function(e){var t=e.target;return v(t.value)},label:"Descripci\xf3n",type:"text",fullWidth:!0})]}),Object(a.jsxs)(X.a,{children:[Object(a.jsx)(B.a,{disabled:0===C,onClick:function(){A((function(e){return e-1}))},children:"Volver"}),C===N.length-1?Object(a.jsx)(B.a,{variant:"contained",color:"primary",onClick:function(){if(""===O.trim())return console.log("No se ha ingresado una descripci\xf3n.");d({type:S.design.setCurrentLearningResultField,payload:{field:"description",value:O}}),m?m&&s.emit("edit-learning-result",{designId:n._id,index:h,learningResult:{verb:g,description:O}}):s.emit("add-learning-result",{designId:n._id,learningResult:{verb:g,description:O}}),D()},children:"Finalizar"}):Object(a.jsx)(B.a,{variant:"contained",color:"primary",onClick:function(){return 0===C&&null===p?console.log("No ha seleccionado una categor\xeda de bloom."):1===C&&""===g?console.log("No ha seleccionado un verbo de bloom."):void A((function(e){return e+1}))},children:"Siguiente"})]})]})},Ea=Object(F.a)((function(e){return{leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},workspace:{paddingTop:15,paddingLeft:30,paddingRight:30,background:e.palette.background.workSpace,minHeight:"calc(100vh - 64px)"},rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},title:{display:"flex",justifyContent:"space-between",alignItems:"center"},content:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",marginTop:10,marginBottom:10},grid:{display:"flex",alignItems:"center"},category:{width:"100%"},categoryPopOver:{maxHeight:400},timeField:{marginRight:10,display:"flex",alignItems:"center"},clickHere:{textDecoration:"none",cursor:"pointer","&:hover":{textDecoration:"underline"}}}})),Ia=Object(r.forwardRef)((function(e,t){var n,i,c,s=Ea(),o=w().socket,l=f().authState,d=Object(r.useRef)(!0),p=T(),g=p.uiState,m=p.dispatch,h=An().designState.design,x=h.metadata,O=Object(ot.b)().enqueueSnackbar,v=Object(r.useRef)(),y=Object(r.useRef)(),k=Object(r.useRef)(),C=Object(r.useRef)(),N=Object(r.useRef)(),D=Object(r.useRef)(),E=Object(r.useRef)(),I=H({name:x.name,category:null!==(n=x.category.name)&&void 0!==n?n:"Sin categor\xeda",classSize:x.classSize,workingTimeDesignHours:ha.toHoursAndMinutes(x.workingTimeDesign)[0],workingTimeDesignMinutes:ha.toHoursAndMinutes(x.workingTimeDesign)[1],workingTimeHours:null!==(i=x.workingTime.hours)&&void 0!==i?i:0,workingTimeMinutes:null!==(c=x.workingTime.minutes)&&void 0!==c?c:0,priorKnowledge:x.priorKnowledge,description:x.description,objective:x.objective,isPublic:x.isPublic}),P=Object(b.a)(I,4),L=P[0],F=P[1],R=P[3];Object(r.useImperativeHandle)(t,(function(){return{clearEditors:function(){null===v||void 0===v||v.current.clearText(),null===y||void 0===y||y.current.clearText(),null===k||void 0===k||k.current.clearText(),null===C||void 0===C||C.current.clearText(),null===N||void 0===N||N.current.clearText(),null===D||void 0===D||D.current.clearText(),null===E||void 0===E||E.current.clearText()}}})),Object(r.useEffect)((function(){return function(){d.current=!1}}),[]),Object(r.useEffect)((function(){d.current&&L.category!==x.category.name&&R((function(e){var t;return Object(A.a)(Object(A.a)({},e),{},{category:null!==(t=x.category.name)&&void 0!==t?t:"Sin categor\xeda"})}))}),[x.category,L.category,R]),Object(r.useEffect)((function(){d.current&&L.name!==x.name&&R((function(e){return Object(A.a)(Object(A.a)({},e),{},{name:x.name})}))}),[x.name,L.name,R]),Object(r.useEffect)((function(){d.current&&L.classSize!==x.classSize&&R((function(e){return Object(A.a)(Object(A.a)({},e),{},{classSize:x.classSize})}))}),[x.classSize,L.classSize,R]),Object(r.useEffect)((function(){d.current&&L.description!==x.description&&R((function(e){return Object(A.a)(Object(A.a)({},e),{},{description:x.description})}))}),[x.description,L.description,R]),Object(r.useEffect)((function(){d.current&&L.workingTimeDesignHours!==ha.toHoursAndMinutes(x.workingTimeDesign)[0]&&R((function(e){return Object(A.a)(Object(A.a)({},e),{},{workingTimeDesignHours:ha.toHoursAndMinutes(x.workingTimeDesign)[0]})}))}),[x.workingTimeDesign,L.workingTimeDesignHours,R]),Object(r.useEffect)((function(){d.current&&L.workingTimeDesignMinutes!==ha.toHoursAndMinutes(x.workingTimeDesign)[1]&&R((function(e){return Object(A.a)(Object(A.a)({},e),{},{workingTimeDesignMinutes:ha.toHoursAndMinutes(x.workingTimeDesign)[1]})}))}),[x.workingTimeDesign,L.workingTimeDesignMinutes,R]),Object(r.useEffect)((function(){d.current&&L.workingTimeHours!==x.workingTime.hours&&R((function(e){var t;return Object(A.a)(Object(A.a)({},e),{},{workingTimeHours:null!==(t=x.workingTime.hours)&&void 0!==t?t:0})}))}),[x.workingTime.hours,L.workingTimeHours,R]),Object(r.useEffect)((function(){d.current&&L.workingTimeMinutes!==x.workingTime.minutes&&R((function(e){var t;return Object(A.a)(Object(A.a)({},e),{},{workingTimeMinutes:null!==(t=x.workingTime.minutes)&&void 0!==t?t:0})}))}),[x.workingTime.minutes,L.workingTimeMinutes,R]),Object(r.useEffect)((function(){d.current&&L.priorKnowledge!==x.priorKnowledge&&R((function(e){return Object(A.a)(Object(A.a)({},e),{},{priorKnowledge:x.priorKnowledge})}))}),[x.priorKnowledge,L.priorKnowledge,R]),Object(r.useEffect)((function(){d.current&&L.objective!==x.objective&&R((function(e){return Object(A.a)(Object(A.a)({},e),{},{objective:x.objective})}))}),[x.objective,L.objective,R]),Object(r.useEffect)((function(){d.current&&L.isPublic!==x.isPublic&&R((function(e){return Object(A.a)(Object(A.a)({},e),{},{isPublic:x.isPublic})}))}),[x.isPublic,L.isPublic,R]);var W=L.name,Q=L.category,z=L.classSize,K=L.workingTimeDesignHours,U=L.workingTimeDesignMinutes,Z=L.workingTimeHours,X=L.workingTimeMinutes,Y=L.priorKnowledge,_=L.description,$=L.objective,ee=L.isPublic,te=Object(pe.a)("categories",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}),ne=te.isLoading,ae=te.isError,re=te.data,ie=te.error;if(ae)return Object(a.jsx)(J.a,{children:ie.message});if(ne)return Object(a.jsx)(J.a,{children:"Cargando..."});var ce=function(e){var t=e.target,n=t.name,a=t.value;a="number"!==t.type||isNaN(t.value)?"checkbox"===t.type?t.checked:t.value:parseInt(t.value);var r={target:{name:t.name,value:a}},i=null;switch(n){case"workingTimeHours":n="workingTime",i="hours",a=isNaN(a)?0:a;break;case"workingTimeMinutes":n="workingTime",i="minutes",a=isNaN(a)?0:a;break;case"category":a=re.categories.find((function(e){return e.name===a}))}o.emit("edit-metadata-field",{designId:h._id,field:n,value:a,subfield:i}),F(r)},se=function(){return m({type:S.ui.toggleModal,payload:"LearningResult"})};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsx)(G.a,{item:!0,xs:12,md:3,lg:2,className:s.leftPanel}),Object(a.jsxs)(G.a,{item:!0,xs:12,md:6,lg:8,className:s.workspace,children:[Object(a.jsxs)("div",{className:s.title,children:[Object(a.jsx)(J.a,{variant:"h4",children:"Informaci\xf3n Dise\xf1o"}),Object(a.jsx)(B.a,{variant:"outlined",color:"default",onClick:function(e){o.emit("save-design",{designId:h._id}),O("Su dise\xf1o se ha guardado correctamente",{variant:"success",autoHideDuration:2e3})},children:"Guardar Informaci\xf3n"})]}),Object(a.jsx)(je.a,{}),Object(a.jsxs)(G.a,{container:!0,spacing:3,className:s.content,children:[Object(a.jsx)(G.a,{item:!0,className:s.grid,xs:12,sm:9,children:Object(a.jsx)(Xn,{ref:v,name:"name",placeholder:"Nombre",initialvalue:W,onChange:ce})}),Object(a.jsx)(G.a,{item:!0,className:s.grid,xs:12,sm:3,children:Object(a.jsxs)("div",{children:[Object(a.jsx)(J.a,{variant:"body2",children:"Visibilidad"}),Object(a.jsx)(Wt.a,{control:Object(a.jsx)(Qt.a,{name:"isPublic",checked:ee,onChange:ce,disabled:!(h.owner===l.user.uid)}),label:ee?"P\xfablico":"Privado"})]})}),Object(a.jsx)(G.a,{item:!0,className:s.grid,xs:12,md:12,lg:6,children:Object(a.jsxs)(On.a,{className:s.category,variant:"outlined",children:[Object(a.jsx)(ga.a,{id:"category-label",children:"Categor\xeda"}),Object(a.jsx)(vn.a,{labelId:"category-label",name:"category",label:"Categor\xeda",value:Q,onChange:ce,MenuProps:{classes:{paper:s.categoryPopOver}},children:null==re||0===re.categories.length?Object(a.jsx)(qt.a,{value:"Sin categor\xeda",children:"Sin categor\xeda"}):re.categories.map((function(e){return Object(a.jsx)(qt.a,{value:e.name,children:e.name},e._id)}))})]})}),Object(a.jsx)(G.a,{item:!0,className:s.grid,xs:12,md:12,lg:6,children:Object(a.jsx)(Xn,{ref:y,name:"classSize",placeholder:"Tama\xf1o de la clase",initialvalue:null!==z&&void 0!==z?z:0,type:"number",min:0,onChange:ce})}),Object(a.jsx)(G.a,{item:!0,className:s.grid,xs:12,md:12,lg:6,children:Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsx)(J.a,{children:" Tiempo de trabajo "}),Object(a.jsxs)("div",{className:s.timeField,children:[Object(a.jsx)(Xn,{ref:k,name:"workingTimeHours",placeholder:"Horas",initialvalue:Z,type:"number",min:0,onChange:ce}),Object(a.jsx)(J.a,{style:{marginLeft:10,marginRight:10},children:" : "}),Object(a.jsx)(Xn,{ref:C,name:"workingTimeMinutes",placeholder:"Minutos",initialvalue:X,type:"number",min:0,max:59,onChange:ce})]})]})}),Object(a.jsx)(G.a,{item:!0,className:s.grid,xs:12,md:12,lg:6,children:Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsx)(J.a,{children:" Tiempo dise\xf1ado "}),Object(a.jsxs)("div",{className:s.timeField,children:[Object(a.jsx)(M.a,{variant:"outlined",name:"workingTimeDesignHours",value:K,label:"Horas",type:"number",disabled:!0,fullWidth:!0}),Object(a.jsx)(J.a,{style:{marginLeft:10,marginRight:10},children:" : "}),Object(a.jsx)(M.a,{variant:"outlined",name:"workingTimeDesignMinutes",value:U,label:"Minutos",type:"number",disabled:!0,fullWidth:!0})]})]})}),Object(a.jsx)(G.a,{item:!0,className:s.grid,xs:12,children:Object(a.jsx)(Xn,{ref:D,name:"description",placeholder:"Descripci\xf3n",initialvalue:null!==_&&void 0!==_?_:"",onChange:ce,rowMax:5,multiline:!0})}),Object(a.jsx)(G.a,{item:!0,className:s.grid,xs:12,md:12,lg:6,children:Object(a.jsx)(Xn,{ref:N,name:"priorKnowledge",placeholder:"Conocimiento previo",initialvalue:null!==Y&&void 0!==Y?Y:"",onChange:ce,rowMax:5,multiline:!0})}),Object(a.jsx)(G.a,{item:!0,className:s.grid,xs:12,md:12,lg:6,children:Object(a.jsx)(Xn,{ref:E,name:"objective",placeholder:"Objetivos",initialvalue:null!==$&&void 0!==$?$:"",onChange:ce,rowMax:5,multiline:!0})})]}),Object(a.jsxs)("div",{className:s.title,children:[Object(a.jsx)(J.a,{variant:"h4",children:"Resultados de aprendizaje"}),Object(a.jsx)(B.a,{variant:"outlined",color:"default",onClick:se,children:"Agregar"})]}),Object(a.jsx)(je.a,{}),Object(a.jsx)("div",{className:s.content,children:0===x.results.length?Object(a.jsxs)(V.a,{severity:"info",style:{width:"100%",display:"flex",justifyContent:"center"},children:["Este dise\xf1o a\xfan no tiene resultados de aprendizaje. Agrega el primer resultado de aprendizaje haciendo click "," ",Object(a.jsx)(q.a,{className:s.clickHere,onClick:se,children:"aqu\xed"}),"!"]}):x.results.map((function(e,t){return Object(a.jsx)(Oa,Object(A.a)({index:t},e),"learning-result-".concat(t))}))})]}),Object(a.jsx)(G.a,{item:!0,xs:12,md:3,lg:2,className:s.rightPanel})]},h._id),Object(a.jsx)(Ta,{design:h,isOpen:g.isLearningResultModalOpen})]})})),Pa=function(e){var t=e.children,n=e.value,r=e.index,i=Object(oe.a)(e,["children","value","index"]);return Object(a.jsx)("div",Object(A.a)(Object(A.a)({role:"tabpanel",hidden:n!==r,id:"full-width-tabpanel-".concat(r),"aria-labelledby":"full-width-tab-".concat(r)},i),{},{children:n===r&&Object(a.jsx)(J.a,{component:"span",children:t})}))},La=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("bloom/category");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error(t.message);case 5:return e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fa=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("bloom/verb",{category:t},"POST");case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ma=Object(F.a)((function(e){return{leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},workspace:{paddingLeft:30,paddingRight:30,background:e.palette.background.workSpace,minHeight:"calc(100vh - 64px)"},rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},menu:{borderBottom:"1px solid ".concat(e.palette.divider)},menuLetters:{marginLeft:e.spacing(2),marginBottom:e.spacing(1)},menuLettersSelected:{marginLeft:e.spacing(2),borderBottom:"2px solid ".concat(e.palette.divider)},tabBar:{display:"flex",justifyContent:"space-between",alignItems:"center"},usersConnecteds:{display:"flex"},error:{display:"flex",justifyContent:"center",padding:20,alignItems:"start",minHeight:"calc(100vh - 128px)"}}})),Ra=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}},Ba=function(){var e=Ma(),t=Object(r.useRef)(!0),n=Object(r.useRef)(),i=Object(L.i)().id,c=Mn(),s=c.doc,o=c.provider,l=c.connectToDesign,d=c.clearDoc,p=f().authState,g=w(),m=g.socket,h=g.online,x=Object(r.useState)([]),O=Object(b.a)(x,2),v=O[0],y=O[1],k=Object(r.useState)(0),C=Object(b.a)(k,2),N=C[0],D=C[1],T=An(),E=T.designState,I=T.dispatch,P=E.design,F=Object(r.useState)(null),M=Object(b.a)(F,2),R=M[0],B=M[1],q=Object(r.useCallback)(Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La();case 2:t=e.sent,I({type:S.design.setBloomCategories,payload:t.bloomCategories});case 4:case"end":return e.stop()}}),e)}))),[I]),W=Object(r.useCallback)(Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa("");case 2:t=e.sent,I({type:S.design.setBloomVerbs,payload:t.bloomVerbs});case 4:case"end":return e.stop()}}),e)}))),[I]);Object(r.useEffect)((function(){q(),W()}),[q,W]),Object(r.useEffect)((function(){var e=n.current;return function(){null===e||void 0===e||e.clearEditors(),d(),t.current=!1}}),[d]),Object(r.useEffect)((function(){h&&(null===m||void 0===m||m.emit("join-to-design",{user:p.user,designId:i},(function(e){e.ok?t.current&&(I({type:S.design.updateDesign,payload:e.data.design}),l(i)):B(e.message)})))}),[m,p.user,h,i,I,l]),Object(r.useEffect)((function(){return null===m||void 0===m||m.on("update-design",(function(e){t.current&&I({type:S.design.updateDesign,payload:e})})),null===m||void 0===m||m.on("edit-metadata-field",(function(e){var n=e.field,a=e.value,r=e.subfield;t.current&&I({type:S.design.changeMetadataField,payload:{field:n,value:a,subfield:r}})})),null===m||void 0===m||m.on("edit-task-field",(function(e){var n=e.learningActivityIndex,a=e.index,r=e.field,i=e.value,c=e.subfield;t.current&&I({type:S.design.changeTaskField,payload:{learningActivityIndex:n,index:a,field:r,value:i,subfield:c}})})),null===m||void 0===m||m.on("users",(function(e){t.current&&y(e)})),null===m||void 0===m||m.on("change-design-privileges",(function(e){I({type:S.design.setDesignPrivileges,payload:e})})),function(){null===m||void 0===m||m.emit("leave-from-design",{user:p.user,designId:i}),null===m||void 0===m||m.off("updateDesign"),null===m||void 0===m||m.off("edit-metadata-field"),null===m||void 0===m||m.off("edit-task-field"),null===m||void 0===m||m.off("users")}}),[m,p.user,i,I]);return R?Object(a.jsx)("div",{className:e.error,children:Object(a.jsx)(V.a,{severity:"error",children:R})}):P&&s&&o?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(G.a,{container:!0,className:e.menu,children:[Object(a.jsx)(G.a,{item:!0,xs:12,md:3,lg:2}),Object(a.jsxs)(G.a,{item:!0,xs:12,md:6,lg:8,className:e.tabBar,children:[Object(a.jsxs)(gn.a,{value:N,onChange:function(e,t){D(t)},"aria-label":"full width tabs example",children:[Object(a.jsx)(mn.a,Object(A.a)({label:"METADATA"},Ra(0))),Object(a.jsx)(mn.a,Object(A.a)({label:"DISE\xd1O"},Ra(1)))]}),Object(a.jsx)("div",{className:e.usersConnecteds,children:v.map((function(e,t){var n;return Object(a.jsx)(Oe.a,{alt:ke(e.name,e.lastname),src:null!==(n=e.img)&&void 0!==n?n:"",children:Ce(e.name,e.lastname)},e.uid+t)}))})]}),Object(a.jsx)(G.a,{item:!0,xs:12,md:3,lg:2})]},P._id),Object(a.jsx)(Pa,{value:N,index:0,children:Object(a.jsx)(Ia,{ref:n})}),Object(a.jsx)(Pa,{value:N,index:1,children:Object(a.jsx)(pa,{})})]}):Object(a.jsx)(J.a,{children:"Cargando..."})},qa=Object(F.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},titleMargin:{margin:"auto"},bodyMargin:{marginLeft:e.spacing(5),marginRight:e.spacing(5)}}})),Wa=function(){var e=qa(),t=T(),n=t.uiState,r=t.dispatch,i=n.confirmModalData,c=i.type,s=i.args,o=i.actionMutation,l=Object(ot.b)().enqueueSnackbar,d=w().socket,b=function(){r({type:S.ui.setConfirmData,payload:{type:null,args:null,actionMutation:null}}),r({type:S.ui.toggleModal,payload:"Confirmation"})},p=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("dise\xf1o"!==c){e.next=6;break}return e.next=3,o.mutate(s);case 3:l("Su dise\xf1o se ha eliminado",{variant:"success",autoHideDuration:2e3}),e.next=7;break;case 6:"actividad"===c?(d.emit("delete-learningActivity",s),l("Su actividad se ha eliminado",{variant:"success",autoHideDuration:2e3})):"tarea"===c&&(d.emit("delete-task",s),l("Su tarea se ha eliminado",{variant:"success",autoHideDuration:2e3}));case 7:r({type:S.ui.toggleModal,payload:"Confirmation"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(K.a,{onClose:b,open:n.isConfirmationModalOpen,children:[Object(a.jsx)(U.a,{className:e.titleMargin,children:"\xbfEst\xe1s seguro?"}),Object(a.jsx)(R.a,{"aria-label":"close",className:e.closeButton,onClick:b,children:Object(a.jsx)(Ct.a,{})}),Object(a.jsx)(Z.a,{dividers:!0,children:Object(a.jsxs)(J.a,{children:["\xbfEst\xe1s realmente seguro de que deseas eliminar tu ",c,"? Este proceso no se podr\xe1 deshacer luego de haber elegido la opci\xf3n de eliminar."]})}),Object(a.jsxs)(X.a,{children:[Object(a.jsx)(B.a,{onClick:b,children:"Cancelar"}),Object(a.jsx)(B.a,{variant:"contained",color:"primary",onClick:p,children:"Eliminar"})]})]})})},Qa=function(){var e=f(),t=e.authState,n=e.verifyToken,i=t.token,c=t.checking;return Object(r.useEffect)((function(){n()}),[n]),c?Object(a.jsx)("h1",{children:"Espere..."}):Object(a.jsx)(P.a,{children:Object(a.jsx)("div",{children:Object(a.jsxs)(_t,{children:[Object(a.jsx)(rn.a,{}),Object(a.jsx)(en,{}),Object(a.jsxs)(ot.a,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:cn.a,children:[Object(a.jsxs)(L.d,{children:[Object(a.jsx)(le,{exact:!0,path:"/",component:se,isAuthenticated:!c&&!!i}),Object(a.jsx)(de,{exact:!0,path:"/profile/:uid",component:Pt,isAuthenticated:!c&&!!i}),Object(a.jsx)(de,{exact:!0,path:"/my-designs",component:jt,isAuthenticated:!c&&!!i}),Object(a.jsx)(de,{path:"/my-designs/:urlPath+/",component:jt,isAuthenticated:!c&&!!i}),Object(a.jsx)(de,{exact:!0,path:"/shared-with-me",component:on,isAuthenticated:!c&&!!i}),Object(a.jsx)(de,{exact:!0,path:"/public-repository",component:dn,isAuthenticated:!c&&!!i}),Object(a.jsx)(de,{exact:!0,path:"/users/search",component:pn,isAuthenticated:!c&&!!i}),Object(a.jsx)(de,{exact:!0,path:"/designs/:id",component:Ba,isAuthenticated:!c&&!!i}),Object(a.jsx)(L.a,{to:"/"})]}),Object(a.jsx)(Wa,{})]}),Object(a.jsx)(an,{})]})})})},Va=new o.a;var za=function(){return Object(a.jsx)(l.a,{client:Va,children:Object(a.jsx)(I,{children:Object(a.jsx)(O,{children:Object(a.jsx)(Nn,{children:Object(a.jsx)(k,{children:Object(a.jsx)(Rn,{children:Object(a.jsx)(Qa,{})})})})})})})};s.a.render(Object(a.jsx)(za,{}),document.getElementById("root"))}},[[508,1,2]]]);
//# sourceMappingURL=main.40ad2373.chunk.js.map