{"version":3,"sources":["utils/fetch.js","contexts/AuthContext.js","contexts/SocketContext.js","hooks/useSocket.js","types/index.js","types/ui.js","types/design.js","contexts/ui/uiReducer.js","contexts/ui/UiContext.js","assets/img/PyramidBloomLight.png","assets/img/PyramidBloomDark.png","assets/img/Design.png","assets/img/collaboration.svg","assets/img/time_chart.svg","assets/img/evaluation.svg","assets/img/conversational_framework.svg","pages/LandingPage/LandingPage.js","router/PublicRoute.js","router/PrivateRoute.js","utils/textFormatters.js","services/DesignService.js","components/Design.js","components/DesignSkeleton.js","components/DesignsContainer.js","services/FolderService.js","components/RightClickMenu.js","components/DesignsFolder.js","components/FoldersContainer.js","pages/Navigation/LeftPanel.js","pages/Navigation/MyDesigns/DesignsBreadcrumbs.js","hooks/useHorizontalScroll.js","components/HorizontalScrollableContainer.js","pages/Navigation/MyDesigns/RecentDesigns.js","pages/Navigation/MyDesigns/FolderModal.js","components/CustomMenu.js","pages/Navigation/MyDesigns/ImportDesignsModal.js","pages/Navigation/MyDesigns/MyDesignsPage.js","services/UserService.js","hooks/useForm.js","pages/User/UserProfile/EditProfileModal.js","components/UserCard.js","pages/User/UserProfile/ShowContactsModal.js","pages/User/UserProfile/UserProfile.js","assets/img/logo_uct.png","contexts/UserConfigContext.js","theme/theme.js","assets/img/logo_uct_2.png","components/ModalFormWithImage.js","pages/Auth/LoginModal.js","pages/Auth/RegisterModal.js","contexts/design/designReducer.js","contexts/design/DesignContext.js","components/NavBar.js","components/Footer.js","pages/Navigation/SharedWithMe/SharedWithMePage.js","services/CategoryService.js","components/KeywordManager.js","pages/Navigation/PublicRepository/PublicRepositoryPage.js","components/UserCardSkeleton.js","pages/User/SearchUsersPage/SearchUsersPage.js","contexts/SharedDocContext.js","components/SharedTextFieldTipTapEditor.js","pages/DesignPage/Workspace/Task.js","components/StackedBar.js","assets/resource/items.js","pages/DesignPage/Workspace/LearningActivity.js","components/PieGraphic.js","pages/DesignPage/Workspace/ShareModal.js","pages/DesignPage/PDF/MiniContext.js","utils/dateTimeFormatter.js","pages/DesignPage/PDF/DocumentPDF.js","components/TabPanel.js","pages/DesignPage/PDF/ConfigurationData.js","pages/DesignPage/PDF/ViewAndDownloadPDFModal.js","pages/DesignPage/Workspace/ResourceLink.js","pages/DesignPage/Workspace/ResourceLinksModal.js","pages/DesignPage/Workspace/Evaluation.js","pages/DesignPage/Workspace/EvaluationModal.js","pages/DesignPage/Workspace/ReorderActivitiesModal.js","pages/DesignPage/Workspace/ReorderTaskModal.js","pages/DesignPage/Workspace/DesignWorkspace.js","utils/files.js","pages/DesignPage/Metadata/LearningResult.js","pages/DesignPage/Metadata/BloomPiramid.js","pages/DesignPage/Metadata/BloomVerbList.js","pages/DesignPage/Metadata/LearningResultModal.js","components/TextEditable.js","pages/DesignPage/Metadata/DesignMetadata.js","services/BloomService.js","pages/DesignPage/Workspace/CheckSaveDesignModal.js","components/Commentary.js","components/CommentaryInput.js","components/DesignComments.js","pages/DesignPage/DesignPage.js","components/ConfirmationModal.js","pages/DesignPageReader/DesignReader/TaskReader.js","pages/DesignPageReader/DesignReader/LearningActivityReader.js","pages/DesignPageReader/DesignReader/DesignReader.js","components/AssessmentModal.js","pages/DesignPageReader/DesignPageReader.js","pages/SharedLink/SharedLinkPage.js","pages/Auth/ResetPasswordPage.js","router/AppRouter.js","App.js","index.js"],"names":["baseUrl","process","fetchWithoutToken","endpoint","data","a","method","url","fetch","resp","json","headers","body","JSON","stringify","fetchWithToken","token","localStorage","getItem","uploadFetchWithToken","AuthContext","createContext","useAuthState","context","useContext","undefined","Error","initialState","checking","user","AuthProvider","children","useState","authState","setAuthState","login","email","password","ok","register","userData","verifyToken","useCallback","setItem","useEffect","removeItem","Provider","value","logout","SocketContext","useSocketState","SocketProvider","serverPath","socket","setSocket","online","setOnline","connectSocket","tempSocket","io","connect","transports","autoConnect","forceNew","query","disconnectSocket","disconnect","connected","on","useSocket","useSnackbar","enqueueSnackbar","closeSnackbar","snackbarRef","useRef","current","variant","persist","emitWithTimeout","onSuccess","onTimeout","timeout","called","timer","setTimeout","clearTimeout","args","apply","types","ui","openModal","closeModal","updateFolderPath","toggleConfirmAction","setFolder","setConfirmData","setPDF","setResourceLink","setEvaluation","setPDFConfig","setUserSaveDesign","setHistoryInCheckSaveDesign","setScrollToNewActivity","setScrollToNewTask","setReorderTasksModalState","design","updateDesign","changeMetadataField","changeTaskField","setCurrentLearningResultField","clearCurrentLearningResult","setCurrentLearningResult","setBloomCategories","setBloomVerbs","setDesignPrivileges","addDesignKeyword","removeDesignKeyword","updateReadOnlyLink","setAssessments","setScoreMean","commentDesign","deleteComment","setConnectedUsers","reorderActivities","reorderTasks","uiReducer","state","action","type","payload","folderPath","toggleWitchOpenModal","setWitchOpenModal","folder","confirmModalData","pdf","typeUserPDF","resourceLink","evaluationData","field","userSaveDesign","historyData","newActivity","newTask","reorderTaskModalState","UiContext","useUiState","isLoginModalOpen","isRegisterModalOpen","isLearningResultModalOpen","isEditProfileModalOpen","isContactsModalOpen","isConfirmationModalOpen","isShareModalOpen","setWichOpenModal","isFolderModalOpen","isPDFModalOpen","isResourceModalOpen","isEvaluationModalOpen","isImportDesignsModalOpen","isCheckSaveDesignModalOpen","isAssessmentModalOpen","isReorderActivitiesModalOpen","isReorderTasksModalOpen","learningActivityId","tasks","_id","name","actionMutation","learningActivityIndex","taskIndex","UiProvider","useReducer","uiState","dispatch","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","cx","cy","rx","ry","fill","d","transform","id","r","_ref18","_ref19","x","y","width","height","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","_ref26","_ref27","_ref28","_ref29","_ref30","_ref31","_ref32","_ref33","_ref34","_ref35","_ref36","_ref37","_ref38","_ref39","_ref40","_ref41","_ref42","_ref43","_ref44","_ref45","_ref46","_ref47","_ref48","_ref49","_ref50","SvgCollaboration","_ref","svgRef","title","titleId","props","xmlns","viewBox","ref","ForwardRef","points","SvgTimeChart","SvgEvaluation","_ref51","_ref52","_ref53","_ref54","_ref55","_ref56","_ref57","_ref58","_ref59","_ref60","_ref61","_ref62","_ref63","_ref64","_ref65","_ref66","_ref67","_ref68","_ref69","_ref70","_ref71","_ref72","_ref73","_ref74","_ref75","_ref76","_ref77","_ref78","_ref79","_ref80","_ref81","opacity","_ref82","_ref83","_ref84","_ref85","_ref86","_ref87","_ref88","_ref89","_ref90","_ref91","_ref92","_ref93","_ref94","SvgConversationalFramework","useStyles","makeStyles","theme","root","minHeight","landingPage","paddingLeft","paddingRight","position","paddingBottom","spacing","background","palette","paper","navbar","featureList","display","paddingTop","breakpoints","down","featureGrid","padding","feature","flexDirection","alignItems","workSpace","featureImage","marginBottom","inviteUser","justifyContent","inviteUserButton","marginTop","firstData","introText","marginLeft","marginRight","phrase","banner","bannerItem","row","sizeIcon","fontSize","firstImgSize","marginAutor","LandingPage","useTheme","classes","handleOpenRegisterModal","Grid","className","container","item","xs","lg","Box","Typography","style","Button","onClick","color","Avatar","src","Design","alt","align","md","Paper","PyramidBloomDark","PyramidBloomLight","inviteUserText","PublicRoute","isAuthenticated","Component","component","rest","to","PrivateRoute","location","pathname","formatName","lastname","firstName","split","firstLastname","getUserInitials","substring","getRecentDesigns","message","getDesignsByFolder","path","pageParam","from","getPublicDesignsByUser","getPublicFilteredDesigns","filter","keywords","categories","getDesignsSharedWithMe","createDesign","isPublic","deleteDesignById","getDesignByLink","link","trim","duplicateDesign","importDesign","filename","last","border","divider","minWidth","borderRadius","cursor","userSelect","backgroundColor","boxShadow","designHover","ownerInfo","borderTop","rowJustified","col","ellipsis","whiteSpace","overflow","textOverflow","designIcon","alignSelf","justifySelf","deleteIcon","top","right","closeButton","grey","updatedAt","metadata","owner","privileges","canDelete","queryClient","useQueryClient","history","useHistory","deleteMutation","useMutation","onMutate","cancelQueries","previousDesigns","getQueryData","previousPublicDesigns","includes","setQueryData","oldData","oldPage","pages","find","page","designs","newDesigns","newPage","newPages","previousRecentDesigns","onError","error","console","log","onSettled","invalidateQueries","autoHideDuration","handleDeleteDesign","e","stopPropagation","Card","elevation","CardActionArea","privilege","uid","push","CardContent","Description","Tooltip","arrow","placement","category","workingTime","hours","minutes","Date","toLocaleDateString","Star","scoreMean","IconButton","Delete","Link","CardActions","img","occupation","margin","DesignSkeleton","Skeleton","animation","designsContainer","flexGrow","flexWrap","textAlign","loadMore","clickHere","textDecoration","DesignsContainer","status","isFetchingNextPage","fetchNextPage","hasNextPage","handleCreateDesign","label","Array","map","index","Alert","severity","ownerId","getfolderByPath","createFolder","folderName","renameFolder","deleteFolder","mouseX","mouseY","RightClickMenu","options","setState","handleClose","onContextMenu","preventDefault","area","getBoundingClientRect","clientX","clientY","Menu","keepMounted","open","onClose","anchorReference","anchorPosition","left","option","MenuItem","onSelect","handleSelect","icon","ListItemIcon","fontStyle","content","folderContainer","shape","text","primary","folderBody","more","DesignsFolder","isMenuOpen","setMenuOpen","parentPath","replace","deleteFolderMutation","previousFolders","oldFolders","handleRename","handleDelete","Edit","Folder","currentTarget","MoreVert","onBlur","anchorEl","Boolean","anchorOrigin","vertical","horizontal","transformOrigin","FoldersContainer","LeftPanel","useLocation","createDesignMutation","mutate","startIcon","Add","List","aria-label","Divider","ListItem","button","selected","Home","ListItemText","Group","Public","default","DesignsBreadcrumbs","Breadcrumbs","newPath","folderList","shift","createBreadcrumbsLinks","useHorizontalScroll","node","setRef","useLayoutEffect","onWheel","deltaY","scrollTo","scrollLeft","behavior","addEventListener","removeEventListener","mouseWheel","overflowX","overflowY","listStyle","prev","zIndex","disabledBackground","hover","next","HorizontalScrollableContainer","scrollRef","prevRef","nextRef","KeyboardArrowLeft","KeyboardArrowRight","recentDesigns","RecentDesigns","n","Math","trunc","useQuery","isLoading","isError","createSkeletons","designList","close","folderNameInput","FolderModal","setError","setName","createFolderMutation","handleCloseModal","renameFolderMutation","transitions","duration","enteringScreen","handleCreateFolder","toLowerCase","handleRenameFolder","Dialog","fullWidth","aria-labelledby","DialogTitle","Close","DialogContent","dividers","TextField","helperText","onChange","DialogActions","CustomMenu","Icon","isOpen","setOpen","handleOpen","getContentAnchorEl","previewChip","maxWidth","backdrop","modal","ImportDesignsModal","setDesigns","loading","setLoading","importDesignsMutation","readFile","file","parse","result","prevDesigns","ex","handleImportDesigns","designFile","getFileLimitExceedMessage","limit","previewGridProps","direction","dropzoneText","previewChipProps","acceptedFiles","previewText","getDropRejectMessage","accepteds","maxSize","size","showPreviewsInDropzone","maxFileSize","showAlerts","files","fr","FileReader","onload","readAsText","showPreviews","filesLimit","useChipsForPreview","clearOnUnmount","disabled","Backdrop","CircularProgress","leftPanel","borderRight","workspace","rightPanel","borderLeft","breadCrumbs","designsAndFoldersContainer","sectionTitle","MyDesignsPage","urlparams","useParams","designsRef","isXSDevice","useMediaQuery","setWidth","setHeight","urlPath","designsQuery","useInfiniteQuery","refetchOnWindowFocus","getNextPageParam","lastPage","nPages","foldersQuery","offsetHeight","offsetWidth","handleOpenFolderModal","AddCircle","NoteAdd","CreateNewFolder","Publish","getUser","searchUsers","updateContact","contacts","newData","updateProfileInformation","institution","country","city","description","getUserByEmail","resendVerificationCode","changeUserPassword","newPassword","updateUserImage","formData","useForm","values","setValues","reset","handleInputChange","errorContainer","avatarContainer","photoProfile","isHovered","addPhotoIcon","bottom","inputFile","EditProfileModal","React","memo","setHovered","fileInputRef","setFile","imgSource","setImgSource","objectUrl","URL","createObjectURL","revokeObjectURL","updateProfileInformationMutation","previousUserProfile","prevState","handleSaveInformation","FormData","append","handleChangeFile","event","justify","accept","ButtonBase","click","onMouseEnter","onMouseLeave","AddPhotoAlternate","sm","multiline","rows","card","photo","UserCard","handleViewUser","ShowContactsModal","contact","designPanel","spaceFirstDataFirstData","centerGrid","justifyItems","spaceSecondData","spaceData","spaceDesign","spaceIcons","UserProfile","refetch","updateConctactMutation","handleAddContact","handleDeleteContact","spaceFirstData","PersonAdd","Apartment","Email","UserConfigContext","useUserConfigState","UserConfigProvider","darkTheme","modeAdvanced","userConfig","setUserConfig","isDarkActive","createMuiTheme","main","blue","dark","light","secondary","red","info","warning","orange","success","green","ThemeProvider","header","dialogContent","ModalFormWithImage","subtitle","image","actions","disableTypography","CloseRounded","form","logo","footer","initialErrors","emailError","passwordError","LoginModal","formErrors","setFormErrors","errorFromServer","setErrorFromServer","showPassword","setShowPassword","formLoginValues","handleInputFormChange","handleLogin","reduce","b","test","Logo","onSubmit","noValidate","InputProps","endAdornment","onMouseDown","Visibility","VisibilityOff","href","nameError","lastnameError","confirmPasswordError","RegisterModal","confirmPassword","handleRegister","designReducer","subfield","learningActivities","forEach","la","learningActivityID","t","taskID","currentLearningResult","verb","editing","bloomCategories","bloomVerbs","k","readOnlyLink","assessments","comments","existentCommentary","c","toString","sort","newLearningActivities","newOrder","users","DesignContext","useDesignState","DesignProvider","designState","brand","search","searchInput","borderTopRightRadius","borderBottomRightRadius","searchButton","borderTopLeftRadius","borderBottomLeftRadius","searchForm","btn","userAndOptions","navbarColor","navbarLetter","menuOptions","NavBar","setFilter","handleLogout","clear","handleChangeUserConfig","checked","handleSearchUsers","handleGoUserProfile","handleGoHomePage","handleMenu","renderUserOptions","textTransform","FormControlLabel","control","Switch","ExitToApp","AppBar","Toolbar","OutlinedInput","placeholder","disableElevation","Search","pos","footerColor","Footer","Container","SharedWithMePage","sharedDesignsQuery","getCategories","keywordList","keyword","searchContainer","input","keywordFilter","KeywordManager","onChangeKeywords","setKeyword","keywordError","setKeywordError","Chip","onDelete","slice","handleRemoveKeyword","up","categoriesContainer","PublicRepositoryPage","setSearch","categoriesFilter","setCategoriesFilter","setKeywords","categoriesQuery","handleSearch","Checkbox","handleToggleCategory","targetKeyword","ocupation","UserCardSkeleton","usersContainer","SearchUsersPage","q","queryString","redirectTo","SharedDocContext","useSharedDocContext","SharedDocProvider","doc","setDoc","provider","setProvider","setUser","setConnected","connectToDesign","yDoc","Y","guid","wsProvider","WebsocketProvider","preparedUser","awareness","setLocalStateField","clearDoc","htmlToText","htmlString","span","document","createElement","innerHTML","textContent","innerText","rowMax","focused","inputContainer","borderWidth","borderStyle","borderColor","editorx","typography","body1","fontFamily","marginBlockStart","marginBlockEnd","outline","float","pointerEvents","SharedTextfieldTipTapEditor","forwardRef","maxLength","initialvalue","max","min","deleteOnRemove","onSynced","isMounted","setFocused","synced","setSynced","editor","setEditor","getMultilineText","p","getText","getJSON","getHTML","setText","line","commands","first","setContent","useImperativeHandle","clearText","Editor","editorProps","handleTextInput","view","isNaN","dom","firstChild","match","parseInt","handlePaste","childCount","newValue","extensions","Document","extend","Paragraph","Text","CollaborationCursor","configure","Collaboration","CharacterCount","onUpdate","transaction","docs","toJSON","onFocus","once","handleIncrement","val","handleDecrement","chain","focus","run","ArrowDropUp","ArrowDropDown","initialValuePropsAreEqual","prevProps","nextProps","MemorizedSharedTextfieldTipTapEditor","trashIcon","tasksSpacing","taskBody","taskSpacingDescription","taskSpacingDescriptionBD","colorLearningType","timeField","grid","gridContainer","gridTemplateColumns","gridTemplateRows","gridTemplateAreas","firstRow","learningTypeContainer","gridArea","learningType","modality","format","delete","resourceLinkGrid","fab","maxHeight","Task","task","sumHours","sumMinutes","refTask","hoursRef","minutesRef","descriptionRef","isMediumDevice","timeHours","timeMinutes","timeDesignHours","workingTimeDesign","timeDesignMinutes","groupSize","scrollIntoView","clearTexts","handleEditTaskField","emit","designId","handleOpenResourceModal","handleDeleteTask","handleChangeDropdown","preventDuplicate","square","FormControl","InputLabel","shrink","Select","labelId","gutterBottom","InputLabelProps","inputComponent","inputProps","classSize","colorBox","colorBoxRightPanel","spacingGraphic","legend","StackedBar","items","legends","colorGraphicToPdf","colors","valueTotal","toFixed","itemsLearningType","itemsLearningTypePie","itemsFormat","itemsModality","unitSpacing","titleUnitSpacing","graphicUnitSpacing","spacingDescriptionlearningActivity","spacingDescription","spacingLinkedResults","buttonPos","gridTask","descriptionContainer","learningResultList","taskContainer","LearningActivity","learningActivity","refActivity","titleRef","taskRefs","refs","createRef","handleDeleteUnit","learningResults","handleAddTask","ObjectID","handleReorderTasksModalOpen","handleEditLearningActivityField","linkedLearningResult","results","lr","isSelected","indexLearningResults","_indexLearningResults","handleToggleLearningResult","handleOpenMenu","handleOpenModalEvaluation","ListAlt","Reorder","Fab","PieGraphic","dataSource","argumentField","valueField","verticalAlignment","horizontalAlignment","itemTextPosition","rowCount","enabled","customizeTooltip","arg","argumentText","percent","titleSectionShare","divSectionShare","ShareModal","inputUser","setInputUser","newPrivileges","setNewPrivileges","handleCopyLinkToClipboard","navigator","clipboard","writeText","handleGenerateLink","wordBreak","FileCopy","Autocomplete","blurOnSelect","v","u","handleAddContactInArray","inputValue","onInputChange","newInputUser","getOptionSelected","renderInput","params","handleChange","MiniContext","confirmDateConfiguration","setDateConfiguration","now","selectedDate","setSelectedDate","setPrivileges","months","days","formatDate","dateTime","showDayName","year","getFullYear","date","getDate","monthName","getMonth","dayName","getDay","formatTime","showSeconds","hour","minute","second","toLocaleTimeString","DocumentPDF","useBetween","styles","StyleSheet","create","objectFit","marginVertical","marginHorizontal","box","pageNumber","marginTitle","secondTitle","table","alignContent","cell","flexShrink","flexBasis","breakLine","manyAuthorsSelected","author","wrap","priorKnowledge","evaluationPattern","evaluation","borderBottom","indexTask","borderLeftWidth","resourceLinks","resource","render","fixed","totalPages","TabPanel","other","role","hidden","ConfigurationData","expanded","setExpanded","handleChangePanel","panel","isExpanded","Accordion","AccordionSummary","expandIcon","aria-controls","AccordionDetails","utils","DateFnsUtils","disableToolbar","KeyboardButtonProps","newState","handleChangeSelectAuthor","spaceInit","menu","tabBar","drawer","loadingFile","easing","easeInOut","animationIterationCount","animationDirection","a11yProps","ViewAndDownloadPDFModal","imgGraphic","setPdfView","setImg","tabIndex","setTabIndex","pdfDocument","setPdfDocument","html2canvas","scrollX","canvas","toDataURL","defineImage","fullScreen","titleMargin","Tabs","indicatorColor","textColor","centered","Tab","fileName","blob","PictureAsPdf","spaceResource","tooltip","ResourceLink","newResource","setNewResource","newTitle","changeTitle","newLink","changeLink","handleDeleteResourceLink","buttonZone","resourceZone","contentSpace","ResourceLinksModal","resources","resourceEvaluationGrid","Evaluation","newEvaluation","setNewEvaluation","newType","changeType","newDescription","changeDescription","handleDeleteResourceEvaluation","EvaluationModal","dndZone","draggable","ReorderActivitiesModal","setNewOrder","onDragEnd","destination","list","startIndex","endIndex","splice","removed","reorder","droppableId","provided","snapshot","droppableProps","innerRef","draggableId","draggableProps","dragHandleProps","ReorderTasksModal","buttonGroupWorkSpace","textLeftPanel","LeftPanelMetadata","textLeftPanelMetadata","graphicsSpacing","betweenGraphics","workSpaceUnits","origin","DesignWorkspace","openMenuPDF","setOpenMenuPDF","pdfView","showGraphicLearningType","showGraphicFormat","showGraphicModality","useMemo","activity","handleOpenReorderActivitiesModal","handleOpenModalPDF","handleCloseMenu","activities","handleOpenDesign","designToExport","createdAt","auxElement","setAttribute","encodeURIComponent","exportJsonToFile","ButtonGroup","LearningResult","uiDispatch","designDispatch","clipPath","getContrastText","transition","crear","evaluar","analizar","aplicar","comprender","recordar","active","BloomPiramid","isActive","BloomVerbList","Radio","adornament","steps","stepContent","LearningResultModal","setDescription","activeStep","setActiveStep","Stepper","alternativeLabel","Step","StepLabel","bc","startAdornment","InputAdornment","prevActiveStep","learningResult","TextEditable","onSave","setEditing","handleSave","readOnly","Save","sectionAction","categoryPopOver","DesignMetadata","evaluationPatternRef","nameRef","classSizeRef","priorKnowledgeRef","objectiveRef","evaluationRef","workingTimeDesignHours","workingTimeDesignMinutes","workingTimeHours","workingTimeMinutes","objective","clearEditors","handleChangeMetadataField","handleOpenLearningResultmodal","MenuProps","getBloomCategories","getBloomVerbs","bodyMargin","CheckSaveDesignModal","Commentary","commentary","commentaryInput","setCommentaryInput","handleDeleteCommentary","commentaryId","CardHeader","avatar","subheader","rowsMax","CommentaryInput","setCommentary","DesignComments","menuLetters","menuLettersSelected","tabBarGrid","usersConnecteds","DesignPage","isSmDevice","isXsDevice","setUsersList","metadataRef","tabsRef","gridWorkspaceRef","prefetchBloomCategories","prefetchBloomVerbs","metadataComponent","public","res","userInPrivileges","newDesign","mean","off","window","onbeforeunload","renderConnectedUsersButtonMenu","renderConnectedUserList","ConfirmationModal","setMessage","confirmResult","socketEvent","errorMessage","TaskReader","LearningActivityReader","renderLinkedLearningResults","linkedLearningResults","textLefPanel","DesignReader","duplicateDesignMutation","handleDuplicateDesign","handleOpenUserProfile","ratingRoot","labels","0.5","1","1.5","2","2.5","3","3.5","4","4.5","5","getInitialScore","existentAssesment","score","AssessmentModal","initialScore","assessment","setAssessment","setHover","Rating","precision","onChangeActive","newHover","rate","DesignPageReader","SharedLinkPage","errorSocket","setErrorSocket","setId","handleOpenAssessmentModal","backButton","instructions","codeForm","codeButton","codeInput","emailInitialValue","codeInitialValue","passwordInitialValue","confirm","confirmError","ResetPasswordPage","setUid","verificationCode","setVerificationCode","setCodeForm","setEmail","passwordForm","setPasswordForm","Code","VpnKey","Done","handleNext","handleChangeEmail","handleSearchAccount","randomCode","handleResetPassword","handleChangePassword","handleChangeCode","handleResendCode","step","toUpperCase","autoFocus","getStepContent","AppRouter","CssBaseline","exact","QueryClient","LearningActivityDesigner","QueryClientProvider","client","maxSnack","TransitionComponent","Grow","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.4f5c680c.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_URL;\r\n//const baseUrl = 'http://localhost:4000/api';\r\nconst fetchWithoutToken = async (endpoint, data, method = 'GET') => {\r\n    const url = `${baseUrl}/${endpoint}`;\r\n\r\n    if (method === 'GET') {\r\n        const resp = await fetch(url);\r\n        return await resp.json();\r\n    } else {\r\n        const resp = await fetch(url, {\r\n            method,\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n            },\r\n            body: JSON.stringify(data)\r\n        });\r\n        return await resp.json();\r\n    }\r\n};\r\n\r\nconst fetchWithToken = async (endpoint, data, method = 'GET') => {\r\n    const url = `${baseUrl}/${endpoint}`;\r\n    const token = localStorage.getItem('token') || '';\r\n    if (method === 'GET') {\r\n        const resp = await fetch(url, {\r\n            method,\r\n            headers: {\r\n                'x-token': token,\r\n            },\r\n        });\r\n        return await resp.json();\r\n    } else {\r\n        const resp = await fetch(url, {\r\n            method,\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'x-token': token,\r\n            },\r\n            body: JSON.stringify(data)\r\n        });\r\n        return await resp.json();\r\n    }\r\n};\r\n\r\nconst uploadFetchWithToken = async (endpoint, data, method = 'POST') => {\r\n    const url = `${baseUrl}/${endpoint}`;\r\n    const token = localStorage.getItem('token') || '';\r\n\r\n    const resp = await fetch(url, {\r\n        method,\r\n        headers: {\r\n            'x-token': token,\r\n        },\r\n        body: data\r\n    });\r\n    return await resp.json();\r\n};\r\n\r\nexport {\r\n    fetchWithoutToken,\r\n    fetchWithToken,\r\n    uploadFetchWithToken,\r\n};\r\n","import React, { useState, useEffect, useContext, createContext, useCallback } from 'react';\r\nimport { fetchWithoutToken, fetchWithToken } from 'utils/fetch';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport function useAuthState() {\r\n\tconst context = useContext(AuthContext);\r\n\tif (context === undefined) {\r\n\t\tthrow new Error('useAuthState must be used within a AuthProvider');\r\n\t}\r\n\r\n\treturn context;\r\n}\r\n\r\nconst initialState = {\r\n    checking: true,\r\n\tuser: null,\r\n\ttoken: null,\r\n};\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n\tconst [authState, setAuthState] = useState(initialState);\r\n\r\n\tconst login = async ( email, password ) => {\r\n        const resp = await fetchWithoutToken('auth/login', { email, password }, 'POST');\r\n        if(resp.ok){\r\n            const { user, token } = resp.data;\r\n            setAuthState({\r\n                user: user,\r\n                token: token,\r\n                checking: false,\r\n            });\r\n        }\r\n        return resp;\r\n    };\r\n\r\n\tconst register = async (userData) => {\r\n        const resp = await fetchWithoutToken('auth/register', userData, 'POST');\r\n        if(resp.ok){\r\n            const { user, token } = resp.data;\r\n            setAuthState({\r\n                user: user,\r\n                token: token,\r\n                checking: false,\r\n            });\r\n        }\r\n        return resp;\r\n    };\r\n\r\n\tconst logout = () => {\r\n        setAuthState({\r\n            checking: false,\r\n            user: null,\r\n\t\t\ttoken: null,\r\n        });\r\n    };\r\n\r\n\tconst verifyToken = useCallback( async () => {\r\n        const token = localStorage.getItem('token');\r\n        if(!token){\r\n            setAuthState({\r\n\t\t\t\tuser: null,\r\n                token: null,\r\n                checking: false,\r\n            });\r\n            return false;\r\n        }\r\n        const resp = await fetchWithToken('auth/renew');\r\n        if(resp.ok){\r\n            const { user, token } = resp.data;\r\n            localStorage.setItem('token', token);\r\n            setAuthState({\r\n                user: user,\r\n                token: token,\r\n                checking: false,\r\n            });\r\n            return true;\r\n        } else {\r\n            setAuthState({\r\n                user: null,\r\n                token: null,\r\n                checking: false,\r\n            });\r\n            return false;\r\n        }\r\n    }, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (authState.token === null) {\r\n\t\t\tlocalStorage.removeItem('token');\r\n\t\t} else {\r\n\t\t\tlocalStorage.setItem('token', authState.token);\r\n\t\t}\r\n\t}, [authState.token]);\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider value={{ \r\n\t\t\tauthState,\r\n\t\t\tlogin,\r\n\t\t\tregister,\r\n\t\t\tlogout,\r\n\t\t\tverifyToken,\r\n\t\t\tsetAuthState \r\n\t\t}}>\r\n\t\t\t{children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n};\r\n","import { createContext, useCallback, useContext, useEffect, useRef } from \"react\";\r\nimport { useSocket } from \"hooks/useSocket\";\r\nimport { useAuthState } from \"./AuthContext\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nexport const SocketContext = createContext();\r\n\r\nexport const useSocketState = () => {\r\n\tconst context = useContext(SocketContext);\r\n\tif (context === undefined) {\r\n\t\tthrow new Error('useSocketState must be used within a SocketProvider');\r\n\t}\r\n\treturn context;\r\n}\r\n\r\nexport const SocketProvider = ({ children }) => {\r\n\r\n    const { authState } = useAuthState();\r\n    const { socket, online, connectSocket, disconnectSocket } = useSocket(process.env.REACT_APP_SOCKET_URL);\r\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n    const snackbarRef = useRef(null);\r\n    useEffect(() => {\r\n        if(!authState.checking && authState.user && !online) {\r\n            if (snackbarRef.current === null) snackbarRef.current = enqueueSnackbar('Se ha perdido la conexión. Intentando reconectar...', { variant: 'warning', persist: true });\r\n        } else {\r\n            if (snackbarRef.current !== null) {\r\n                closeSnackbar(snackbarRef.current);\r\n                snackbarRef.current = null;\r\n            }\r\n        }\r\n    }, [online, snackbarRef, closeSnackbar, enqueueSnackbar, authState.checking, authState.user]);\r\n    \r\n    useEffect(() => {\r\n        const logged = !!authState.token;\r\n        if( logged ) connectSocket();\r\n    }, [ authState.token, connectSocket ]);\r\n\r\n    useEffect(()=>{\r\n        const logged = !!authState.token;\r\n        if( !logged ) disconnectSocket();\r\n    }, [ authState.token, disconnectSocket ]);\r\n\r\n    const emitWithTimeout = useCallback(\r\n        (onSuccess, onTimeout, timeout=50000) => {\r\n            let called = false;\r\n\r\n            const timer = setTimeout(() => {\r\n                if (called) return;\r\n                called = true;\r\n                if(onTimeout) onTimeout();\r\n            }, timeout);\r\n            \r\n            return (...args) => {\r\n                if (called) return;\r\n                called = true;\r\n                clearTimeout(timer);\r\n                if(onSuccess) onSuccess.apply(this, args);\r\n            }\r\n        },\r\n        [],\r\n    )\r\n\r\n    return (\r\n        <SocketContext.Provider value={{ socket, online, emitWithTimeout }}>\r\n            { children }\r\n        </SocketContext.Provider>\r\n    );\r\n};","import { useAuthState } from \"contexts/AuthContext\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nexport const useSocket = (serverPath) => {\r\n    const [socket, setSocket] = useState(null);\r\n    const [online, setOnline] = useState(false);\r\n    const { authState } = useAuthState();\r\n\r\n    const connectSocket = useCallback(() => {\r\n        const token = authState.token;\r\n        const tempSocket = io.connect( serverPath, {\r\n            transports: ['websocket'],\r\n            autoConnect: true,\r\n            forceNew: true,\r\n            query: {\r\n                'x-token': token,\r\n            },\r\n        });\r\n        setSocket(tempSocket);\r\n    }, [serverPath, authState.token]);\r\n\r\n    const disconnectSocket = useCallback(() => {\r\n        socket?.disconnect();\r\n    }, [socket]);\r\n\r\n    useEffect(() => {\r\n        setOnline( socket?.connected );\r\n    }, [socket])\r\n\r\n    useEffect(() => {\r\n        socket?.on('connect', () => setOnline(true));\r\n        socket?.on('disconnect', () => setOnline(false));\r\n    }, [socket]);\r\n\r\n\r\n    return {\r\n        socket,\r\n        online,\r\n        connectSocket,\r\n        disconnectSocket\r\n    };\r\n};","import ui from 'types/ui';\r\nimport design from 'types/design';\r\n\r\nconst types = {\r\n    ui,\r\n    design,\r\n};\r\n\r\nexport default types;","const ui = {\r\n    openModal: '[UI] open modal',\r\n    closeModal: '[UI] close modal',\r\n    updateFolderPath: '[UI] update folder path',\r\n    toggleConfirmAction: '[UI] confirm action',\r\n    setFolder: '[UI] set folder data',\r\n    setConfirmData: '[UI] set confirm data',\r\n    setPDF: '[UI] set pdf',\r\n    setResourceLink: '[UI] set resource link',\r\n    setEvaluation: '[UI] set evaluation',\r\n    setPDFConfig: '[UI] set pdf config',\r\n    setUserSaveDesign: '[UI] set user save design',\r\n    setHistoryInCheckSaveDesign: '[UI] set history check save design',\r\n    setScrollToNewActivity: '[UI] set scroll to new activity',\r\n    setScrollToNewTask: '[UI] set scroll to new task',\r\n    setReorderTasksModalState: '[UI] set reorder task modal state',\r\n};\r\n\r\nexport default ui;","const design = {\r\n    updateDesign: '[DESIGN] toggle login modal',\r\n    changeMetadataField: '[DESIGN] change metadata field',\r\n    changeTaskField: '[DESIGN] change task field',\r\n    setCurrentLearningResultField: '[DESIGN] set learning result field',\r\n    clearCurrentLearningResult: '[DESIGN] clear current learning result',\r\n    setCurrentLearningResult: '[DESIGN] set current learning result',\r\n    setBloomCategories: '[DESIGN] set bloom categories',\r\n    setBloomVerbs: '[DESIGN] set bloom verbs',\r\n    setDesignPrivileges: '[DESIGN] set design privileges',\r\n    addDesignKeyword: '[DESIGN] add design keyword',\r\n    removeDesignKeyword: '[DESIGN] remove design keyword',\r\n    updateReadOnlyLink: '[DESIGN] change read only link',\r\n    setAssessments: '[DESIGN] set assessments',\r\n    setScoreMean: '[DESIGN] set score mean',\r\n    commentDesign: '[DESIGN] add a commentary',\r\n    deleteComment: '[DESIGN] delete a commentary',\r\n    setConnectedUsers: '[DESIGN] set connected users',\r\n    reorderActivities: '[DESIGN] reorder activities',\r\n    reorderTasks: '[DESIGN] reorder tasks',\r\n};\r\n\r\nexport default design;","import types from \"types\";\r\n\r\n\r\nexport const uiReducer = ( state, action ) => {\r\n    switch (action.type) {\r\n        case types.ui.openModal:\r\n            return {\r\n                ...state,\r\n                ['is' + action.payload + 'ModalOpen']: true,\r\n            };\r\n        case types.ui.closeModal:\r\n            return {\r\n                ...state,\r\n                ['is' + action.payload + 'ModalOpen']: false,\r\n            };\r\n        case types.ui.updateFolderPath:\r\n            if (state.folderPath !== action.payload) {\r\n                return {\r\n                    ...state,\r\n                    folderPath: action.payload,\r\n                };\r\n            } else return state;\r\n        case types.ui.toggleWitchOpenModal:\r\n            return {\r\n                ...state,\r\n                setWitchOpenModal: !state.setWitchOpenModal,\r\n            };\r\n        case types.ui.setFolder:\r\n            return {\r\n                ...state,\r\n                folder: action.payload,\r\n            };\r\n        case types.ui.setConfirmData:\r\n            return{\r\n                ...state,\r\n                confirmModalData: action.payload,\r\n            };\r\n        case types.ui.setPDF:\r\n            return{\r\n                ...state,\r\n                pdf: {\r\n                    ...state.pdf,\r\n                    typeUserPDF: action.payload\r\n                },\r\n            };\r\n        case types.ui.setResourceLink:\r\n            return{\r\n                ...state,\r\n                resourceLink: action.payload,\r\n            };\r\n        case types.ui.setEvaluation:\r\n            return{\r\n                ...state,\r\n                evaluationData: action.payload,\r\n            };\r\n        case types.ui.setPDFConfig:\r\n            return{\r\n                ...state,\r\n                pdf: {\r\n                    ...state.pdf,\r\n                    [action.payload.field]: action.payload.value\r\n                },\r\n            };\r\n        case types.ui.setUserSaveDesign:\r\n            return {\r\n                ...state,\r\n                userSaveDesign: action.payload,\r\n            };\r\n        case types.ui.setHistoryInCheckSaveDesign:\r\n            return{\r\n                ...state,\r\n                historyData: action.payload,\r\n            };\r\n        case types.ui.setScrollToNewActivity:\r\n            return{\r\n                ...state,\r\n                newActivity: action.payload,\r\n            };\r\n        case types.ui.setScrollToNewTask:\r\n            return{\r\n                ...state,\r\n                newTask: action.payload,\r\n            };\r\n        case types.ui.setReorderTasksModalState:\r\n            return {\r\n                ...state,\r\n                reorderTaskModalState: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import React, { useContext, createContext, useReducer } from 'react';\r\nimport { uiReducer } from 'contexts/ui/uiReducer';\r\n\r\nconst UiContext = createContext();\r\n\r\nexport function useUiState() {\r\n\tconst context = useContext(UiContext);\r\n\tif (context === undefined) {\r\n\t\tthrow new Error('useUiState must be used within a UiProvider');\r\n\t}\r\n\r\n\treturn context;\r\n}\r\n\r\nconst initialState = {\r\n\tfolderPath: '/',\r\n\tisLoginModalOpen: false,\r\n\tisRegisterModalOpen: false,\r\n\tisLearningResultModalOpen: false,\r\n\tisEditProfileModalOpen: false,\r\n\tisContactsModalOpen: false,\r\n\tisConfirmationModalOpen: false,\r\n\tisShareModalOpen: false,\r\n\tsetWichOpenModal: false,\r\n\tisFolderModalOpen: false,\r\n\tisPDFModalOpen: false,\r\n\tisResourceModalOpen: false,\r\n\tisEvaluationModalOpen: false,\r\n\tisImportDesignsModalOpen: false,\r\n\tisCheckSaveDesignModalOpen: false,\r\n\tuserSaveDesign: true,\r\n\tisAssessmentModalOpen: false,\r\n\tisReorderActivitiesModalOpen: false,\r\n\tisReorderTasksModalOpen: false,\r\n\treorderTaskModalState:{\r\n\t\tlearningActivityId: null,\r\n\t\ttasks: [],\r\n\t},\r\n\tfolder: {\r\n\t\t_id: null,\r\n\t\tname: '',\r\n\t},\r\n\tconfirmModalData: {\r\n\t\ttype: null,\r\n\t\targs: null,\r\n\t\tactionMutation: null,\r\n\t},\r\n\tpdf: {\r\n\t\ttypeUserPDF: null,\r\n\t},\r\n\tresourceLink:{\r\n\t\tlearningActivityIndex: null,\r\n\t\ttaskIndex: null,\r\n\t},\r\n\tevaluationData:{\r\n\t\tlearningActivityIndex: null,\r\n\t},\r\n\thistoryData:{\r\n\t\turl: null,\r\n\t},\r\n\tnewActivity: false,\r\n\tnewTask: false,\r\n};\r\n\r\nexport const UiProvider = ({ children }) => {\r\n\r\n\tconst [ uiState, dispatch ] = useReducer(uiReducer, initialState);\r\n\r\n\treturn (\r\n\t\t<UiContext.Provider value={ { uiState, dispatch } }>\r\n\t\t\t{ children }\r\n\t\t</UiContext.Provider>\r\n\t);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/PyramidBloomLight.0d61d6f5.png\";","export default __webpack_public_path__ + \"static/media/PyramidBloomDark.c7b5a28f.png\";","export default __webpack_public_path__ + \"static/media/Design.80faa6c6.png\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 567,\n  cy: 537,\n  rx: 70,\n  ry: 5.33898,\n  fill: \"#e6e6e6\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 226,\n  cy: 537,\n  rx: 70,\n  ry: 5.33898,\n  fill: \"#e6e6e6\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M814.77448,650.83051h-476a7.5082,7.5082,0,0,1-7.5-7.5v-457a7.5082,7.5082,0,0,1,7.5-7.5h476a7.5082,7.5082,0,0,1,7.5,7.5v457A7.5082,7.5082,0,0,1,814.77448,650.83051Zm-476-469a4.50492,4.50492,0,0,0-4.5,4.5v457a4.50493,4.50493,0,0,0,4.5,4.5h476a4.50492,4.50492,0,0,0,4.5-4.5v-457a4.50491,4.50491,0,0,0-4.5-4.5Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M366.27448,218.83051a3.00328,3.00328,0,0,0-3,3v124a3.00328,3.00328,0,0,0,3,3h124a3.00328,3.00328,0,0,0,3-3v-124a3.00328,3.00328,0,0,0-3-3Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"b9d15c13-74bb-46fd-a6fd-5a7002be597d\",\n  \"data-name\": \"Path 40\",\n  d: \"M561.31441,308.581a3.625,3.625,0,0,0,0,7.249h170.878a3.625,3.625,0,1,0,.119-7.249q-.05951-.001-.119,0Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"fb98932a-aea9-43a1-946e-96a095a0002f\",\n  \"data-name\": \"Path 40\",\n  d: \"M561.31441,275.581a3.625,3.625,0,0,0,0,7.249h48.878a3.625,3.625,0,1,0,.119-7.249q-.05951-.001-.119,0Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"a8382d7c-76a2-4f66-b41d-b5784413a475\",\n  \"data-name\": \"Path 40\",\n  d: \"M561.31441,342.581a3.625,3.625,0,0,0,0,7.249h170.878a3.625,3.625,0,0,0,.119-7.249q-.05951-.001-.119,0Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"a69b3c31-ebec-4776-89b9-9c88b713759e\",\n  \"data-name\": \"Path 78\",\n  d: \"M764.58325,473.54293h-234.838c-4.578,0-8.288-2.643-8.293-5.9v-51.042c.005-3.257,3.715-5.9,8.293-5.9h234.838c4.578,0,8.288,2.643,8.293,5.9v51.041C772.87226,470.899,769.16126,473.53893,764.58325,473.54293Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"ac481be8-039b-4a38-bb10-2d9a81406e5c\",\n  \"data-name\": \"Path 78\",\n  d: \"M605.58325,597.54293h-234.838c-4.578,0-8.288-2.643-8.293-5.9v-51.042c.005-3.257,3.715-5.9,8.293-5.9h234.838c4.578,0,8.288,2.643,8.293,5.9v51.041C613.87226,594.899,610.16126,597.53893,605.58325,597.54293Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"e05581d0-cd6a-412e-af3c-57495fab8d46\",\n  \"data-name\": \"Path 78\",\n  d: \"M534.74073,625.661h-234.838c-4.578,0-8.288-2.643-8.293-5.9V568.719c.005-3.257,3.715-5.9,8.293-5.9h234.838c4.578,0,8.288,2.643,8.293,5.9V619.76C543.02974,623.017,539.31874,625.657,534.74073,625.661Zm-234.838-60.484c-2.747,0-4.973,1.586-4.976,3.54v51.041c0,1.954,2.229,3.538,4.976,3.54h234.838c2.747,0,4.973-1.586,4.976-3.54V568.719c0-1.954-2.229-3.538-4.976-3.54Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 341,\n  cy: 288,\n  r: 19,\n  fill: \"#2196f3\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 56,\n  cy: 415,\n  r: 19,\n  fill: \"#2196f3\"\n});\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"f4993879-8a0d-4ea4-907e-e549be7081a0\",\n  \"data-name\": \"Path 40\",\n  d: \"M660.31441,453.206a3.625,3.625,0,0,0,0,7.249h135.878a3.625,3.625,0,0,0,.119-7.249q-.05951-.001-.119,0Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"a649136c-96b9-48c7-9686-75389104c34a\",\n  \"data-name\": \"Path 40\",\n  d: \"M660.31441,473.206a3.625,3.625,0,0,0,0,7.249h135.878a3.625,3.625,0,0,0,.119-7.249q-.05951-.001-.119,0Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"bf4cb793-0df2-4753-9628-c376ea3545d1\",\n  \"data-name\": \"Path 40\",\n  d: \"M375.31441,580.206a3.625,3.625,0,0,0,0,7.249h135.878a3.625,3.625,0,0,0,.119-7.249q-.05951-.001-.119,0Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"bf2170fd-291c-4664-b596-01f8e04656d6\",\n  \"data-name\": \"Path 40\",\n  d: \"M375.31441,600.206a3.625,3.625,0,0,0,0,7.249h135.878a3.625,3.625,0,0,0,.119-7.249q-.05951-.001-.119,0Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 568.97297,\n  cy: 475.93056,\n  r: 43.06733,\n  fill: \"#2f2e41\"\n});\n\nvar _ref19 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 575.51484,\n  y: 509.73025,\n  width: 13.08374,\n  height: 23.44171,\n  fill: \"#2f2e41\"\n});\n\nvar _ref20 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 549.34736,\n  y: 509.73025,\n  width: 13.08374,\n  height: 23.44171,\n  fill: \"#2f2e41\"\n});\n\nvar _ref21 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 577.6955,\n  cy: 533.44455,\n  rx: 10.90314,\n  ry: 4.08868,\n  fill: \"#2f2e41\"\n});\n\nvar _ref22 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 551.52796,\n  cy: 532.89938,\n  rx: 10.90314,\n  ry: 4.08868,\n  fill: \"#2f2e41\"\n});\n\nvar _ref23 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 567.88264,\n  cy: 465.02746,\n  r: 14.71922,\n  fill: \"#fff\"\n});\n\nvar _ref24 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 567.88264,\n  cy: 465.02746,\n  r: 4.90642,\n  fill: \"#3f3d56\"\n});\n\nvar _ref25 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M889.02425,614.70972c3.47747-15.57379-7.63868-31.31043-24.82862-35.14881s-33.94421,5.67511-37.42169,21.24891,7.91492,21.31768,25.10486,25.156S885.54671,630.28357,889.02425,614.70972Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref26 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M388.58448,368.79047a42.8306,42.8306,0,0,1-4.43,19.04c-.33.68-.68,1.34-1.05,2h-75.17c-.37-.66-.72-1.32-1.05-2a43.07126,43.07126,0,1,1,81.7-19.04Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref27 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.33625,\n  cy: 179.05228,\n  r: 14.71922,\n  fill: \"#fff\"\n});\n\nvar _ref28 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.33625,\n  cy: 179.05228,\n  r: 4.90642,\n  fill: \"#3f3d56\"\n});\n\nvar _ref29 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M303.74361,328.73454c-3.47748-15.57379,7.63867-31.31043,24.82861-35.14881s33.94422,5.67511,37.42169,21.24891-7.91491,21.31768-25.10485,25.156S307.22115,344.30839,303.74361,328.73454Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref30 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M407.27448,255.83051h-124a5.00181,5.00181,0,0,0-5,5v124a5.00181,5.00181,0,0,0,5,5h124a5.00181,5.00181,0,0,0,5-5v-124A5.00181,5.00181,0,0,0,407.27448,255.83051Zm3,129a3.00883,3.00883,0,0,1-3,3h-124a3.00883,3.00883,0,0,1-3-3v-124a3.00879,3.00879,0,0,1,3-3h124a3.00878,3.00878,0,0,1,3,3Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref31 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 537.06537,\n  cy: 622.23907,\n  rx: 21.53369,\n  ry: 6.76007,\n  transform: \"translate(-514.18629 722.92057) rotate(-69.08217)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref32 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 497.2582,\n  cy: 654.76108,\n  r: 43.06735,\n  transform: \"translate(-506.97468 861.88678) rotate(-80.78252)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref33 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 199.35811,\n  y: 509.73025,\n  width: 13.08374,\n  height: 23.44171,\n  fill: \"#2f2e41\"\n});\n\nvar _ref34 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 225.52559,\n  y: 509.73025,\n  width: 13.08374,\n  height: 23.44171,\n  fill: \"#2f2e41\"\n});\n\nvar _ref35 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 210.26125,\n  cy: 533.44455,\n  rx: 10.90314,\n  ry: 4.08868,\n  fill: \"#2f2e41\"\n});\n\nvar _ref36 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 236.42873,\n  cy: 532.89941,\n  rx: 10.90314,\n  ry: 4.08868,\n  fill: \"#2f2e41\"\n});\n\nvar _ref37 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M455.48148,614.70969c-3.47748-15.57379,7.63867-31.31046,24.82861-35.14884s33.94421,5.67508,37.42169,21.24887-7.91492,21.31766-25.10486,25.156S458.959,630.28351,455.48148,614.70969Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref38 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 448.75004,\n  cy: 634.77768,\n  rx: 6.76007,\n  ry: 21.53368,\n  transform: \"translate(-595.36631 589.38455) rotate(-64.62574)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref39 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 581.96808,\n  cy: 344.64255,\n  r: 42.01233,\n  fill: \"#2f2e41\"\n});\n\nvar _ref40 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 866.8304,\n  y: 556.38495,\n  width: 12.76324,\n  height: 22.86749,\n  transform: \"translate(-280.90454 -174.76527) rotate(-0.26634)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref41 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 841.30427,\n  y: 556.50355,\n  width: 12.76324,\n  height: 22.86749,\n  transform: \"translate(-280.90537 -174.88393) rotate(-0.26634)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref42 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 845.09117,\n  cy: 581.77645,\n  rx: 10.63602,\n  ry: 3.98853,\n  transform: \"translate(-456.30877 326.41344) rotate(-30.26634)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref43 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 870.08559,\n  cy: 581.66024,\n  rx: 10.63605,\n  ry: 3.98853,\n  transform: \"translate(-452.84325 338.99529) rotate(-30.26634)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref44 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 580.85505,\n  cy: 334.01157,\n  r: 14.35864,\n  fill: \"#fff\"\n});\n\nvar _ref45 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 575.93651,\n  cy: 327.91867,\n  r: 4.78622,\n  fill: \"#3f3d56\"\n});\n\nvar _ref46 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M900.81388,484.21377c3.32162-15.20789-7.5934-30.50849-24.37949-34.17481s-33.08659,5.68993-36.40825,20.89782,7.81762,20.75932,24.60367,24.4257S897.49225,499.42167,900.81388,484.21377Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref47 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 816.3671,\n  cy: 502.20254,\n  rx: 6.59448,\n  ry: 21.00616,\n  transform: \"translate(-242.24392 879.91271) rotate(-67.09517)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref48 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 902.20392,\n  cy: 537.02192,\n  rx: 6.59448,\n  ry: 21.00616,\n  transform: \"translate(-221.88888 980.24914) rotate(-67.09517)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref49 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M868.73264,541.781a9.57243,9.57243,0,1,1-19.14455.10779l-.0001-.01879c-.02458-5.28665,4.256-6.40152,9.54268-6.42606S868.70809,536.49432,868.73264,541.781Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#fff\"\n});\n\nvar _ref50 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"acccf4df-3a09-4c7b-a8c8-af469fe66e6d\",\n  \"data-name\": \"Path 78\",\n  d: \"M825.67774,498.49559h-234.838c-4.578,0-8.288-2.643-8.293-5.9v-51.042c.005-3.257,3.715-5.9,8.293-5.9h234.838c4.578,0,8.288,2.643,8.293,5.9v51.041C833.96674,495.85161,830.25575,498.4916,825.67774,498.49559Zm-234.838-60.484c-2.747,0-4.973,1.586-4.976,3.54v51.041c0,1.954,2.229,3.538,4.976,3.54h234.838c2.747,0,4.973-1.586,4.976-3.54v-51.039c0-1.954-2.229-3.538-4.976-3.54Z\",\n  transform: \"translate(-278.27448 -178.83051)\",\n  fill: \"#3f3d56\"\n});\n\nfunction SvgCollaboration(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"ae636c83-9a69-4d8f-8683-8786b472330f\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 643.45103,\n    height: 542.33898,\n    viewBox: \"0 0 643.45103 542.33898\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref20, _ref21, _ref22, _ref23, _ref24, _ref25, _ref26, _ref27, _ref28, _ref29, _ref30, _ref31, _ref32, _ref33, _ref34, _ref35, _ref36, _ref37, _ref38, _ref39, _ref40, _ref41, _ref42, _ref43, _ref44, _ref45, _ref46, _ref47, _ref48, _ref49, _ref50);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCollaboration);\nexport default __webpack_public_path__ + \"static/media/collaboration.c5d6c932.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M319.61433,712.67961A141.78089,141.78089,0,0,1,213.56155,573.28569c.1219-7.912.95378-15.99006,4.27976-23.1701s9.50394-13.39013,17.23186-15.09142c8.43389-1.8567,17.33349,1.93874,23.61873,7.861s10.40636,13.736,14.198,21.495c22.83782,46.734,40.18948,96.87978,46.6859,148.48823Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#f2f2f2\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M231.247,536.58343,247.253,572.95049l16.006,36.36706c5.06915,11.51754,10.12863,23.04012,15.36814,34.48152,5.1935,11.34091,10.56495,22.6034,16.29525,33.684,5.72218,11.06486,11.80377,21.94912,18.40506,32.51522q1.23309,1.9737,2.49042,3.93206c.58008.90425,2.03014.06547,1.44595-.84519-6.72793-10.48763-12.92723-21.30541-18.74161-32.32388-5.82064-11.03036-11.2609-22.25747-16.50019-33.57425-5.26729-11.37725-10.332-22.84667-15.38326-34.321q-7.97541-18.11688-15.948-36.235l-16.00605-36.36706-1.99187-4.52568c-.43316-.98418-1.87645-.133-1.44595.84519Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#fff\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M312.93738,712.93239a82.96676,82.96676,0,0,1-92.692-43.74066c-2.07267-4.14071-3.82153-8.55926-4.03308-13.1849s1.31945-9.51764,4.87237-12.48717c3.87749-3.2408,9.52264-3.67283,14.38463-2.29486s9.111,4.32217,13.17418,7.32689c24.47345,18.09816,47.01962,39.44868,64.3248,64.48912Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#f2f2f2\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M219.51916,645.36213,237.647,659.92225l18.12782,14.56013c5.74112,4.61123,11.47858,9.22769,17.2876,13.75339,5.758,4.486,11.58722,8.88316,17.55363,13.089,5.958,4.19991,12.05376,8.209,18.33349,11.91267q1.173.69183,2.35449,1.36914c.54528.31287,1.07169-.51407.52254-.82916-6.32429-3.62871-12.46326-7.57153-18.45656-11.72247-5.99977-4.15542-11.85515-8.51568-17.63042-12.97675-5.80611-4.4849-11.53195-9.07235-17.25211-13.666q-9.03158-7.25292-18.062-14.50724L222.29761,646.3449,220.0417,644.533c-.49058-.394-1.0101.43755-.52254.82916Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#fff\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M979.45472,184.27953h-487a7.00778,7.00778,0,0,0-7,7v330a7.00779,7.00779,0,0,0,7,7h487a7.00778,7.00778,0,0,0,7-7v-330A7.00778,7.00778,0,0,0,979.45472,184.27953Zm5,337a5.002,5.002,0,0,1-5,5h-487a5.002,5.002,0,0,1-5-5v-330a5.002,5.002,0,0,1,5-5h487a5.002,5.002,0,0,1,5,5Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 272.90945,\n  y: 28.03998,\n  width: 499,\n  height: 2,\n  fill: \"#3f3d56\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 289.90945,\n  cy: 15,\n  r: 6,\n  fill: \"#3f3d56\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 307.15945,\n  cy: 15,\n  r: 6,\n  fill: \"#3f3d56\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 324.40945,\n  cy: 15,\n  r: 6,\n  fill: \"#3f3d56\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M608.32283,258.77953h-84a7,7,0,1,1,0-14h84a7,7,0,0,1,0,14Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#ccc\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M723.32283,292.77953h-199a7,7,0,0,1,0-14h199a7,7,0,0,1,0,14Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#ccc\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M787.54267,306.30254a91.00351,91.00351,0,0,0,75.04394,142.477v-79.44Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M862.58661,266.77953a90.896,90.896,0,0,0-75.04394,39.523l75.04394,63.037Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#ccc\"\n});\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M862.58661,449.77953h-1v-184h1a92,92,0,1,1,0,184Zm1-181.99463V447.77416a90.00019,90.00019,0,0,0,0-179.98926Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M582.32283,487.27953h-17a4.50508,4.50508,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h17a4.50507,4.50507,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,582.32283,487.27953Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#ccc\"\n});\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M632.32283,487.27953h-17a4.50508,4.50508,0,0,1-4.5-4.5v-72a4.50508,4.50508,0,0,1,4.5-4.5h17a4.50507,4.50507,0,0,1,4.5,4.5v72A4.50508,4.50508,0,0,1,632.32283,487.27953Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#ff6584\"\n});\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M682.32283,487.27953h-17a4.50508,4.50508,0,0,1-4.5-4.5v-92a4.50508,4.50508,0,0,1,4.5-4.5h17a4.50507,4.50507,0,0,1,4.5,4.5v92A4.50508,4.50508,0,0,1,682.32283,487.27953Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref19 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M582.32283,487.77953h-17a5.00573,5.00573,0,0,1-5-5v-110a5.00573,5.00573,0,0,1,5-5h17a5.00573,5.00573,0,0,1,5,5v110A5.00573,5.00573,0,0,1,582.32283,487.77953Zm-17-118a3.00328,3.00328,0,0,0-3,3v110a3.00329,3.00329,0,0,0,3,3h17a3.00328,3.00328,0,0,0,3-3v-110a3.00328,3.00328,0,0,0-3-3Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref20 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M632.32283,487.77953h-17a5.00573,5.00573,0,0,1-5-5v-110a5.00573,5.00573,0,0,1,5-5h17a5.00573,5.00573,0,0,1,5,5v110A5.00573,5.00573,0,0,1,632.32283,487.77953Zm-17-118a3.00328,3.00328,0,0,0-3,3v110a3.00329,3.00329,0,0,0,3,3h17a3.00328,3.00328,0,0,0,3-3v-110a3.00328,3.00328,0,0,0-3-3Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref21 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M682.32283,487.77953h-17a5.00573,5.00573,0,0,1-5-5v-110a5.00573,5.00573,0,0,1,5-5h17a5.00573,5.00573,0,0,1,5,5v110A5.00573,5.00573,0,0,1,682.32283,487.77953Zm-17-118a3.00328,3.00328,0,0,0-3,3v110a3.00329,3.00329,0,0,0,3,3h17a3.00328,3.00328,0,0,0,3-3v-110a3.00328,3.00328,0,0,0-3-3Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref22 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M325.97669,543.28208A10.05577,10.05577,0,0,0,317.19187,530.61L308.592,495.92535l-12.58652,13.65332,10.09618,30.84389a10.11028,10.11028,0,0,0,19.875,2.85952Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#ffb8b8\"\n});\n\nvar _ref23 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M302.92,532.61453a4.50494,4.50494,0,0,1-2.5174-2.66936L286.04644,485.767a46.37348,46.37348,0,0,1,.76364-32.63527l13.83846-34.35489a14.49652,14.49652,0,1,1,28.5985,4.76667l-19.09249,55.55769,6.683,45.23868a4.51467,4.51467,0,0,1-2.5399,4.50394l-7.70875,3.67825a4.50568,4.50568,0,0,1-2.65851.38041A4.45465,4.45465,0,0,1,302.92,532.61453Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref24 = /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"160.343 518.443 172.603 518.442 178.435 471.154 160.341 471.155 160.343 518.443\",\n  fill: \"#ffb8b8\"\n});\n\nvar _ref25 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M371.26153,699.21893h38.53073a0,0,0,0,1,0,0V714.1058a0,0,0,0,1,0,0H386.14839a14.88686,14.88686,0,0,1-14.88686-14.88686v0A0,0,0,0,1,371.26153,699.21893Z\",\n  transform: \"translate(567.54077 1229.02737) rotate(179.99738)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref26 = /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"99.343 518.443 111.603 518.442 117.435 471.154 99.341 471.155 99.343 518.443\",\n  fill: \"#ffb8b8\"\n});\n\nvar _ref27 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M310.26153,699.21893h38.53073a0,0,0,0,1,0,0V714.1058a0,0,0,0,1,0,0H325.14839a14.88686,14.88686,0,0,1-14.88686-14.88686v0A0,0,0,0,1,310.26153,699.21893Z\",\n  transform: \"translate(445.54077 1229.03015) rotate(179.99738)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref28 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M377.23949,509.99078l10.77686,85.38587q2.22236,17.60784,3.10973,35.34585l2.90343,58.06853a4,4,0,0,1-3.995,4.19975H373.67817a4,4,0,0,1-3.95471-3.39973l-14.71008-96.91351a2,2,0,0,0-3.94338-.06694l-17.72158,94.91672a4,4,0,0,1-3.62623,3.18424l-15.05405.95518a4,4,0,0,1-4.28995-4.11428l4.8613-155.56168Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref29 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 115.94619,\n  cy: 179.53015,\n  r: 24.56103,\n  fill: \"#ffb8b8\"\n});\n\nvar _ref30 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M310.23949,533.99078c6,14,32,24,38,4,4.64014-15.46,23.02-21.96,31.12989-24.11a4.01608,4.01608,0,0,0,2.86035-4.86005l-22.67041-89.05a31.272,31.272,0,0,0-21.06006-22.16c-18.01953-5.58-37.01953,5.91-40.06983,24.52a137.15658,137.15658,0,0,0-1.58984,15.76C294.95922,477.3808,306.2893,524.77075,310.23949,533.99078Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref31 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M391.62938,533.96509a10.05577,10.05577,0,0,0-12.75277-8.66732l-20.49275-29.275-6.83741,17.2651L372.055,538.441a10.11027,10.11027,0,0,0,19.57442-4.47588Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#ffb8b8\"\n});\n\nvar _ref32 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M366.27921,532.29853a4.505,4.505,0,0,1-3.30867-1.586l-29.27686-36.06483a46.37356,46.37356,0,0,1-11.01848-30.72844l.56429-37.033a14.49652,14.49652,0,1,1,28.40042-5.832l2.15442,58.70723,22.49784,39.81265a4.51467,4.51467,0,0,1-.75115,5.1159l-5.87132,6.20338a4.50564,4.50564,0,0,1-2.34406,1.31062A4.4548,4.4548,0,0,1,366.27921,532.29853Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref33 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M310.849,383.89889a4.00709,4.00709,0,0,0,5.90278-2.36826l.01371-.0559c.44576-1.86412.0756-3.81068-.05232-5.72308s.05925-4.01327,1.36174-5.41937c2.428-2.62114,6.74756-1.23165,10.25844-1.8944a8.66429,8.66429,0,0,0,6.74007-9.25291c-.05-.3975-.12841-.79545-.21633-1.19315a6.67288,6.67288,0,0,1,6.92675-8.0813c3.5481.20288,7.378,1.2779,10.31357-1.35011a7.60777,7.60777,0,0,0,1.82654-8.20134c-1.67623-4.8383-6.4137-7.37124-11.10186-8.76367a40.62025,40.62025,0,0,0-34.43036,5.64955c-2.96118,2.08724-5.72662,4.70983-6.98873,8.10575s-.65322,7.6803,2.19278,9.92206a18.332,18.332,0,0,0-4.24619,17.80643C300.7553,377.60865,307.46406,381.95122,310.849,383.89889Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref34 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M489.65157,715.72047h-265a1,1,0,0,1,0-2h265a1,1,0,0,1,0,2Z\",\n  transform: \"translate(-213.54528 -184.27953)\",\n  fill: \"#3f3d56\"\n});\n\nfunction SvgTimeChart(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"ed352ff4-7a14-4498-84af-0dc7b5b1bcd0\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 772.90945,\n    height: 531.44094,\n    viewBox: \"0 0 772.90945 531.44094\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref20, _ref21, _ref22, _ref23, _ref24, _ref25, _ref26, _ref27, _ref28, _ref29, _ref30, _ref31, _ref32, _ref33, _ref34);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTimeChart);\nexport default __webpack_public_path__ + \"static/media/time_chart.e9724422.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M265.36558,212.82328a4.77608,4.77608,0,0,0-4.78143,4.75948l-1.17461,510.43858a4.77609,4.77609,0,0,0,4.75948,4.78144l411.21267.94627a4.77609,4.77609,0,0,0,4.78143-4.75948L681.33773,218.551a4.77608,4.77608,0,0,0-4.75947-4.78143Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M280.59565,228.12384a4.77609,4.77609,0,0,0-4.78143,4.75948L274.70987,712.791a4.77607,4.77607,0,0,0,4.75947,4.78143l380.68224.876A4.77608,4.77608,0,0,0,664.933,713.689l1.10435-479.90768a4.77608,4.77608,0,0,0-4.75947-4.78143Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#fff\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M610.71032,436.51861l-280.5027-.64549a7.1557,7.1557,0,1,1,.03293-14.31136l280.5027.64549a7.1557,7.1557,0,0,1-.03293,14.31136Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M613.42553,303.19l-186.094-.42824c-2.62183-.006-4.73992-3.21467-4.73083-7.1666s2.14193-7.15079,4.76376-7.14476l186.094.42824c2.62214.006,4.73992,3.21467,4.73083,7.1666S616.04766,303.196,613.42553,303.19Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M613.33112,344.21586l-186.094-.42823c-2.62183-.006-4.73992-3.21468-4.73083-7.16661s2.14194-7.15079,4.76377-7.14475l186.094.42823c2.62214.006,4.73992,3.21468,4.73083,7.16661S615.95326,344.2219,613.33112,344.21586Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M610.60383,482.792l-280.5027-.64548a7.1557,7.1557,0,0,1,.03293-14.31136l280.50271.64548a7.1557,7.1557,0,0,1-.03294,14.31136Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M610.49735,529.06542l-280.5027-.64549a7.1557,7.1557,0,1,1,.03293-14.31136l280.5027.64549a7.1557,7.1557,0,1,1-.03293,14.31136Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M610.39087,575.33882l-280.5027-.64548a7.1557,7.1557,0,1,1,.03293-14.31137l280.5027.64549a7.1557,7.1557,0,0,1-.03293,14.31136Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M610.28438,621.61223l-280.5027-.64549a7.1557,7.1557,0,0,1,.03294-14.31136l280.5027.64549a7.1557,7.1557,0,0,1-.03294,14.31136Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M610.1779,667.88563l-280.5027-.64548a7.1557,7.1557,0,1,1,.03293-14.31137l280.5027.64549a7.1557,7.1557,0,1,1-.03293,14.31136Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 134.61891,\n  cy: 151.44683,\n  r: 37.68669,\n  fill: \"#2196f3\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M418.80659,436.077\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M577.07913,305.34939,577.078,216.1827a50.44769,50.44769,0,0,0-100.86823-2.21847h11.1029a39.39479,39.39479,0,0,1,39.30744-37.86834c.19183,0,.38636.00162.57819.00433a39.41934,39.41934,0,0,1,38.783,40.00228V305.396c.00217.22759.00217.45464,0,.6611a26.425,26.425,0,0,1-26.38749,26.07428q-.16255,0-.32513-.00163a26.43823,26.43823,0,0,1-26.07157-26.77656l.06069-88.56629a13.29569,13.29569,0,0,1,26.58636-.08724V284.333a5.54887,5.54887,0,1,0,11.09775,0l-.00109-67.72116a24.39255,24.39255,0,0,0-48.78022.084L502.1,305.28219a37.53446,37.53446,0,0,0,37.03439,37.94421c.155.00217.3067.00271.46168.00271a37.54415,37.54415,0,0,0,37.48307-37.05769C577.08129,305.88206,577.08129,305.59215,577.07913,305.34939Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"rect\", {\n  y: 567.89688,\n  width: 557.10645,\n  height: 2,\n  fill: \"#3f3d56\"\n});\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M800.12184,288.40018h77.631V249.7941a39.602,39.602,0,0,0-11.36971-27.8762,38.26248,38.26248,0,0,0-27.44843-11.54915c-21.21455,0-38.25757,16.86463-38.801,38.39412-.00592.35357-.01184.68939-.01184,1.03123Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M784.451,498.49329h0A11.60485,11.60485,0,0,0,797.343,485.104l-2.94954-18.025H779.84555l-5.05167,16.50211A11.60486,11.60486,0,0,0,784.451,498.49329Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#ffb9b9\"\n});\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M962.60386,713.48452l-17.27566,2.12157-89.106-186.69838L805.91058,715.60609l-18.18491-5.45547,16.97258-299.4448,80.01359-4.24315C915.06871,442.40185,938.91346,597.22064,962.60386,713.48452Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref19 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M796.15182,735.00333H759.90536a6.50031,6.50031,0,0,1-6.49468-6.22971h0a6.50032,6.50032,0,0,1,3.389-5.981l20.84769-11.33822,12.8449-3.42531c5.65461,6.47991,11.063,6.5137,16.2702,1.28449l1.70785,11.38568A12.45633,12.45633,0,0,1,796.15182,735.00333Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref20 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M951.93585,735.00333H915.6894a6.50031,6.50031,0,0,1-6.49468-6.22971h0a6.50033,6.50033,0,0,1,3.389-5.981l20.84769-11.33822,12.8449-3.42531c5.65461,6.47991,11.063,6.5137,16.2702,1.28449l1.70785,11.38568A12.45633,12.45633,0,0,1,951.93585,735.00333Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref21 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M774.99624,471.32217l22.42805-1.21232,13.94176-161.84568L800.81357,309.847a17.85719,17.85719,0,0,0-15.11409,15.82837Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref22 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 606.79334,\n  cy: 84.46963,\n  r: 29.70202,\n  fill: \"#ffb9b9\"\n});\n\nvar _ref23 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M868.95159,300.384c-22.47578,65.62229-42.23825,70.2055-60.61636,43.64378,1.61856-19.7939,8.18861-35.83038,20.0034-47.88692,6.86063-4.70291,2.81061-13.63866-2.42465-23.03422l28.48969-9.69861C855.21546,275.37965,860.45768,287.7394,868.95159,300.384Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#ffb9b9\"\n});\n\nvar _ref24 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M886.22725,409.19041c-32.54311,22.46717-61.81581,26.61988-81.22592,5.45547-6.78693-28.09813-8.18824-57.55542-4.89388-86.6668A31.09786,31.09786,0,0,1,814.06,305.4386l14.2786-9.2977,6.97088,22.125,26.97428-29.39893,20.3794,2.45958a15.044,15.044,0,0,1,13.15129,16.57973Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref25 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M866.44207,227.02612l-7.377,23.47067-63.78052-1.13352a39.42711,39.42711,0,0,1,71.15756-22.33715Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref26 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M879.09818,473.26794a1.08511,1.08511,0,0,0-1.08632,1.08134L877.745,590.31889a1.08511,1.08511,0,0,0,1.08134,1.08632l93.42588.215a1.08509,1.08509,0,0,0,1.08632-1.08133l.26687-115.96961a1.08512,1.08512,0,0,0-1.08134-1.08633Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref27 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M882.55839,476.74417a1.08512,1.08512,0,0,0-1.08632,1.08134l-.2509,109.03311a1.0851,1.0851,0,0,0,1.08133,1.08632l86.48949.199a1.08512,1.08512,0,0,0,1.08632-1.08134l.2509-109.03311a1.08509,1.08509,0,0,0-1.08133-1.08632Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#fff\"\n});\n\nvar _ref28 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M957.55913,524.09063,893.83,523.944a1.62574,1.62574,0,1,1,.00749-3.25148l63.72909.14665a1.62574,1.62574,0,1,1-.00748,3.25148Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref29 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M958.176,493.79889l-42.27982-.09729c-.59567-.00137-1.07689-.73036-1.07482-1.62822s.48664-1.62463,1.08231-1.62326l42.27982.09729c.59574.00137,1.07689.73036,1.07482,1.62822S958.77175,493.80026,958.176,493.79889Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref30 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M958.15456,503.11982l-42.27982-.0973c-.59567-.00137-1.07689-.73036-1.07482-1.62822s.48664-1.62463,1.08231-1.62326l42.27982.09729c.59574.00137,1.07689.73036,1.07482,1.62823S958.7503,503.12119,958.15456,503.11982Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref31 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M957.53494,534.60376l-63.7291-.14665a1.62574,1.62574,0,0,1,.00748-3.25148l63.7291.14665a1.62574,1.62574,0,0,1-.00748,3.25148Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref32 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M957.51074,545.1169l-63.72909-.14665a1.62575,1.62575,0,0,1,.00748-3.25149l63.7291.14665a1.62575,1.62575,0,0,1-.00749,3.25149Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref33 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M957.48655,555.63l-63.72909-.14665a1.62575,1.62575,0,1,1,.00748-3.25149l63.72909.14666a1.62574,1.62574,0,1,1-.00748,3.25148Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref34 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M957.46236,566.14316l-63.7291-.14665a1.62574,1.62574,0,1,1,.00749-3.25148l63.72909.14665a1.62574,1.62574,0,1,1-.00748,3.25148Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref35 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M957.43817,576.6563l-63.7291-.14666a1.62574,1.62574,0,0,1,.00748-3.25148l63.7291.14665a1.62575,1.62575,0,0,1-.00748,3.25149Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref36 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 674.43441,\n  cy: 331.81338,\n  r: 8.56227,\n  fill: \"#2196f3\"\n});\n\nvar _ref37 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M913.95937,523.9903\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#e6e6e6\"\n});\n\nvar _ref38 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M910.41453,481.52071h0a11.60485,11.60485,0,0,1-12.89194-13.38929l2.94954-18.025H915.02l5.05167,16.50211A11.60486,11.60486,0,0,1,910.41453,481.52071Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#ffb9b9\"\n});\n\nvar _ref39 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M919.86933,454.34959l-22.428-1.21232L883.49952,291.29159l10.55248,1.58287a17.85718,17.85718,0,0,1,15.11409,15.82837Z\",\n  transform: \"translate(-226.3946 -164.99667)\",\n  fill: \"#2196f3\"\n});\n\nfunction SvgEvaluation(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"becd4ed6-983c-4267-a9ef-ba1a19b5a08b\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 747.2108,\n    height: 570.00666,\n    viewBox: \"0 0 747.2108 570.00666\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref20, _ref21, _ref22, _ref23, _ref24, _ref25, _ref26, _ref27, _ref28, _ref29, _ref30, _ref31, _ref32, _ref33, _ref34, _ref35, _ref36, _ref37, _ref38, _ref39);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEvaluation);\nexport default __webpack_public_path__ + \"static/media/evaluation.5897e540.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 233.08818,\n  cy: 328.45705,\n  r: 18.40881,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 170.08818,\n  cy: 540.45705,\n  r: 11.40881,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 379.997,\n  y: 21.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 417.997,\n  y: 3.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 478.997,\n  y: 3.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 605.997,\n  y: 505.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 643.997,\n  y: 487.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 704.997,\n  y: 487.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 612.997,\n  y: 200.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 650.997,\n  y: 182.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 711.997,\n  y: 182.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 612.997,\n  y: 128.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 650.997,\n  y: 110.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 711.997,\n  y: 110.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 305.997,\n  y: 138.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 343.997,\n  y: 120.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 404.997,\n  y: 120.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref19 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 203.997,\n  y: 91.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref20 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 241.997,\n  y: 73.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref21 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 302.997,\n  y: 73.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref22 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 140.997,\n  y: 276.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref23 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 178.997,\n  y: 258.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref24 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 239.997,\n  y: 258.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref25 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 70.997,\n  y: 480.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref26 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 108.997,\n  y: 462.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref27 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 169.997,\n  y: 462.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref28 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 732.997,\n  y: 396.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref29 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 770.997,\n  y: 378.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref30 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 831.997,\n  y: 378.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref31 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 691.997,\n  y: 268.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref32 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 791.997,\n  y: 270,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref33 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 730.997,\n  y: 270,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref34 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 13.997,\n  y: 118.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref35 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 113.997,\n  y: 120,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref36 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 52.997,\n  y: 120,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref37 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 22.997,\n  y: 380.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref38 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 122.997,\n  y: 382,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref39 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 61.997,\n  y: 382,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref40 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 463.997,\n  y: 53.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref41 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 563.997,\n  y: 55,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref42 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 502.997,\n  y: 55,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref43 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 70.997,\n  y: 192.5,\n  width: 140,\n  height: 2,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref44 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 108.997,\n  y: 174.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref45 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 169.997,\n  y: 174.5,\n  width: 2,\n  height: 18.5,\n  fill: \"#f2f2f2\"\n});\n\nvar _ref46 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M370.7485,300.40779v471h436v-471Zm218,34a15,15,0,1,1,15-15A15,15,0,0,1,588.7485,334.40779Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref47 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M174.50646,731.20512c6.914,25.55824,30.59593,41.38709,30.59593,41.38709s12.47217-25.60922,5.55819-51.16745-30.59593-41.38709-30.59593-41.38709S167.59248,705.64689,174.50646,731.20512Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref48 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M184.66607,725.71239c18.97207,18.46854,21.28937,46.859,21.28937,46.859s-28.4425-1.553-47.41457-20.02152-21.28937-46.859-21.28937-46.859S165.694,707.24384,184.66607,725.71239Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref49 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 16.497,\n  y: 643,\n  width: 909,\n  height: 2,\n  fill: \"#3f3d56\"\n});\n\nvar _ref50 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M329.2485,708.74592a22.03138,22.03138,0,0,0-14.03113-20.5,22,22,0,1,0-15.93774,0,21.99119,21.99119,0,0,0,0,41,22,22,0,1,0,15.93774,0A22.03137,22.03137,0,0,0,329.2485,708.74592Zm-42-41a20,20,0,1,1,24.51294,19.46735,22.02316,22.02316,0,0,0-9.02588,0A20.02094,20.02094,0,0,1,287.2485,667.74592Zm40,82a20,20,0,1,1-24.51294-19.46734,22.02362,22.02362,0,0,0,9.02588,0A20.02093,20.02093,0,0,1,327.2485,749.74592Zm-15.48706-21.53265a22.02316,22.02316,0,0,0-9.02588,0,19.97883,19.97883,0,0,1,0-38.93469,22.02362,22.02362,0,0,0,9.02588,0,19.97883,19.97883,0,0,1,0,38.93469Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#3f3d56\"\n});\n\nvar _ref51 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M648.2485,398.90779h-229a7,7,0,1,1,0-14h229a7,7,0,0,1,0,14Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#f2f2f2\"\n});\n\nvar _ref52 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M648.2485,470.90779h-229a7,7,0,1,1,0-14h229a7,7,0,0,1,0,14Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#f2f2f2\"\n});\n\nvar _ref53 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M648.2485,542.90779h-229a7,7,0,1,1,0-14h229a7,7,0,0,1,0,14Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#f2f2f2\"\n});\n\nvar _ref54 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M648.2485,614.90779h-229a7,7,0,1,1,0-14h229a7,7,0,0,1,0,14Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#f2f2f2\"\n});\n\nvar _ref55 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M648.2485,686.90779h-229a7,7,0,1,1,0-14h229a7,7,0,0,1,0,14Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#f2f2f2\"\n});\n\nvar _ref56 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M608.2485,398.90779h-190a7,7,0,1,1,0-14h190a7,7,0,0,1,0,14Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref57 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M549.2485,470.90779h-131a7,7,0,1,1,0-14h131a7,7,0,0,1,0,14Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref58 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M477.2485,542.90779h-59a7,7,0,1,1,0-14h59a7,7,0,0,1,0,14Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref59 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M626.2485,614.90779h-208a7,7,0,1,1,0-14h208a7,7,0,0,1,0,14Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref60 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M580.2485,686.90779h-162a7,7,0,1,1,0-14h162a7,7,0,0,1,0,14Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref61 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 603.997,\n  y: 257.5,\n  width: 2,\n  height: 14,\n  fill: \"#6c63ff\"\n});\n\nvar _ref62 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M758.2485,399.90779a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,758.2485,399.90779Zm0-14a6,6,0,1,0,6,6A6.00655,6.00655,0,0,0,758.2485,385.90779Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#6c63ff\"\n});\n\nvar _ref63 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 603.997,\n  y: 329.5,\n  width: 2,\n  height: 14,\n  fill: \"#6c63ff\"\n});\n\nvar _ref64 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M758.2485,471.90779a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,758.2485,471.90779Zm0-14a6,6,0,1,0,6,6A6.00655,6.00655,0,0,0,758.2485,457.90779Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#6c63ff\"\n});\n\nvar _ref65 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 603.997,\n  y: 401.5,\n  width: 2,\n  height: 14,\n  fill: \"#6c63ff\"\n});\n\nvar _ref66 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M758.2485,543.90779a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,758.2485,543.90779Zm0-14a6,6,0,1,0,6,6A6.00655,6.00655,0,0,0,758.2485,529.90779Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#6c63ff\"\n});\n\nvar _ref67 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 603.997,\n  y: 473.5,\n  width: 2,\n  height: 14,\n  fill: \"#6c63ff\"\n});\n\nvar _ref68 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M758.2485,615.90779a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,758.2485,615.90779Zm0-14a6,6,0,1,0,6,6A6.00655,6.00655,0,0,0,758.2485,601.90779Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#6c63ff\"\n});\n\nvar _ref69 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 603.997,\n  y: 545.5,\n  width: 2,\n  height: 14,\n  fill: \"#6c63ff\"\n});\n\nvar _ref70 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M758.2485,687.90779a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,758.2485,687.90779Zm0-14a6,6,0,1,0,6,6A6.00655,6.00655,0,0,0,758.2485,673.90779Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#6c63ff\"\n});\n\nvar _ref71 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 620.997,\n  cy: 264.5,\n  r: 4,\n  fill: \"#2196f3\"\n});\n\nvar _ref72 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 620.997,\n  cy: 480.5,\n  r: 4,\n  fill: \"#2196f3\"\n});\n\nvar _ref73 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 620.997,\n  cy: 552.5,\n  r: 4,\n  fill: \"#2196f3\"\n});\n\nvar _ref74 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 451.497,\n  cy: 192,\n  r: 7,\n  fill: \"#3f3d56\"\n});\n\nvar _ref75 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 451.497,\n  cy: 7,\n  r: 7,\n  fill: \"#3f3d56\"\n});\n\nvar _ref76 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 450.49703,\n  y: 6.99993,\n  width: 2,\n  height: 185,\n  fill: \"#3f3d56\"\n});\n\nvar _ref77 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M993.86505,511.88678v24.77488s5.96432,39.91507,5.96432,74.78342S990.1947,727.52,990.1947,727.52s-19.26935,6.88191-20.64573-3.67035-5.04673-66.52513-5.04673-74.78342-16.05779-71.11306-16.05779-71.11306L938.351,647.6898s3.21156,82.58291,0,84.87688-18.81055,6.42312-20.64573,2.294-11.46985-92.67638-11.46985-92.67638-7.79949-115.61608-3.21156-122.498,8.71709-12.38744,8.71709-12.38744S977.34847,491.24106,993.86505,511.88678Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref78 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M987.90073,724.76719l1.15058,7.47874a73.664,73.664,0,0,1,.752,7.699c.17894,3.75694.80419,9.54528,2.94523,10.46287,3.21156,1.37638,24.05625,18.95588,9.37484,19.87347s-22.02612,2.50283-26.37484-.87347c-5.14118-3.99157.68238-2.18432-1.61159-2.18432s-5.04673,0-5.96432-3.67035,1.37638-10.09347,1.37638-10.09347V724.76719Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref79 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M919.39674,724.40779l-1.15058,7.47874a73.6637,73.6637,0,0,0-.752,7.699c-.17894,3.75694-.80419,9.54528-2.94523,10.46286-3.21156,1.37639-24.05625,18.95589-9.37484,19.87348s22.02612,2.50283,26.37484-.87348c5.14118-3.99156-.68238-2.18431,1.61159-2.18431s5.04673,0,5.96432-3.67035-1.37638-10.09347-1.37638-10.09347V724.40779Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref80 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M932.38666,312.7702s7.7995,19.26935,13.305,22.48091,2.75277,17.893,2.75277,17.893l-13.76382,19.26935H923.66957l-13.305-22.9397s-.91759-15.1402-3.67035-18.81055S932.38666,312.7702,932.38666,312.7702Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#ffb9b9\"\n});\n\nvar _ref81 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M932.38666,312.7702s7.7995,19.26935,13.305,22.48091,2.75277,17.893,2.75277,17.893l-13.76382,19.26935H923.66957l-13.305-22.9397s-.91759-15.1402-3.67035-18.81055S932.38666,312.7702,932.38666,312.7702Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  opacity: 0.1\n});\n\nvar _ref82 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M943.85651,352.22648l20.64573,4.58794,15.1402,152.3196s-8.25829,1.37638-16.51659,12.38744-18.35175,9.17588-23.39849,6.42311-25.23367-10.55226-25.69246-13.76382.91759-59.64321.91759-59.64321L902.10626,366.4491l6.42311-9.63468h11.46985l9.17588,7.7995Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref83 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 775.40702,\n  cy: 185.36242,\n  r: 23.85729,\n  fill: \"#ffb9b9\"\n});\n\nvar _ref84 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M947.06807,344.427s44.96181,4.58793,49.091,14.22261-2.75276,52.30251-2.75276,52.30251,16.51658,37.16231,16.05779,45.8794,15.599,68.3603-1.83518,61.47839-11.92864-24.77487-20.64573-11.92864-12.38744,11.011-12.38744,11.011-8.71708,14.22262-11.46985,12.84623-4.58793-11.92864,1.37639-16.97537,5.04673-13.76382-6.42312-30.28041S934.68063,379.75412,941.56254,366.4491,947.06807,344.427,947.06807,344.427Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#575a89\"\n});\n\nvar _ref85 = /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"856.614 393.196 848.814 400.537 839.179 394.114 843.309 384.479 856.614 393.196\",\n  fill: \"#ffb9b9\"\n});\n\nvar _ref86 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M914.0349,352.22648s-34.86834,12.84623-34.86834,26.61005,21.10452,73.86583,21.10452,73.86583,0,15.599-.91759,19.26935-15.35289,35.68266-2.75276,38.53869c7.865,1.78274,14.32706,6.466,14.9108,13.07554.6932,7.84884-5.31545,17.75542-4.81733,19.49883.91758,3.21156,6.42311,7.7995,5.96432,5.50553s3.67035-35.32713,10.09347-50.00854-2.75277-113.32211-4.58794-126.16834A141.98834,141.98834,0,0,0,914.0349,352.22648Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#575a89\"\n});\n\nvar _ref87 = /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"758.432 392.278 766.69 412.007 772.884 399.39 765.772 383.561 758.432 392.278\",\n  fill: \"#ffb9b9\"\n});\n\nvar _ref88 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M939.53568,327.55077s7.53239,3.1124,12.12033,3.1124,23.39849,9.63467,16.97537,15.599-16.05779,7.3407-20.64573,16.05779-6.88191,10.09347-6.88191,10.09347L932.93558,361.441s11.37972-12.88488,10.92093-17.014S939.53568,327.55077,939.53568,327.55077Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref89 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M909.1255,338.58183s-5.64286,2.1748-7.01924,5.84516-10.09347,10.55226-6.42312,12.38743,19.72814,9.17588,22.9397,10.55226,9.19676-3.90494,9.19676-3.90494-8.04978-4.58274-8.04978-7.7943S909.1255,338.58183,909.1255,338.58183Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#2196f3\"\n});\n\nvar _ref90 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M890.17761,372.41342l-11.011,2.75276s-15.1402,67.90151-10.55226,84.87689,26.15125,67.9015,26.15125,67.9015l13.76382-16.05779s-6.00381-36.5151-9.425-38.90328-1.12724-7.43491-1.12724-8.81129,1.37638-.45879-1.83517-3.67035,11.92864-21.10452,7.79949-26.15126S890.17761,372.41342,890.17761,372.41342Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#575a89\"\n});\n\nvar _ref91 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M998.68239,385.03025,992.02988,360.026s17.893,12.84623,21.56331,31.65678,17.893,56.43166,8.71709,72.94825-25.23367,64.23115-30.7392,63.31356-18.81055-12.38743-19.26935-14.22261,23.85729-44.04422,20.18694-47.25578-2.75276-11.46985,0-13.305,5.96432-10.55226,3.67035-10.09347-9.17588-4.12915-7.7995-9.17588-6.88191-38.99749-6.88191-38.99749Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  opacity: 0.1\n});\n\nvar _ref92 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M989.73591,356.81442l6.42311,1.83518s17.893,12.84623,21.56332,31.65678,17.893,56.43166,8.71708,72.94824-25.23367,64.23116-30.73919,63.31357-18.81056-12.38744-19.26935-14.22261,23.85729-44.04422,20.18693-47.25578-2.75276-11.46985,0-13.305,5.96433-10.55226,3.67036-10.09346-9.17588-4.12915-7.7995-9.17588-6.88191-38.99749-6.88191-38.99749Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#575a89\"\n});\n\nvar _ref93 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M931.17233,291.23524l4.47461-1.62714s-9.356-9.356-22.373-8.54236l3.66113-3.66107s-8.94922-3.25421-17.08484,5.28815c-4.27673,4.49054-9.225,9.76892-12.30969,15.715h-4.792l2,4-7,4,7.18481-.71851a20.18424,20.18424,0,0,0,.67957,10.35956l1.62707,4.47455s6.50855-13.017,6.50855-14.64411v4.06781s4.47461-3.661,4.47461-6.10168l2.44067,2.84747,1.22034-4.47461,15.0509,4.47461-2.44067-3.661,9.35595,1.22034-3.66113-4.47461s10.5763,5.28814,10.98316,9.76275,5.69482,10.1695,5.69482,10.1695l2.44067-4.06781S942.969,297.33692,931.17233,291.23524Z\",\n  transform: \"translate(-137.2515 -127.40779)\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref94 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 792.997,\n  cy: 182.5,\n  rx: 3.5,\n  ry: 5.5,\n  fill: \"#ffb9b9\"\n});\n\nfunction SvgConversationalFramework(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"a2942aa7-bf0d-42c0-bc52-bf4c952347c5\",\n    \"data-name\": \"Layer 1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 925.497,\n    height: 645.18443,\n    viewBox: \"0 0 925.497 645.18443\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"\\r\\n\\t\\tpercentages\\r\\n\\t\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref20, _ref21, _ref22, _ref23, _ref24, _ref25, _ref26, _ref27, _ref28, _ref29, _ref30, _ref31, _ref32, _ref33, _ref34, _ref35, _ref36, _ref37, _ref38, _ref39, _ref40, _ref41, _ref42, _ref43, _ref44, _ref45, _ref46, _ref47, _ref48, _ref49, _ref50, _ref51, _ref52, _ref53, _ref54, _ref55, _ref56, _ref57, _ref58, _ref59, _ref60, _ref61, _ref62, _ref63, _ref64, _ref65, _ref66, _ref67, _ref68, _ref69, _ref70, _ref71, _ref72, _ref73, _ref74, _ref75, _ref76, _ref77, _ref78, _ref79, _ref80, _ref81, _ref82, _ref83, _ref84, _ref85, _ref86, _ref87, _ref88, _ref89, _ref90, _ref91, _ref92, _ref93, _ref94);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgConversationalFramework);\nexport default __webpack_public_path__ + \"static/media/conversational_framework.a67c317d.svg\";\nexport { ForwardRef as ReactComponent };","import { useTheme, Grid, makeStyles, Typography, Button, Box, Avatar, Paper } from '@material-ui/core';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport React from 'react';\r\nimport types from 'types';\r\nimport PyramidBloomLight from 'assets/img/PyramidBloomLight.png';\r\nimport PyramidBloomDark from 'assets/img/PyramidBloomDark.png';\r\nimport Design from 'assets/img/Design.png';\r\nimport { ReactComponent as Collaboration } from 'assets/img/collaboration.svg';\r\nimport { ReactComponent as TimeChart } from 'assets/img/time_chart.svg';\r\nimport { ReactComponent as Evaluation } from 'assets/img/evaluation.svg';\r\nimport { ReactComponent as ConversationalFramework } from 'assets/img/conversational_framework.svg';\r\n//import { ReactComponent as LiveCollaborationLight } from 'assets/img/live_collaboration_light.svg';\r\n//import { ReactComponent as LiveCollaborationDark } from 'assets/img/live_collaboration_dark.svg';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        minHeight: 'calc(100vh - 64px)',\r\n    },\r\n    landingPage: {\r\n        paddingLeft: 15,\r\n        paddingRight: 15,\r\n        position: 'relative',\r\n        height: 'auto',\r\n        paddingBottom: theme.spacing(2),\r\n        background: theme.palette.background.paper\r\n    },\r\n    paper: {\r\n        background: theme.palette.background.navbar\r\n    },\r\n    featureList: {\r\n        display: 'flex',\r\n        paddingTop: 25,\r\n        paddingBottom: 100,\r\n        // justifyContent: 'space-between',\r\n        minHeight: 'calc(100vh - 64px)',\r\n        paddingLeft: 200,\r\n        paddingRight: 200,\r\n        [theme.breakpoints.down('lg')]: {\r\n            paddingLeft: 150,\r\n            paddingRight: 150,\r\n        },\r\n        [theme.breakpoints.down('md')]: {\r\n            paddingLeft: 100,\r\n            paddingRight: 100,\r\n        },\r\n        [theme.breakpoints.down('sm')]: {\r\n            paddingLeft: 50,\r\n            paddingRight: 50,\r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            paddingLeft: 10,\r\n            paddingRight: 10,\r\n        },\r\n    },\r\n    featureGrid: {\r\n        padding: 10,\r\n    },\r\n    feature: {\r\n        padding: theme.spacing(4),\r\n        width: '100%',\r\n        minHeight: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        background: theme.palette.background.workSpace,\r\n    },\r\n    featureImage: {\r\n        width: theme.spacing(20),\r\n        height: theme.spacing(20),\r\n        marginBottom: 20,\r\n    },\r\n    inviteUser: {\r\n        background: theme.palette.background.workSpace,\r\n        minHeight: 'calc(100vh - 50vh)',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    inviteUserButton: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    firstData: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        [theme.breakpoints.down('md')]: {\r\n            flexDirection: 'column-reverse'\r\n        },\r\n    },\r\n    introText: {\r\n        marginLeft: 100,\r\n        marginRight: 100,\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginLeft: 20,\r\n            marginRight: 20,\r\n            marginBottom: 50,\r\n        }\r\n    },\r\n    phrase: {\r\n        marginLeft: 100,\r\n        marginRight: 100,\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginLeft: 20,\r\n            marginRight: 20,\r\n        }\r\n    },\r\n    banner: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        minHeight: 'calc(100vh - 64px)',\r\n        width: '100%',\r\n        background: theme.palette.background.workSpace,\r\n        padding: theme.spacing(5),\r\n        [theme.breakpoints.down('xs')]: {\r\n            padding: 20,\r\n        }\r\n    },\r\n    bannerItem: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        [theme.breakpoints.down('xs')]: {\r\n            alignItems: 'flex-end',\r\n        }\r\n    },\r\n    row: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    sizeIcon: {\r\n        fontSize: 80\r\n    },\r\n    firstImgSize: {\r\n        width: theme.spacing(65),\r\n        height: theme.spacing(65),\r\n        [theme.breakpoints.down('md')]: {\r\n            width: theme.spacing(40),\r\n            height: theme.spacing(40),\r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: theme.spacing(30),\r\n            height: theme.spacing(30),\r\n        },\r\n        // [theme.breakpoints.down('xs')]: {\r\n        //     width: theme.spacing(15),\r\n        //     height: theme.spacing(15),\r\n        // },\r\n    },\r\n    marginAutor: {\r\n        marginLeft: 100,\r\n        marginRight: 100,\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginLeft: 20,\r\n            marginRight: 20,\r\n        },\r\n    }\r\n}));\r\n\r\nexport const LandingPage = () => {\r\n    const theme = useTheme();\r\n    const classes = useStyles();\r\n    const { dispatch } = useUiState();\r\n\r\n    const handleOpenRegisterModal = () => {\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Register',\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Grid className={classes.root}>\r\n            <Grid container className={classes.banner}>\r\n                <Grid item xs={12}>\r\n                    <Grid container className={classes.firstData}>\r\n                        <Grid item xs={12} lg={6} className={classes.bannerItem}>\r\n                            <Box className={classes.introText}>\r\n                                <Typography variant='h3' style={{ marginBottom: 25 }}>Planifica tus clases mediante diseños</Typography>\r\n                                <Typography> Nuestra plataforma web te facilita la planificación de tus actividades de enseñanza, de tal manera de lograr y comprobar que los estudiantes utilicen los contenidos aprendidos. </Typography>\r\n                                <Typography style={{ marginTop: 10 }}>Tus diseños estarán basados en la evaluación, tendrás apoyo visual de la planificación y serán coherentes con un soporte pedagógico.</Typography>\r\n                                <Typography style={{ marginTop: 10 }}>Comparte tus diseños, de tal manera que puedas trabajar en equipo y compartir con la comunidad tus modelos de enseñanza.</Typography>\r\n                                <Button style={{ marginTop: 50, marginBottom: 20 }} onClick={handleOpenRegisterModal} color='primary' variant='contained'>\r\n                                    Comienza a diseñar\r\n                                </Button>\r\n                            </Box>\r\n                        </Grid>\r\n                        <Grid item xs={12} lg={6} className={classes.bannerItem}>\r\n                            <Box display=\"flex\" justifyContent=\"center\">\r\n                                <Avatar variant=\"square\" className={classes.firstImgSize} src={Design} alt=\"Design\" />\r\n                            </Box>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Box display=\"flex\" justifyContent=\"center\">\r\n                        <Typography variant='body1' align='center' className={classes.phrase}>\"No pienses en un curso como un depósito de información. Piensa qué necesitan hacer tus estudiantes con la información una vez que terminen el curso y diséñalo en torno a eso.\"</Typography>\r\n                    </Box>\r\n                    <Box display=\"flex\" justifyContent=\"flex-end\" className={classes.marginAutor}>\r\n                        <Typography variant='caption' className={classes.row}>~ Matthew Guyan</Typography>\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n            <Typography style={{ paddingTop: 100, paddingBottom: 75 }} align='center' variant='h6' >¿Que utilidades te otorga la plataforma?</Typography>\r\n            <Grid container className={classes.featureList}>\r\n                <Grid item xs={12} md={6} lg={4} className={classes.featureGrid}>\r\n                    <Paper className={classes.feature}>\r\n                        {\r\n                            theme.palette.type === 'dark' ? <Avatar variant=\"square\" className={classes.featureImage} src={PyramidBloomDark} alt=\"PyramidBloomDark\" /> : <Avatar variant=\"square\" className={classes.featureImage} src={PyramidBloomLight} alt=\"PyramidBloomLight\" />\r\n                        }\r\n                        <Typography align='center'>\r\n                            Tus diseños se definen en coherencia con la Taxonomía de Bloom. Esto te permitirá definir los niveles cognitivos esperados para tus estudiantes, y facilitar las labores de evaluación.\r\n                        </Typography>\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item xs={12} md={6} lg={4} className={classes.featureGrid}>\r\n                    <Paper className={classes.feature}>\r\n                        <ConversationalFramework className={classes.featureImage} />\r\n                        <Typography align='center'>\r\n                            Las tareas quedarán balanceadas acorde al Framework Conversacional. Diseñarás tareas de adquisición de conocimiento, investigación, discusión, colaboración, producción y práctica.\r\n                        </Typography>\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item xs={12} md={6} lg={4} className={classes.featureGrid}>\r\n                    <Paper className={classes.feature}>\r\n                        <TimeChart className={classes.featureImage} />\r\n                        <Typography align='center'>\r\n                            Planifica las actividades de modo de asignar a los estudiantes una carga acorde a los créditos de la asignatura.\r\n                        </Typography>\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item xs={12} md={6} lg={4} className={classes.featureGrid}>\r\n                    <Paper className={classes.feature}>\r\n                        <Evaluation className={classes.featureImage} />\r\n                        <Typography align='center'>\r\n                            Tus diseños se gestarán desde la evaluación hacia el estudiante. Una evaluación coherente que dará origen a las actividades del módulo.\r\n                        </Typography>\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item xs={12} md={6} lg={4} className={classes.featureGrid}>\r\n                    <Paper className={classes.feature}>\r\n                        <Collaboration className={classes.featureImage} />\r\n                        <Typography align='center'>\r\n                            Puedes compartir tus diseños con tu equipo de trabajo, así como también explorar los diseños de otros usuarios y retroalimentar.\r\n                        </Typography>\r\n                    </Paper>\r\n                </Grid>\r\n            </Grid>\r\n            <div className={classes.inviteUser}>\r\n                <div className={classes.inviteUserText}>\r\n                    <Typography variant=\"h5\">¿Estás listo para iniciar esta aventura?</Typography>\r\n                </div>\r\n                <div className={classes.inviteUserButton}>\r\n                    <Button onClick={handleOpenRegisterModal} color='primary' variant='contained'>\r\n                        Registrarme\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Grid>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport const PublicRoute = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n    return (\r\n        <Route {...rest}\r\n            component={\r\n                (props) => (\r\n                    ( !isAuthenticated )\r\n                        ? <Component {...props} />\r\n                        : <Redirect to=\"/my-designs\" />\r\n                )\r\n            }\r\n        />\r\n    );\r\n};\r\n\r\nPublicRoute.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}; \r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n    localStorage.setItem('lastPath', rest.location.pathname);\r\n    return (\r\n        <Route {...rest}\r\n            component={\r\n                (props) => (\r\n                    ( isAuthenticated )\r\n                        ? <Component {...props} />\r\n                        : <Redirect to=\"/\" />\r\n                )\r\n            }\r\n        />\r\n    );\r\n};\r\n\r\nPrivateRoute.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}; \r\n","export const formatName = (name, lastname) => {\r\n    const firstName = name.split(' ')[0];\r\n    const firstLastname = lastname.split(' ')[0];\r\n    return `${firstName} ${firstLastname}`;\r\n};\r\n\r\nexport const getUserInitials = (name, lastname) => {\r\n    return `${name.substring(0, 1) + lastname.substring(0, 1)}`;\r\n};\r\n\r\nexport const capitalize = (word) => {\r\n    if (!word) return;\r\n    return word[0].toUpperCase() + word.slice(1).toLowerCase();\r\n}","import { fetchWithoutToken, fetchWithToken } from \"utils/fetch\";\r\n\r\n\r\nexport const getRecentDesigns = async () => {\r\n    const resp = await fetchWithToken('design/recent');\r\n    if (!resp.ok) {\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};\r\n\r\nexport const getDesignsByFolder = async ( path, pageParam ) => {\r\n    const resp = await fetchWithToken('design/user', {\r\n        path,\r\n        from: pageParam,\r\n    }, 'POST');\r\n    if (!resp.ok) {\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};\r\n\r\nexport const getPublicDesignsByUser = async ( id, pageParam ) => {\r\n    const resp = await fetchWithToken(`design/public/user/`, {\r\n        id,\r\n        from: pageParam,\r\n    }, 'POST');\r\n    if (!resp.ok) {\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};\r\n\r\nexport const getPublicFilteredDesigns = async (filter, keywords, categories, pageParam) => {\r\n    const resp = await fetchWithToken(`design/public-repository`, {\r\n        filter,\r\n        keywords,\r\n        categories,\r\n        from: pageParam,\r\n    }, 'POST');\r\n    if (!resp.ok) {\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};\r\n\r\nexport const getDesignsSharedWithMe = async ( pageParam ) => {\r\n    const resp = await fetchWithToken(`design/shared-with-user/`, {\r\n        from: pageParam,\r\n    }, 'POST');\r\n    if (!resp.ok) {\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};\r\n\r\nexport const createDesign = async ({ path, isPublic = false }) => {\r\n    const resp = await fetchWithToken(`design`, { path, isPublic }, 'POST');\r\n    if (!resp.ok) {\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};\r\n\r\nexport const deleteDesignById = async ({ id }) => {\r\n    const resp = await fetchWithToken(`design/${ id }`, {}, 'DELETE');\r\n    if (!resp.ok) {\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};\r\n\r\nexport const uptdateUserInDesign = async ({ id, privileges }) =>{\r\n    try {\r\n        const resp = await fetchWithToken(`design/${id}`, { \r\n            newData: { id, privileges }\r\n         }, 'PUT');\r\n        if(!resp.ok){\r\n            throw new Error(resp.message);\r\n        };\r\n        return resp.data;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n\r\nexport const getDesignByLink = async ({ link }) => {\r\n    if(!link || (link && link.trim().length === 0)) return { design: {} };\r\n    const resp = await fetchWithoutToken(`design/shared-link/${link}`, {}, 'GET');\r\n    if(!resp.ok){\r\n        throw new Error(resp.message);\r\n    };\r\n    return resp.data;\r\n};\r\n\r\nexport const duplicateDesign = async ({ id }) => {\r\n    const resp = await fetchWithToken(`design/duplicate`, { id }, 'POST');\r\n    if(!resp.ok){\r\n        throw new Error(resp.message);\r\n    };\r\n    return resp.data;\r\n};\r\n\r\nexport const importDesign = async ({ path, filename, design, last }) => {\r\n    const resp = await fetchWithToken(`design/import`, { path, filename, design }, 'POST');\r\n    if(!resp.ok){\r\n        throw new Error(resp.message);\r\n    };\r\n    return resp;\r\n};","import React from 'react';\r\nimport { Avatar, Box, Card, CardActionArea, CardActions, CardContent, IconButton, makeStyles, Tooltip, Typography } from '@material-ui/core';\r\nimport { Delete, Description, Star } from '@material-ui/icons';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { formatName, getUserInitials } from 'utils/textFormatters';\r\nimport { deleteDesignById } from 'services/DesignService';\r\nimport { useMutation, useQueryClient } from 'react-query';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\nimport { useSnackbar } from 'notistack';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'relative',\r\n        border: `1px solid ${theme.palette.divider}`,\r\n        width: 325,\r\n        minWidth: 325,\r\n        borderRadius: 5,\r\n        cursor: 'pointer',\r\n        userSelect: 'none',\r\n        backgroundColor: theme.palette.background.design,\r\n        '&:hover': {\r\n            boxShadow: `0px 0px 10px 0 ${theme.palette.type !== 'dark' ? '#bcc3d6' : '#172b3a'}`,\r\n            background: theme.palette.background.designHover,\r\n        },\r\n    },\r\n    ownerInfo: {\r\n        borderTop: `1px solid ${theme.palette.divider}`,\r\n        paddingLeft: 15,\r\n        paddingRight: 15,\r\n    },\r\n    row: {\r\n        display: 'flex',\r\n    },\r\n    rowJustified: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n    },\r\n    col: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    ellipsis: {\r\n        width: 200,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n    designIcon: {\r\n        marginLeft: -12,\r\n        fontSize: 50,\r\n        alignSelf: 'center',\r\n        justifySelf: 'start',\r\n        width: '20%',\r\n    },\r\n    deleteIcon: {\r\n        position: 'absolute',\r\n        top: 8,\r\n        right: 8,\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n}));\r\n\r\n\r\nexport const Design = ({ _id, title, updatedAt, metadata, folder, owner, privileges, canDelete = true }) => {\r\n    const queryClient = useQueryClient();\r\n    const { authState } = useAuthState();\r\n    const { dispatch } = useUiState();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const history = useHistory();\r\n    //const [hours, minutes] = TimeFormatter.toHoursAndMinutes(metadata.workingTime ?? 0);\r\n\r\n    const deleteMutation = useMutation(deleteDesignById, {\r\n        onMutate: async () => {\r\n            // Cancela consultas con la key especificada\r\n            await queryClient.cancelQueries('recent-designs');\r\n            await queryClient.cancelQueries(['designs', folder.path]);\r\n            await queryClient.cancelQueries([owner._id, 'user-public-designs']);\r\n            // Guarda los datos antes de la eliminación por si algo sale mal\r\n            const previousDesigns = queryClient.getQueryData(['designs', folder.path]);\r\n            const previousPublicDesigns = queryClient.getQueryData([owner, 'user-public-designs']);\r\n            // Actualiza de manera optimista (Suponiendo que el servidor responde correctamente)\r\n            let keys = ['designs', folder.path];\r\n            if (!history.location.pathname.includes('/my-designs')) keys = [owner._id, 'user-public-designs'];\r\n            queryClient.setQueryData(keys, oldData => {\r\n                const oldPage = oldData.pages.find(page => page.designs.find(design => design._id === _id));\r\n                const newDesigns = oldPage.designs.filter((design) => design._id !== _id);\r\n                const newPage = Object.assign({}, { ...oldPage, designs: newDesigns });\r\n                let newPages = oldData.pages;\r\n                newPages[oldData.pages.indexOf(oldPage)] = newPage;\r\n                return Object.assign({}, { ...oldData, pages: newPages });\r\n            });\r\n            if (folder.path === '/') {\r\n                const previousRecentDesigns = queryClient.getQueryData('recent-designs');\r\n                // Actualiza de manera optimista (Suponiendo que el servidor responde correctamente)\r\n                queryClient.setQueryData('recent-designs', oldData => oldData.filter((design) => design._id !== _id));\r\n                return { previousDesigns, previousPublicDesigns, previousRecentDesigns };\r\n            }\r\n            // Retorna un contexto con los datos previos a la eliminación para restaurar la consulta si es que algo sale mal\r\n            return { previousDesigns, previousPublicDesigns };\r\n        },\r\n        // Si la mutación falla, usa los datos previos desde el contexto retornado en onMutate para restaurar los datos\r\n        onError: (error, design, context) => {\r\n            // TODO: Emitir notificación para retroalimentar\r\n            console.log(error);\r\n            queryClient.setQueryData(['designs', folder.path], context.previousDesigns);\r\n            queryClient.setQueryData([owner, 'user-public-designs'], context.previousPublicDesigns);\r\n            if (context.previousRecentDesigns) queryClient.setQueryData('recent-designs', context.previousRecentDesigns);\r\n        },\r\n        onSettled: () => {\r\n            // Invalida las queries para que todas las queries con estas keys se actualicen por cambios\r\n            queryClient.invalidateQueries('recent-designs');\r\n            queryClient.invalidateQueries(['designs', folder.path]);\r\n            queryClient.invalidateQueries([owner._id, 'user-public-designs']);\r\n        },\r\n        onSuccess: data => {\r\n            enqueueSnackbar('Su diseño se ha eliminado.', { variant: 'success', autoHideDuration: 2000 });\r\n        }\r\n    });\r\n\r\n    const classes = useStyles();\r\n\r\n    const handleDeleteDesign = async (e) => {\r\n        e.stopPropagation();\r\n        dispatch({\r\n            type: types.ui.setConfirmData,\r\n            payload: {\r\n                type: 'diseño',\r\n                args: { id: _id },\r\n                actionMutation: deleteMutation,\r\n            }\r\n        })\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Confirmation',\r\n        });\r\n    };\r\n\r\n    const handleOpenDesign = () => {\r\n        const inDesign = privileges.find(privilege => authState.user.uid === privilege.user);\r\n        if (inDesign) {\r\n            const typePrivilegeEditor = privileges.find(privilege => authState.user.uid === privilege.user && privilege.type === 0);\r\n            if (typePrivilegeEditor) {\r\n                history.push(`/designs/${_id}`);\r\n            } else {\r\n                history.push(`/designs/reader/${_id}`);\r\n            }\r\n        } else if (metadata.isPublic) {\r\n            history.push(`/designs/reader/${_id}`);\r\n        } else {\r\n            history.push(`/`);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Box style={{ padding: 5 }}>\r\n            <Card className={classes.root} elevation={0}>\r\n                <CardActionArea onClick={handleOpenDesign}>\r\n                    <CardContent>\r\n                        <div className={classes.row} style={{ width: '100%' }}>\r\n                            <Description className={classes.designIcon} />\r\n                            <div className={classes.col}>\r\n                                <div className={classes.row}>\r\n                                    <Tooltip title={`${title}`} arrow placement=\"top\">\r\n                                        <Typography className={classes.ellipsis} variant='h5' component=\"h2\" >{title}</Typography>\r\n                                    </Tooltip>\r\n                                </div>\r\n                                <div className={classes.row}>\r\n                                    <Typography className={classes.ellipsis} variant=\"body1\" component=\"p\">{metadata.category ? metadata.category.name : 'Sin categoría'}</Typography>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classes.rowJustified}>\r\n                            <Typography variant=\"body1\" component=\"p\">Tiempo de diseño: {`${metadata.workingTime.hours ?? 0}:${metadata.workingTime.minutes ?? 0}`} Hrs</Typography>\r\n                        </div>\r\n                        <div className={classes.rowJustified} style={{ marginTop: 10, marginBottom: -5 }}>\r\n                            <Typography color=\"textSecondary\" variant='body2'>Última modificación: {new Date(updatedAt).toLocaleDateString()}</Typography>\r\n                            <div className={classes.row} style={{ marginRight: 4 }}>\r\n                                <Star fontSize='small' />\r\n                                <Typography variant='body2'> {metadata.scoreMean}</Typography>\r\n                            </div>\r\n                        </div>\r\n                    </CardContent>\r\n                </CardActionArea>\r\n                {\r\n                    canDelete && authState.user.uid === owner._id && (<IconButton className={classes.deleteIcon} onClick={handleDeleteDesign}>\r\n                        <Delete />\r\n                    </IconButton>)\r\n                }\r\n                <CardActionArea component={Link} to={`/profile/${owner._id}`}>\r\n                    <CardActions className={classes.ownerInfo}>\r\n                        <Avatar\r\n                            alt={formatName(owner.name, owner.lastname)}\r\n                            src={owner.img && owner.img.length > 0 ? `${process.env.REACT_APP_URL}uploads/users/${owner.img}` : ''}\r\n                        >\r\n                            {getUserInitials(owner.name, owner.lastname)}\r\n                        </Avatar>\r\n                        <div>\r\n                            <Typography color='textPrimary'>{formatName(owner.name, owner.lastname)}</Typography>\r\n                            <Typography color=\"textSecondary\">{owner.occupation ?? 'Sin ocupación'}</Typography>\r\n                        </div>\r\n                    </CardActions>\r\n                </CardActionArea>\r\n            </Card>\r\n        </Box>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport { Card, CardActions, CardContent, makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        //border: `1px solid ${ theme.palette.divider }`,\r\n        //paddingTop: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n        width: 325,\r\n        minWidth: 325,\r\n        height: 198,\r\n        margin: '10px 10px 10px 0px',\r\n        borderRadius: 10,\r\n        //backgroundColor: theme.palette.divider,\r\n    },\r\n    ownerInfo: {\r\n        borderTop: `1px solid ${theme.palette.divider}`,\r\n        paddingLeft: 15,\r\n        paddingRight: 15,\r\n        paddingTop: 10,\r\n    },\r\n    row: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    col: {\r\n        width: '80%',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    }\r\n}));\r\n\r\nexport const DesignSkeleton = () => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Card className={classes.root}>\r\n            <CardContent>\r\n                <div className={ classes.row }>\r\n                    <Skeleton variant=\"rect\" width={35} height={43} />\r\n                    <div className={ classes.col }>\r\n                        <div className={ classes.row } style={{marginLeft: -5}}>\r\n                            <Skeleton style={{marginTop: -3}} animation=\"wave\" height={33} width={'80%'}/>\r\n                        </div>\r\n                        <div className={ classes.row } style={{marginLeft: -5}}>\r\n                            <Skeleton style={{marginTop: -3}} animation=\"wave\" height={23} width={'70%'}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={ classes.row }>\r\n                    <Skeleton animation=\"wave\" height={20} width={'70%'}/>  \r\n                </div>\r\n                <div className={ classes.row } >\r\n                    <div className={ classes.row } style={{marginTop:14, marginBottom:-5}}>\r\n                        <Skeleton animation=\"wave\" height={20} width={'70%'} />\r\n                        <Skeleton variant=\"circle\" width={13} height={13} style={{marginTop: 2, marginRight:5}}/>\r\n                    </div>\r\n                    <Skeleton animation=\"wave\" height={20} width={'5%'} style={{marginTop:14, marginBottom:-5}}/>\r\n                </div>\r\n            </CardContent>\r\n            <CardActions className={ classes.ownerInfo } >\r\n                <Skeleton variant=\"circle\" width={40} height={40} style={{marginBottom: 3}}/>\r\n                <div className={ classes.col } style={{marginBottom: 3}}>\r\n                    <Skeleton animation=\"wave\" height={20} width={'100%'}/>\r\n                    <Skeleton animation=\"wave\" height={20} width={'80%'}/>\r\n                </div>\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n}","import React from 'react';\r\nimport { Button, Link, makeStyles } from '@material-ui/core';\r\nimport { Design } from 'components/Design';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { DesignSkeleton } from './DesignSkeleton';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n    },\r\n    designsContainer: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        flexGrow: 1,\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'flex-start',\r\n        marginTop: 15,\r\n        marginBottom: 15,\r\n    },\r\n    error: {\r\n        marginTop: 15,\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        textAlign: 'justify',\r\n        alignItems: 'center',\r\n    },\r\n    loadMore: {\r\n        marginBottom: 50,\r\n    },\r\n    clickHere: {\r\n        textDecoration: 'none',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            textDecoration: 'underline'\r\n        }\r\n    }\r\n});\r\n\r\nexport const DesignsContainer = ({ data, status, isFetchingNextPage, fetchNextPage, hasNextPage, handleCreateDesign, label }) => {\r\n    const classes = useStyles();\r\n    const { authState } = useAuthState();\r\n\r\n    const designList = () => {\r\n        return data.pages.map((page, index) => {\r\n            return page.designs.map((design, i) => <Design key={'my-design' + design._id} title={design.metadata.name} {...design} canDelete={label!=='public-repository'} />);\r\n        });\r\n    };\r\n\r\n    const desingSkeletonsList = () => {\r\n        return [...Array(10).keys()].map((index) => {\r\n            return <DesignSkeleton key={`design-skeleton-${index}`} />\r\n        });\r\n    };\r\n\r\n    const alert = () => {\r\n        if(label === 'shared-with-me'){\r\n            return (\r\n                <Alert severity=\"info\" variant='outlined' style={{ width: '100%', display: 'flex', justifyContent: 'center' }}>\r\n                    No se han encontrado diseños compartidos. Cuando otros usuarios compartan diseños contigo aparecerán aquí.\r\n                </Alert>\r\n            );\r\n        } else if (label === 'user-profile'){\r\n            if (data.pages[0].ownerId === authState.user.uid) {\r\n                return (\r\n                    <Alert severity=\"info\" variant='outlined' style={{ width: '100%', display: 'flex', justifyContent: 'center' }}>\r\n                        No cuentas con diseños públicos. Crea tu primer diseño público haciendo click {' '}\r\n                        <Link className={classes.clickHere} onClick={handleCreateDesign}>aquí</Link>\r\n                        !\r\n                    </Alert>\r\n                );\r\n            } else {\r\n                return (\r\n                    <Alert severity=\"info\" variant='outlined' style={{ width: '100%', display: 'flex', justifyContent: 'center' }}>\r\n                        Este usuario no cuenta con diseños públicos.\r\n                    </Alert>\r\n                );\r\n            }\r\n        } else if(label === 'public-repository'){\r\n            return (\r\n                <Alert severity=\"info\" variant='outlined' style={{ width: '100%', display: 'flex', justifyContent: 'center' }}>\r\n                    No se han encontrado resultados para tu búsqueda.\r\n                </Alert>\r\n            );\r\n        } else {\r\n            return (\r\n                <Alert severity=\"info\" variant='outlined' style={{ width: '100%', display: 'flex', justifyContent: 'center' }}>\r\n                    No se han encontrado diseños en este directorio. Crea tu primer diseño haciendo click {' '}\r\n                    <Link className={classes.clickHere} onClick={handleCreateDesign}>aquí</Link>\r\n                    !\r\n                </Alert>\r\n            );\r\n        }\r\n    };\r\n    \r\n    return status === 'loading' ? (\r\n        <div className={classes.root}>\r\n            <div className={classes.designsContainer}>\r\n                { desingSkeletonsList() }\r\n            </div>\r\n        </div>\r\n    ) : status === 'error' ? (\r\n        <Alert severity='error' variant='outlined' className={classes.error}>\r\n            Ha ocurrido un problema al intentar obtener los diseños. Esto probablemente se deba a un problema de conexión, por favor revise que su equipo tenga conexión a internet e intente más tarde.\r\n            Si el problema persiste, por favor comuníquese con el equipo de soporte.\r\n        </Alert>\r\n    ) : (\r\n        <div className={classes.root}>\r\n            <div className={classes.designsContainer}>\r\n                {\r\n                    data.pages[0].designs.length > 0\r\n                        ? designList()\r\n                        : alert()\r\n                }\r\n            </div>\r\n            {\r\n                data && data.pages[0].designs.length > 0 && hasNextPage &&\r\n                <Button className={classes.loadMore} color='primary' onClick={() => fetchNextPage()}>\r\n                    {\r\n                        isFetchingNextPage\r\n                            ? 'Cargando más...'\r\n                            : 'Cargar Más'\r\n                    }\r\n            </Button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import { fetchWithToken } from \"utils/fetch\";\r\n\r\n\r\nexport const getfolderByPath = async ( path ) => {\r\n    const resp = await fetchWithToken('folder/user', {\r\n        path,\r\n    }, 'POST');\r\n    if (!resp.ok) {\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};\r\n\r\nexport const createFolder = async ({ path, folderName }) => {\r\n    const resp = await fetchWithToken('folder/create', {\r\n        path,\r\n        folderName,\r\n    }, 'POST');\r\n    if (!resp.ok) {\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};\r\n\r\nexport const renameFolder = async ({ id, name }) => {\r\n    const resp = await fetchWithToken(`folder/${id}`, {\r\n        name,\r\n    }, 'PUT');\r\n    if (!resp.ok) {\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};\r\n\r\nexport const deleteFolder = async ({ id }) => {\r\n    const resp = await fetchWithToken(`folder/${id}`, {}, 'DELETE');\r\n    if (!resp.ok) {\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};","import { Box, ListItemIcon, Menu, MenuItem, Typography } from '@material-ui/core';\r\nimport React, { useRef, useState } from 'react';\r\n\r\nconst initialState = {\r\n    mouseX: null,\r\n    mouseY: null,\r\n};\r\n\r\nexport const RightClickMenu = ({ options, children }) => {\r\n\r\n    const [state, setState] = useState(initialState);\r\n    const ref = useRef();\r\n\r\n    const handleClick = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const area = ref.current.getBoundingClientRect();\r\n        if(\r\n            (e.clientX >= area.x && e.clientX <= (area.x + area.width)) &&\r\n            (e.clientY >= area.y && e.clientY <= (area.y + area.height))\r\n        ) {\r\n            setState({\r\n                mouseX: e.clientX - 2,\r\n                mouseY: e.clientY - 4,\r\n            });\r\n        } else handleClose();\r\n    };\r\n\r\n    const handleSelect = (e, onSelect) => {\r\n        if(onSelect) onSelect(e);\r\n        handleClose();\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setState(initialState);\r\n    };\r\n\r\n    const renderContent = () => {\r\n        if(options && options.length){\r\n            return options.map((option, index) => {\r\n                return (<MenuItem key={`option-${index}-${option}`} onClick={ (e) => handleSelect(e, option.onSelect)}>\r\n                    {\r\n                        option.icon \r\n                            ?   <ListItemIcon>\r\n                                    { option.icon }\r\n                                </ListItemIcon> \r\n                            : <div></div>\r\n                    }\r\n                    <Typography>{ option.label }</Typography>\r\n                </MenuItem>);\r\n            });\r\n        }else {\r\n            return (\r\n                <Typography component='div'>\r\n                    <Box fontStyle=\"italic\">\r\n                        No hay opciones especificadas.\r\n                    </Box>\r\n                </Typography>\r\n            );\r\n      }\r\n    };\r\n\r\n    return (\r\n        <div ref={ref} onContextMenu={handleClick} style={{width: 325}}>\r\n            {children}\r\n            <Menu\r\n                keepMounted\r\n                open={state.mouseY !== null}\r\n                onClose={handleClose}\r\n                anchorReference=\"anchorPosition\"\r\n                anchorPosition={\r\n                state.mouseY !== null && state.mouseX !== null\r\n                    ? { top: state.mouseY, left: state.mouseX }\r\n                    : undefined\r\n                }\r\n            >   \r\n                { renderContent() }\r\n            </Menu>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Box, IconButton, ListItemIcon, makeStyles, Menu, MenuItem, Typography } from '@material-ui/core';\r\nimport { Delete, Edit, Folder, MoreVert } from '@material-ui/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport { RightClickMenu } from './RightClickMenu';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\nimport { deleteFolder } from 'services/FolderService';\r\nimport { useMutation, useQueryClient } from 'react-query';\r\nimport { useSnackbar } from 'notistack';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        border: `1px solid ${theme.palette.divider}`,\r\n        width: 325,\r\n        minWidth: 325,\r\n        borderRadius: 5,\r\n        margin: '10px 10px 10px 0px',\r\n        cursor: 'pointer',\r\n        backgroundColor: theme.palette.background.paper,\r\n        '&:hover': {\r\n            // boxShadow: '0px 0px 10px 0 #bcc3d6',\r\n            boxShadow: `0px 0px 10px 0 ${theme.palette.type !== 'dark' ? '#bcc3d6' : '#172b3a'}`,\r\n            background: theme.palette.background.designHover,\r\n        },\r\n    },\r\n    content: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    folderContainer: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        borderRadius: theme.shape.borderRadius,\r\n        alignItems: 'center',\r\n        width: '100%',\r\n        userSelect: 'none',\r\n        \r\n        textDecoration: 'none',\r\n        color: theme.palette.text.primary,\r\n    },\r\n    folderBody: {\r\n        padding: '15px 10px 15px 20px',\r\n        display: 'flex',\r\n        justifyContent: 'start',\r\n        alignItems: 'center',\r\n        textDecoration: 'none',\r\n    },\r\n    folderName: {\r\n        paddingTop: 3,\r\n        fontSize: 20,\r\n        paddingLeft: 20,\r\n    },\r\n    more: {\r\n        marginRight: 10,\r\n    },\r\n}));\r\n\r\nexport const DesignsFolder = ({ _id, name, path, ...rest }) => {\r\n    const classes = useStyles();\r\n    const [isMenuOpen, setMenuOpen] = useState(null);\r\n    const { dispatch } = useUiState();\r\n    const queryClient = useQueryClient();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const parentPath = path !== '/' + name ? path.replace('/' + name, '') : path.replace(name, '');\r\n\r\n    const deleteFolderMutation = useMutation(deleteFolder, {\r\n        onMutate: async () => {\r\n            await queryClient.cancelQueries(['folders', parentPath]);\r\n            const previousFolders = queryClient.getQueryData(['folders', parentPath]);\r\n            queryClient.setQueryData(['folders', parentPath], oldFolders => oldFolders.filter(folder => folder._id !== _id));\r\n            return { previousFolders };\r\n        },\r\n        onSettled: () => {\r\n            queryClient.invalidateQueries(['folders', parentPath]);\r\n        },\r\n        onError: (error, folder, context) => {\r\n            queryClient.setQueryData(['folders', parentPath], context.previousFolders);\r\n            enqueueSnackbar(error.message,  {variant: 'error', autoHideDuration: 2000});\r\n        },\r\n        onSuccess: data => {\r\n            enqueueSnackbar('Carpeta eliminada con éxito.',  {variant: 'success', autoHideDuration: 2000});\r\n        }\r\n    });\r\n\r\n    const handleRename = (e) => {\r\n        setMenuOpen(null);\r\n        dispatch({\r\n            type: types.ui.setFolder,\r\n            payload: {\r\n                _id,\r\n                name,\r\n            },\r\n        });\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Folder',\r\n        });\r\n    };\r\n\r\n    const handleDelete = async (e) => {\r\n        setMenuOpen(null);\r\n        dispatch({\r\n            type: types.ui.setConfirmData,\r\n            payload: {\r\n                type: 'carpeta',\r\n                args: { id: _id},\r\n                actionMutation: deleteFolderMutation,\r\n            }\r\n        });\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Confirmation',\r\n        });\r\n        //await deleteFolderMutation.mutate({ id: _id });\r\n    };\r\n\r\n    const handleOpenMenu = (e) => {\r\n        e.stopPropagation();\r\n        setMenuOpen(e.currentTarget);\r\n    };\r\n\r\n    return (\r\n        <Box className={classes.root} {...rest} >\r\n            <RightClickMenu options={[\r\n                { icon: <Edit></Edit>, label: 'Cambiar Nombre', onSelect: handleRename },\r\n                { icon: <Delete></Delete>, label: 'Eliminar', onSelect: handleDelete },\r\n            ]}>\r\n                <div className={classes.content}>\r\n                    <Box className={classes.folderContainer} component={Link} to={`/my-designs${path}`} {...rest} >\r\n                        <div className={classes.folderBody}>\r\n                            <Folder fontSize='large' />\r\n                            <Typography className={classes.folderName}>\r\n                                {name}\r\n                            </Typography>\r\n                        </div>\r\n                    </Box>\r\n                    <IconButton className={classes.more} onClick={handleOpenMenu}>\r\n                        <MoreVert />\r\n                    </IconButton>\r\n                    <Menu\r\n                        onBlur={()=>setMenuOpen(null)}\r\n                        anchorEl={isMenuOpen}\r\n                        open={Boolean(isMenuOpen)}\r\n                        anchorOrigin={{\r\n                            vertical: 'top',\r\n                            horizontal: 'right',\r\n                        }}\r\n                        keepMounted\r\n                        transformOrigin={{\r\n                            vertical: 'top',\r\n                            horizontal: 'right',\r\n                        }}\r\n                        onClose={()=>setMenuOpen(null)}\r\n                    >\r\n                        <MenuItem onClick={handleRename}>\r\n                            <ListItemIcon>\r\n                                <Edit />\r\n                            </ListItemIcon>\r\n                            <Typography>Cambiar Nombre</Typography>\r\n                        </MenuItem>\r\n                        <MenuItem onClick={handleDelete}>\r\n                            <ListItemIcon>\r\n                                <Delete />\r\n                            </ListItemIcon>\r\n                            <Typography>Eliminar</Typography>\r\n                        </MenuItem>\r\n                    </Menu>\r\n                </div>\r\n            </RightClickMenu>\r\n        </Box>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { DesignsFolder } from 'components/DesignsFolder';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        paddingTop: 15,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n    },\r\n    folderContainer: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        flexGrow: 1,\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'flex-start',\r\n    }\r\n});\r\n\r\nexport const FoldersContainer = ({ title, data }) => {\r\n    const classes = useStyles();    \r\n\r\n    const folderList = () => {\r\n        return data.map((folder) => <DesignsFolder key={'my-folder' + folder._id} {...folder} />);\r\n    };\r\n\r\n    return data && data.length > 0 \r\n        ?(<div className={classes.root}>\r\n            <div className={classes.folderContainer}>\r\n                { folderList() }\r\n            </div>\r\n        </div>)\r\n        : (<div></div>);\r\n};\r\n","import React from 'react';\r\nimport { Button, Divider, List, ListItem, ListItemText, makeStyles } from '@material-ui/core';\r\nimport { Add, Group, Home, Public } from '@material-ui/icons';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { useMutation, useQueryClient } from 'react-query';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { createDesign } from 'services/DesignService';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    icon: {\r\n        marginRight: 10,\r\n    },\r\n}));\r\n\r\nexport const LeftPanel = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const queryClient = useQueryClient();\r\n    const { authState } = useAuthState();\r\n\r\n    const createDesignMutation = useMutation(createDesign, {\r\n        onMutate: async () => {\r\n            await queryClient.cancelQueries('recent-designs');\r\n            await queryClient.cancelQueries(['designs', '/']);\r\n            await queryClient.cancelQueries([authState.user.id, 'user-public-designs']);\r\n        },\r\n        onSettled: () => {\r\n            queryClient.invalidateQueries('recent-designs');\r\n            queryClient.invalidateQueries(['designs', '/']);\r\n            queryClient.invalidateQueries([authState.user.id, 'user-public-designs']);\r\n        },\r\n        onError: (error) => {\r\n            // TODO: Emitir notificación o message para denotar el error.\r\n            console.log(error);\r\n        },\r\n        onSuccess: data => {\r\n            history.push(`/designs/${data.design._id}`);\r\n        }\r\n    });\r\n\r\n    const handleCreateDesign = async () => {\r\n        await createDesignMutation.mutate( {path:'/'});\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Button variant='outlined' color='primary' style={{ margin: 10 }} startIcon={<Add fontSize='large' />} onClick={handleCreateDesign}>\r\n                Nuevo Diseño\r\n            </Button>\r\n            <List component=\"nav\" aria-label=\"main mailbox folders\" style={{padding: 0}}>\r\n                <Divider />\r\n                <ListItem button selected={location.pathname.includes('/my-designs')} component={ Link } to='/my-designs'>\r\n                    <Home className={classes.icon} />\r\n                    <ListItemText primary='Mis Diseños'/>\r\n                </ListItem>\r\n                <Divider />\r\n                <ListItem button selected={location.pathname.includes('/shared-with-me')} component={ Link } to='/shared-with-me'>\r\n                    <Group className={classes.icon} />\r\n                    <ListItemText primary='Compartidos Conmigo' />\r\n                </ListItem>\r\n                <Divider />\r\n                <ListItem button selected={location.pathname.includes('/public-repository')} component={ Link } to='/public-repository'>\r\n                    <Public className={classes.icon} />\r\n                    <ListItemText primary='Repositorio Público' />\r\n                </ListItem>\r\n                <Divider />\r\n            </List>\r\n        </>\r\n    )\r\n}\r\n","import { Breadcrumbs, makeStyles, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        marginTop: 20,\r\n        marginBottom: 20,\r\n        width: '100%',\r\n        padding: '10px 15px 10px 15px',\r\n        borderRadius: 3,\r\n        backgroundColor: theme.palette.background.default\r\n    },\r\n    link:{\r\n        textDecoration: 'none',\r\n        '&:hover': {\r\n            textDecoration: 'underline'\r\n        }\r\n    }\r\n}));\r\n\r\nexport const DesignsBreadcrumbs = () => {\r\n    const classes = useStyles();\r\n    const { uiState } = useUiState();\r\n    const path = uiState.folderPath;\r\n\r\n    const createBreadcrumbsLinks = () => {\r\n        if (path.length !== 1) {\r\n            let newPath = '';\r\n            const folderList = path.split('/');\r\n            folderList.shift();\r\n            return folderList.map((folderName) => {\r\n                newPath += '/' + folderName;\r\n                const folderPath = newPath;\r\n                return (<div key={folderPath} style={{ display: 'flex' }}>\r\n                    {\r\n                        (path === folderPath)\r\n                            ? <Typography color=\"textPrimary\">{folderName} </Typography>\r\n                            : <Typography className={classes.link} color=\"inherit\" component={Link} to={`/my-designs${folderPath}`} >{folderName} </Typography>\r\n                    }\r\n                </div>);\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Breadcrumbs className={classes.root}>\r\n            {\r\n                path.length !== 1\r\n                    ? <Typography className={classes.link} color=\"inherit\" component={Link} to=\"/my-designs\"> Mis Diseños </Typography>\r\n                    : <Typography color=\"textPrimary\"> Mis Diseños </Typography>\r\n            }\r\n            {\r\n                createBreadcrumbsLinks()\r\n            }\r\n        </Breadcrumbs>\r\n    )\r\n}\r\n","import { useLayoutEffect, useState } from 'react';\r\n\r\nexport function useHorizontalScroll() {\r\n    const [node, setRef] = useState(null)\r\n    useLayoutEffect(() => {\r\n        if (node) {\r\n            const onWheel = e => {\r\n                if (e.deltaY === 0) return;\r\n                e.preventDefault();\r\n                node.scrollTo({\r\n                    left: node.scrollLeft + e.deltaY,\r\n                    behavior: 'auto',\r\n                });\r\n            };\r\n            node.addEventListener('wheel', onWheel);\r\n            return () => node.removeEventListener('wheel', onWheel);\r\n        }\r\n    }, [node]);\r\n    return setRef;\r\n}","import { Box, makeStyles } from '@material-ui/core';\r\nimport { KeyboardArrowLeft, KeyboardArrowRight } from '@material-ui/icons';\r\nimport { useHorizontalScroll } from 'hooks/useHorizontalScroll';\r\nimport React, { useRef, useState } from 'react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'relative',\r\n        width: `100%`,\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        mouseWheel: 'horizontal',\r\n        overflowX: 'auto',\r\n        overflowY: 'hidden',\r\n        listStyle: 'none',\r\n        paddingTop: theme.spacing(0.5),\r\n        paddingBottom: theme.spacing(0.5),\r\n        margin: 0,\r\n        //scrollBehavior: 'smooth',\r\n    },\r\n    prev: {\r\n        position: 'absolute',\r\n        height: 'calc(100% - 0.6em)',\r\n        width: 50,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        zIndex: 10,\r\n        left: 0,\r\n        background: `linear-gradient(270deg, transparent, ${theme.palette.action.disabledBackground} 100%)`,\r\n        '&:hover': {\r\n            cursor: 'pointer',\r\n            backgroundColor: theme.palette.action.hover,\r\n        }\r\n    },\r\n    next: {\r\n        position: 'absolute',\r\n        height: 'calc(100% - 0.6em)',\r\n        width: 50,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        zIndex: 10,\r\n        right: 0,\r\n        background: `linear-gradient(90deg, transparent, ${theme.palette.action.disabledBackground} 100%)`,\r\n        '&:hover': {\r\n            cursor: 'pointer',\r\n            backgroundColor: theme.palette.action.hover,\r\n        },\r\n    },\r\n}));\r\n\r\nexport const HorizontalScrollableContainer = ({ children }) => {\r\n    const classes = useStyles();\r\n    const scrollRef = useHorizontalScroll();\r\n    const [ref, setRef] = useState(null);\r\n    const prevRef = useRef();\r\n    const nextRef = useRef();\r\n\r\n    const handlePrev = () => {\r\n        if (ref){\r\n            ref.scrollTo({\r\n                left: ref.scrollLeft - 335,\r\n                behavior: 'smooth',\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleNext = () => {\r\n        if (ref){\r\n            ref.scrollTo({\r\n                left: ref.scrollLeft + 335,\r\n                behavior: 'smooth',\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Box position='relative'>\r\n            <Box ref={prevRef} onClick={handlePrev} className={classes.prev}>\r\n                <KeyboardArrowLeft style={{ fontSize: 40 }} />\r\n            </Box>\r\n            <Box ref={nextRef} onClick={handleNext} className={classes.next}>\r\n                <KeyboardArrowRight style={{ fontSize: 40 }} />\r\n            </Box>\r\n            <Box ref={(r)=>{scrollRef(r);setRef(r)}} className={classes.root}>\r\n                {children}\r\n            </Box>\r\n        </Box>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Divider, makeStyles, Typography } from '@material-ui/core';\r\nimport { useQuery } from 'react-query';\r\nimport { Design } from 'components/Design';\r\nimport { DesignSkeleton } from 'components/DesignSkeleton';\r\nimport { getRecentDesigns } from 'services/DesignService';\r\nimport { HorizontalScrollableContainer } from 'components/HorizontalScrollableContainer';\r\n\r\nconst useStyles = makeStyles({\r\n    root:{\r\n        paddingTop: 15,\r\n        marginBottom: 15,\r\n    },\r\n    recentDesigns: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        flexGrow: 1,\r\n        flexWrap: 'nowrap',\r\n        justifyContent: 'flex-start',\r\n        marginTop:15,\r\n    },\r\n    title: {\r\n        //paddingLeft:10,\r\n        //paddingRight:10,\r\n    }\r\n});\r\n\r\nexport const RecentDesigns = ({ width, height }) => {\r\n    const classes = useStyles();\r\n    const n = Math.trunc(width / 345);\r\n\r\n    const { isLoading, isError, data } = useQuery(\"recent-designs\", async () => {\r\n        return getRecentDesigns();\r\n    });\r\n    \r\n\r\n    if (isError) {\r\n        return <div></div>;\r\n    }\r\n    \r\n    const createSkeletons = () => {\r\n        return Array.from(Array(n).keys()).map( i => {return(<DesignSkeleton key={`recent-design-skeleton-${ i }`}/>)});\r\n    };\r\n\r\n    const designList = () => {\r\n        return data.map((design) => <Design key={'recent' + design._id} title={design.metadata.name} {...design} canDelete={ false } />);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {\r\n                data && data.length !== 0 \r\n                    ? <div className={classes.title}>\r\n                    <Typography variant='h4'>\r\n                        Diseños recientes\r\n                    </Typography>\r\n                    <Divider />\r\n                </div>\r\n                    : <div></div>\r\n            }\r\n            {\r\n                data && data.length > 0 \r\n                    ? data.length > n ? \r\n                        <HorizontalScrollableContainer>\r\n                            {\r\n                                (isLoading) \r\n                                    ? createSkeletons()\r\n                                    : designList()\r\n                            }\r\n                        </HorizontalScrollableContainer>\r\n                        :\r\n                        <div className={classes.recentDesigns}>\r\n                            {\r\n                                (isLoading) \r\n                                    ? createSkeletons()\r\n                                    : designList()\r\n                            }\r\n                        </div>\r\n                    : <div></div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    Button,\r\n    makeStyles,\r\n    IconButton,\r\n    TextField,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogActions,\r\n    Typography,\r\n    useTheme\r\n} from '@material-ui/core';\r\nimport { createFolder, renameFolder } from 'services/FolderService';\r\n\r\nimport { Close } from '@material-ui/icons';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\nimport { useMutation, useQueryClient } from 'react-query';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n    },\r\n    close: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n    folderNameInput: {\r\n        marginTop: 20,\r\n        marginBottom: 20,\r\n    }\r\n}));\r\n\r\nexport const FolderModal = () => {\r\n\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const { uiState, dispatch } = useUiState();\r\n    const { folderPath, folder, isFolderModalOpen } = uiState;\r\n    const queryClient = useQueryClient();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [error, setError] = useState(null);\r\n    const [name, setName] = useState(folder.name);\r\n\r\n    useEffect(() => {\r\n        setName(folder.name);\r\n    }, [folder.name, setName]);\r\n\r\n    const createFolderMutation = useMutation(createFolder, {\r\n        onMutate: async () => {\r\n            await queryClient.cancelQueries(['folders', folderPath]);            \r\n        },\r\n        onSettled: () => {\r\n            queryClient.invalidateQueries(['folders', folderPath]);\r\n        },\r\n        onError: (error) => {\r\n            enqueueSnackbar(error.message,  {variant: 'error', autoHideDuration: 2000});\r\n        },\r\n        onSuccess: data => {\r\n            enqueueSnackbar('Carpeta creada con éxito.',  {variant: 'success', autoHideDuration: 2000});\r\n            handleCloseModal();\r\n        }\r\n    });\r\n\r\n    const renameFolderMutation = useMutation(renameFolder, {\r\n        onMutate: async () => {\r\n            await queryClient.cancelQueries(['folders', folderPath]);            \r\n        },\r\n        onSettled: () => {\r\n            queryClient.invalidateQueries(['folders', folderPath]);\r\n        },\r\n        onError: (error) => {\r\n            enqueueSnackbar(error.message,  {variant: 'error', autoHideDuration: 2000});\r\n        },\r\n        onSuccess: data => {\r\n            enqueueSnackbar('Nombre de carpeta cambiado con éxito.',  {variant: 'success', autoHideDuration: 2000});\r\n            handleCloseModal();\r\n        }\r\n    });\r\n\r\n    const handleChangeName = ({target}) => {\r\n        if(!!error) setError(null);\r\n        setName(target.value);\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'Folder',\r\n        });\r\n        setTimeout(() => dispatch({\r\n            type: types.ui.setFolder,\r\n            payload: {\r\n                _id: null,\r\n                name: '',\r\n            }\r\n        }), theme.transitions.duration.enteringScreen);\r\n        setName('');\r\n        setError(null);\r\n    };\r\n\r\n    const handleCreateFolder = async (e) => {\r\n        if (name.trim() === '') return setError('Este campo es obligatorio.');\r\n        if (name.trim() === '/' || name.trim().toLowerCase() === 'mis diseños') return setError('Nombre de carpeta no permitido.');\r\n        await createFolderMutation.mutate({path: folderPath, folderName: name.trim()});\r\n    };\r\n    \r\n    const handleRenameFolder = async (e) => {\r\n        if (name.trim() === '') return setError('Este campo es obligatorio.');\r\n        if (name.trim() === '/' || name.trim().toLowerCase() === 'mis diseños') return setError('Nombre de carpeta no permitido.');\r\n        if (name.trim().toLowerCase() === folder.name.trim().toLowerCase()) return handleCloseModal();\r\n        await renameFolderMutation.mutate({id: folder._id, name});\r\n    };\r\n\r\n    return (\r\n        <Dialog fullWidth open={isFolderModalOpen} aria-labelledby=\"form-dialog-title\">\r\n            <div className={classes.title}>\r\n                <DialogTitle id=\"form-dialog-title\" onClose={handleCloseModal} >\r\n                    {\r\n                        !folder._id ? 'Nueva Carpeta' : 'Editar Carpeta'\r\n                    }\r\n                </DialogTitle>\r\n                <IconButton className={classes.close} aria-label=\"close\" onClick={handleCloseModal}>\r\n                    <Close />\r\n                </IconButton>\r\n            </div>\r\n            <DialogContent dividers>\r\n                <Typography style={{marginBottom: 20}}>\r\n                    Usted está por { !folder._id ? 'crear una nueva carpeta' : 'editar una carpeta' }.\r\n                    Por favor ingrese el { !folder._id ? '' : 'nuevo' } nombre para su carpeta en la siguiente entrada de texto.\r\n                </Typography>\r\n                <Typography variant='caption' >\r\n                    IMPORTANTE: No puede existir una carpeta en el directorio con el mismo nombre.\r\n                </Typography>\r\n                <TextField \r\n                    className={classes.folderNameInput}\r\n                    error={!!error}\r\n                    helperText={error}\r\n                    margin=\"dense\"\r\n                    variant=\"outlined\"\r\n                    name=\"name\"\r\n                    value={name}\r\n                    onChange={handleChangeName}\r\n                    label=\"Nombre Carpeta\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                />\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleCloseModal}>\r\n                    Cancelar\r\n                </Button>\r\n                {\r\n                    !folder._id \r\n                        ? <Button variant=\"contained\" color=\"primary\" onClick={handleCreateFolder}>\r\n                            Crear Carpeta\r\n                            </Button>\r\n                        : <Button variant=\"contained\" color=\"primary\" onClick={handleRenameFolder}>\r\n                            Editar Carpeta\r\n                        </Button>\r\n                }\r\n                \r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Box, Button, IconButton, ListItemIcon, Menu, MenuItem, Typography } from '@material-ui/core';\r\nimport { MoreVert } from '@material-ui/icons';\r\n\r\nexport const CustomMenu = ({ options, Icon, text, fullWidth = false, children }) => {\r\n    const [isOpen, setOpen] = useState(null);\r\n\r\n    const handleOpen = (e) => {\r\n        setOpen(e.currentTarget);\r\n    };\r\n\r\n    const handleSelect = (e, onSelect) => {\r\n        if(onSelect) onSelect(e);\r\n        handleClose();\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(null);\r\n    };\r\n\r\n    const renderContent = () => {\r\n        if(options && options.length){\r\n            return options.map((option, index) => {\r\n                return (<MenuItem key={`option-${index}-${option}`} onClick={ (e) => handleSelect(e, option.onSelect)}>\r\n                    {\r\n                        option.icon \r\n                            ?   <ListItemIcon>\r\n                                    { option.icon }\r\n                                </ListItemIcon> \r\n                            : <div></div>\r\n                    }\r\n                    <Typography>{ option.label }</Typography>\r\n                </MenuItem>);\r\n            });\r\n        }else if(children){\r\n            return children;\r\n        }else {\r\n            return (\r\n                <Typography component='div'>\r\n                    <Box fontStyle=\"italic\">\r\n                        No hay opciones especificadas.\r\n                    </Box>\r\n                </Typography>\r\n            );\r\n      }\r\n    };\r\n\r\n    return (\r\n        <div style={{width: fullWidth ? '100%': 'auto'}}>\r\n            {\r\n                text \r\n                    ? <Button fullWidth={fullWidth} variant='outlined' onClick={handleOpen}>\r\n                        {Icon}\r\n                        <Typography style={{marginLeft: 10}}>{text}</Typography> \r\n                    </Button>\r\n                    : <IconButton onClick={handleOpen}>\r\n                        {Icon ?? <MoreVert />} \r\n                    </IconButton>\r\n            }\r\n            \r\n            <Menu\r\n                anchorEl={isOpen}\r\n                open={Boolean(isOpen)}\r\n                keepMounted\r\n                getContentAnchorEl={null}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'right',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                onClose={handleClose}\r\n            >   \r\n                { renderContent() }\r\n            </Menu>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Backdrop, Button, CircularProgress, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, makeStyles, Typography } from '@material-ui/core';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\nimport { Close } from '@material-ui/icons';\r\nimport { DropzoneArea } from 'material-ui-dropzone';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useMutation, useQueryClient } from 'react-query';\r\nimport { importDesign } from 'services/DesignService';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n    previewChip: {\r\n        maxWidth: 210\r\n    },\r\n    backdrop: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        zIndex: theme.zIndex.modal + 1,\r\n        color: '#fff',\r\n    },\r\n}));\r\n\r\n// ImportDesigns\r\n\r\nexport const ImportDesignsModal = () => {\r\n    const classes = useStyles();\r\n    const queryClient = useQueryClient();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { uiState, dispatch } = useUiState();\r\n    const [designs, setDesigns] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const path = uiState.folderPath;\r\n    const maxFileSize = 3145728;\r\n\r\n    const importDesignsMutation = useMutation(importDesign, {\r\n        onMutate: async () => {\r\n            await queryClient.cancelQueries('recent-designs');\r\n            await queryClient.cancelQueries(['designs', path]);\r\n        },\r\n        onSettled: () => {\r\n            queryClient.invalidateQueries('recent-designs');\r\n            queryClient.invalidateQueries(['designs', path]);\r\n        },\r\n        onError: (error, args) => {\r\n            if(args.last) {\r\n                setLoading(false);\r\n                handleClose();\r\n            }\r\n            enqueueSnackbar(error.message,  {variant: 'error', autoHideDuration: 2000});\r\n        },\r\n        onSuccess: (data, args) => {\r\n            if(args.last) {\r\n                setLoading(false);\r\n                handleClose();\r\n            }\r\n            enqueueSnackbar(data.message,  {variant: 'success', autoHideDuration: 2000});\r\n\r\n        }\r\n    });\r\n\r\n    const handleClose = ( e ) => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'ImportDesigns',\r\n        });\r\n    };\r\n\r\n    const rejectFile = (file, accepteds, maxSize) => {\r\n        let message = `El archivo \"${file.name}\" fue rechazado. `;\r\n        if(!accepteds.includes(file.type)) message += `El tipo de archivo no es compatible. `;\r\n        if(file.size > maxSize) message += `El archivo es demasiado grande. El límite de tamaño es ${maxSize/1024/1024} MB.`;\r\n        return message;\r\n    };\r\n\r\n    const readFile = (file) => {\r\n        return (e) => {\r\n            try {\r\n                const json = JSON.parse(e.target.result);\r\n                setDesigns((prevDesigns) => [...prevDesigns, {filename: file.name, design: json}]);\r\n            } catch (ex) {\r\n                enqueueSnackbar(`Ha ocurrido un error al cargar el diseño \"${file.name}\". El archivo está corrupto.`, { variant: 'error', anchorOrigin: { vertical: 'bottom', horizontal: 'left' }, autoHideDuration: 2000 });\r\n            }\r\n        };\r\n    }; \r\n\r\n    const loadFiles = (files) => {\r\n        setDesigns([]);\r\n        for (const file of files) {\r\n            try {\r\n                const fr = new FileReader();\r\n                fr.onload = readFile(file);\r\n                fr.readAsText(file);\r\n            } catch (error) {\r\n                console.log(error);\r\n                enqueueSnackbar(`Ha ocurrido un error al cargar el diseño \"${file.name}\". El archivo está corrupto.`, { variant: 'error', anchorOrigin: { vertical: 'bottom', horizontal: 'left' }, autoHideDuration: 2000 });\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleImportDesigns = async (e) => {\r\n        setLoading(true);\r\n        for (let index = 0; index < designs.length; index++) {\r\n            const designFile = designs[index];\r\n            await importDesignsMutation.mutate({ filename: designFile.filename, path, design: designFile.design, last: index === designs.length -1 });\r\n        }\r\n    };\r\n    \r\n    return (\r\n        <>\r\n        <Dialog\r\n            open={uiState.isImportDesignsModalOpen}\r\n            maxWidth={'sm'}\r\n            fullWidth\r\n        >\r\n            <DialogTitle >\r\n                Importar Diseños de Aprendizaje\r\n            </DialogTitle>\r\n            <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\r\n                <Close />\r\n            </IconButton>\r\n            <DialogContent dividers >\r\n                <Typography style={{ marginBottom: 20 }}>\r\n                    Para importar diseños en su cuenta haga click o arrastre sus archivos a la zona indicada.\r\n                </Typography>\r\n                <DropzoneArea\r\n                    getFileLimitExceedMessage={(limit) => `Se superó el número máximo de archivos. Solo se permiten ${limit}. `}\r\n                    previewGridProps={{ container: { spacing: 1, direction: 'row' } }}\r\n                    dropzoneText='Arrastra y suelta tus archivos o haz click aquí'\r\n                    previewChipProps={{ classes: { root: classes.previewChip } }}\r\n                    acceptedFiles={['application/json']}\r\n                    previewText=\"Archivos Seleccionados\"\r\n                    getDropRejectMessage={rejectFile}\r\n                    showPreviewsInDropzone={false}\r\n                    maxFileSize={maxFileSize}\r\n                    showAlerts={['error']}\r\n                    onChange={loadFiles}\r\n                    showPreviews={true}\r\n                    filesLimit={5}\r\n                    useChipsForPreview\r\n                    clearOnUnmount\r\n                />\r\n                <div style={{ marginTop: 20 }}>\r\n                    <Typography variant='caption'>\r\n                        IMPORTANTE: Solo se admiten archivos con extensión \"json\", por ejemplo \"Diseño de Ejemplo.json\".\r\n                    </Typography>\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleClose}>\r\n                    Cancelar\r\n                </Button>\r\n                <Button \r\n                    variant='contained' \r\n                    color='primary' \r\n                    onClick={handleImportDesigns}\r\n                    disabled={designs.length === 0}\r\n                >\r\n                    Importar\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        <Backdrop className={classes.backdrop} open={loading}>\r\n            <CircularProgress color=\"inherit\" />\r\n            <Typography>Subiendo archivos...</Typography>\r\n        </Backdrop>\r\n    </>\r\n)\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { Divider, Grid, makeStyles, Typography, useMediaQuery, useTheme } from '@material-ui/core';\r\nimport { useInfiniteQuery, useMutation, useQuery, useQueryClient } from 'react-query';\r\nimport { DesignsContainer } from 'components/DesignsContainer';\r\nimport { createDesign, getDesignsByFolder } from 'services/DesignService';\r\nimport { getfolderByPath } from 'services/FolderService';\r\nimport { FoldersContainer } from 'components/FoldersContainer';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\nimport { LeftPanel } from 'pages/Navigation/LeftPanel';\r\nimport { DesignsBreadcrumbs } from 'pages/Navigation/MyDesigns/DesignsBreadcrumbs';\r\nimport { RecentDesigns } from 'pages/Navigation/MyDesigns/RecentDesigns';\r\nimport { FolderModal } from './FolderModal';\r\nimport { useSnackbar } from 'notistack';\r\nimport { AddCircle, CreateNewFolder, NoteAdd, Publish } from '@material-ui/icons';\r\nimport { CustomMenu } from 'components/CustomMenu';\r\nimport { ImportDesignsModal } from './ImportDesignsModal';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    leftPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    workspace: {\r\n        paddingLeft: 30,\r\n        paddingRight: 30,\r\n        background: theme.palette.background.workSpace,\r\n        minHeight: 'calc(100vh - 128px)',\r\n        [theme.breakpoints.down('xs')]: {\r\n            paddingLeft: 10,\r\n            paddingRight: 10,\r\n        },\r\n    },\r\n    rightPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderLeft: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    icon: {\r\n        marginRight: 10,\r\n    },\r\n    breadCrumbs: {\r\n        marginTop: 20,\r\n        marginBottom: 20,\r\n        width: '100%',\r\n        padding: '10px 15px 10px 15px',\r\n        borderRadius: 3,\r\n        backgroundColor: theme.palette.background.default\r\n    },\r\n    designsAndFoldersContainer: {\r\n        paddingTop: 15,\r\n    },\r\n    link: {\r\n        textDecoration: 'none',\r\n    },\r\n    sectionTitle: {\r\n        width: '100%',\r\n        display:'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-between', \r\n        alignItems:'flex-end', \r\n        paddingBottom: 5,\r\n    },\r\n    button: {\r\n        height: 35,\r\n    }\r\n\r\n}));\r\n\r\nexport const MyDesignsPage = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const urlparams = useParams();\r\n    const designsRef = useRef(null);\r\n    const theme = useTheme();\r\n    const isXSDevice = useMediaQuery(theme.breakpoints.down('xs'));\r\n    const { uiState, dispatch } = useUiState();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const queryClient = useQueryClient();\r\n    const { authState } = useAuthState();\r\n    const [width, setWidth] = useState(0);\r\n    const [height, setHeight] = useState(0);\r\n\r\n    useEffect(()=>{\r\n        dispatch({\r\n            type: types.ui.updateFolderPath,\r\n            payload: urlparams.urlPath ? '/' + urlparams.urlPath : '/',\r\n        });\r\n    }, [dispatch, urlparams]);\r\n\r\n    const path = uiState.folderPath;\r\n    const folderName = !urlparams.urlPath ? 'Mis Diseños' : path.split('/')[path.split('/').length - 1];\r\n\r\n    const designsQuery = useInfiniteQuery(['designs', path], async ({ pageParam = 0 }) => {\r\n        return await getDesignsByFolder(path, pageParam);\r\n    }, {\r\n        refetchOnWindowFocus: false,\r\n        getNextPageParam: (lastPage, pages) => {\r\n            if(lastPage.nPages === pages.length) return undefined; \r\n            return lastPage.from;\r\n        },\r\n    });\r\n\r\n    const foldersQuery = useQuery(['folders', path], async () => {\r\n        return await getfolderByPath(path);\r\n    }, { refetchOnWindowFocus: false });\r\n\r\n    const createDesignMutation = useMutation(createDesign, {\r\n        onMutate: async () => {\r\n            await queryClient.cancelQueries('recent-designs');\r\n            await queryClient.cancelQueries(['designs', path]);\r\n            await queryClient.cancelQueries([authState.user.id, 'user-public-designs']);\r\n        },\r\n        onSettled: () => {\r\n            queryClient.invalidateQueries('recent-designs');\r\n            queryClient.invalidateQueries(['designs', path]);\r\n            queryClient.invalidateQueries([authState.user.id, 'user-public-designs']);\r\n        },\r\n        onError: (error) => {\r\n            enqueueSnackbar(error.message,  {variant: 'error', autoHideDuration: 2000});\r\n        },\r\n        onSuccess: data => {\r\n            history.push(`/designs/${data.design._id}`);\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (designsRef.current) {\r\n            setHeight(designsRef.current.offsetHeight);\r\n            setWidth(designsRef.current.offsetWidth);\r\n        }\r\n    }, [designsRef]);\r\n\r\n    const handleCreateDesign = async ( e, path = '/' ) => {\r\n        await createDesignMutation.mutate({path});\r\n    };\r\n\r\n    const handleOpenFolderModal = async (e) => {\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Folder'\r\n        });\r\n    };\r\n\r\n    const handleImportDesign = (e) => {\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'ImportDesigns',\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Grid container>\r\n                <Grid item xs={12} md={3} lg={2} className={classes.leftPanel}>\r\n                    <LeftPanel />\r\n                </Grid>\r\n                <Grid item xs={12} md={6} lg={8} ref={designsRef} className={classes.workspace}>\r\n                    <DesignsBreadcrumbs />\r\n                    {\r\n                        path === '/' && <RecentDesigns id='recent' width={width} height={height} />\r\n                    }\r\n                    <div className={ classes.designsAndFoldersContainer }>\r\n                        <div className={classes.sectionTitle}>\r\n                            <Typography variant='h4'>\r\n                                {path === '/' ? 'Mis Diseños' : folderName}\r\n                            </Typography>\r\n                            <CustomMenu\r\n                                Icon={<AddCircle />}\r\n                                text='Nuevo'\r\n                                fullWidth={isXSDevice}\r\n                                options={[\r\n                                    { icon: <NoteAdd  />, label: 'Nuevo Diseño', onSelect: (e)=>handleCreateDesign(e, path) },\r\n                                    { icon: <CreateNewFolder  />, label: 'Nueva Carpeta', onSelect: handleOpenFolderModal },\r\n                                    { icon: <Publish  />, label: 'Importar Diseños', onSelect: handleImportDesign },\r\n                                ]} \r\n                            />\r\n                        </div>\r\n                        <Divider />\r\n                        <FoldersContainer {...foldersQuery}/>\r\n                        <DesignsContainer {...designsQuery} handleCreateDesign={(e)=>handleCreateDesign(e, path)}/>\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={12} md={3} lg={2} className={classes.rightPanel}></Grid>\r\n            </Grid>\r\n            <FolderModal />\r\n            <ImportDesignsModal />\r\n        </>\r\n    );\r\n};","import { fetchWithToken, uploadFetchWithToken } from \"utils/fetch\";\r\n\r\nexport const getUser = async ( id ) => {\r\n    const resp = await fetchWithToken(`user/${id}`);\r\n    if(!resp.ok){\r\n        throw new Error(resp.message);\r\n    }\r\n\treturn resp.data;\r\n};\r\n\r\nexport const searchUsers = async ( filter, pageParam ) => {\r\n    const resp = await fetchWithToken('user/search/', {\r\n        filter,\r\n        from: pageParam,\r\n    }, 'POST');\r\n    if(!resp.ok){\r\n        throw new Error(resp.message);\r\n    }\r\n\treturn resp.data;\r\n};\r\n\r\nexport const updateContact = async(  {uid, contacts} ) => {\r\n    try {\r\n        const resp = await fetchWithToken(`user/${uid}`, { \r\n            newData: { contacts }\r\n         }, 'PUT');\r\n        if(!resp.ok){\r\n            throw new Error(resp.message);\r\n        }\r\n        return resp.data;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n\r\nexport const updateProfileInformation = async(  {uid, img, name, lastname, occupation, institution, country, city, description} ) => {\r\n    try {\r\n        const resp = await fetchWithToken(`user/${uid}`, { \r\n           newData: { uid, img, name, lastname, occupation, institution, country, city, description }\r\n        }, 'PUT');\r\n        if(!resp.ok){\r\n            throw new Error(resp.message);\r\n        }\r\n        return resp.data;\r\n    } catch (error) {\r\n        console.log(error);\r\n        return { ok: false, message: 'Ha ocurrido un error al hacer la petición, compruebe su conexión a internet o vuelva a intentarlo más tarde.'};\r\n    }\r\n};\r\n\r\nexport const getUserByEmail = async( email ) => {\r\n    try {\r\n        return await fetchWithToken(`user/search-by-email/`, { \r\n           email\r\n        }, 'POST');\r\n    } catch (error) {\r\n        console.log(error);\r\n        return { ok: false, message: 'Ha ocurrido un error al hacer la petición, compruebe su conexión a internet o vuelva a intentarlo más tarde.'};\r\n    }\r\n};\r\n\r\nexport const resendVerificationCode = async( email ) => {\r\n    try {\r\n        return await fetchWithToken(`user/resend-code/`, { \r\n            email\r\n        }, 'POST');\r\n    } catch (error) {\r\n        console.log(error);\r\n        return { ok: false, message: 'Ha ocurrido un error al hacer la petición, compruebe su conexión a internet o vuelva a intentarlo más tarde.'};\r\n    }\r\n};\r\n\r\nexport const changeUserPassword = async( { uid, newPassword } ) => {\r\n    try {\r\n        return await fetchWithToken(`auth/reset-password/${uid}`, { \r\n            newPassword\r\n        }, 'PUT');\r\n    } catch (error) {\r\n        console.log(error);\r\n        return { ok: false, message: 'Ha ocurrido un error al hacer la petición, compruebe su conexión a internet o vuelva a intentarlo más tarde.'};\r\n    }\r\n};\r\n\r\nexport const updateUserImage = async( formData ) => {\r\n    try {\r\n        return await uploadFetchWithToken(`user/update/user-img`, formData, 'PUT', {});\r\n    } catch (error) {\r\n        console.log(error);\r\n        return { ok: false, message: 'Ha ocurrido un error al hacer la petición, compruebe su conexión a internet o vuelva a intentarlo más tarde.'};\r\n    }\r\n};","import { useState } from 'react';\r\n\r\n\r\nexport const useForm = ( initialState = {} ) => {\r\n    \r\n    const [values, setValues] = useState(initialState);\r\n\r\n    const reset = () => {\r\n        setValues( initialState );\r\n    }\r\n\r\n\r\n    const handleInputChange = ({ target }) => {\r\n        setValues({\r\n            ...values,\r\n            [ target.name ]: target.value\r\n        });\r\n\r\n    }\r\n\r\n    return [ values, handleInputChange, reset, setValues ];\r\n\r\n}\r\n","\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { Avatar, Backdrop, Button, ButtonBase, CircularProgress, Dialog, DialogActions, DialogContent, DialogTitle, Grid, IconButton, makeStyles, TextField, Typography, useTheme, } from '@material-ui/core';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { getUser, updateProfileInformation, updateUserImage } from 'services/UserService';\r\nimport { useParams } from 'react-router';\r\nimport { useForm } from 'hooks/useForm';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Alert } from '@material-ui/lab';\r\nimport types from 'types';\r\nimport { useSnackbar } from 'notistack';\r\nimport { AddPhotoAlternate } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n    errorContainer: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        justifyContent: 'center',\r\n    },\r\n    error: {\r\n        marginTop: 15,\r\n        minWidth: '50%',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        textAlign: 'justify',\r\n        alignItems: 'center',\r\n    },\r\n    avatarContainer: {\r\n        position: 'relative',\r\n    },\r\n    photoProfile: ({ isHovered }) => ({\r\n        width: theme.spacing(30),\r\n        height: theme.spacing(30),\r\n        marginTop: theme.spacing(2),\r\n        marginBottom: theme.spacing(2),\r\n        backgroundColor: !isHovered\r\n            ? theme.palette.type === 'dark' ? theme.palette.grey[600] : theme.palette.grey[400]\r\n            : theme.palette.type === 'dark' ? theme.palette.grey[500] : theme.palette.grey[500],\r\n    }),\r\n    addPhotoIcon: ({ isHovered }) => ({\r\n        position: 'absolute',\r\n        bottom: 25,\r\n        right: 25,\r\n        border: `2px solid ${theme.palette.background.paper}`,\r\n        backgroundColor: !isHovered\r\n            ? theme.palette.type === 'dark' ? theme.palette.grey[600] : theme.palette.grey[400]\r\n            : theme.palette.type === 'dark' ? theme.palette.grey[500] : theme.palette.grey[500],\r\n    }),\r\n    inputFile: {\r\n        display: 'none',\r\n    },\r\n    backdrop: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        zIndex: theme.zIndex.modal + 1,\r\n        color: '#fff',\r\n    },\r\n}));\r\n\r\nexport const EditProfileModal = React.memo(() => {\r\n    const [isHovered, setHovered] = useState(false);\r\n    const theme = useTheme();\r\n    const classes = useStyles({ isHovered });\r\n    const queryClient = useQueryClient();\r\n    const { uiState, dispatch } = useUiState();\r\n    const { authState, setAuthState } = useAuthState();\r\n    const urlparams = useParams();\r\n    const fileInputRef = useRef();\r\n    const [file, setFile] = useState(null);\r\n    const [imgSource, setImgSource] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const uid = urlparams.uid;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    useEffect(() => {\r\n        if(file){\r\n            const objectUrl = URL.createObjectURL(file);\r\n            setImgSource(objectUrl);\r\n            return () => URL.revokeObjectURL(objectUrl);\r\n        }\r\n    }, [file])\r\n\r\n    const { isLoading, isError, data } = useQuery(['user-profile', uid], async () => {\r\n        return await getUser(uid);\r\n    }, { refetchOnWindowFocus: false });\r\n\r\n    const [formData, handleInputChange, reset] = useForm({\r\n        name: data.name,\r\n        lastname: data.lastname,\r\n        occupation: data.occupation,\r\n        institution: data.institution,\r\n        country: data.country,\r\n        city: data.city,\r\n        description: data.description,\r\n    });\r\n\r\n    const { name, lastname, occupation, institution, country, city, description } = formData;\r\n\r\n    const updateProfileInformationMutation = useMutation(updateProfileInformation, {\r\n        onMutate: async (args) => {\r\n            // Cancela consultas con la key especificada\r\n            await queryClient.cancelQueries(['user-profile', uid]);\r\n            // Guarda los datos antes de la eliminación por si algo sale mal\r\n            const previousUserProfile = queryClient.getQueryData(['user-profile', uid]);\r\n            // Actualiza de manera optimista (Suponiendo que el servidor responde correctamente)\r\n            queryClient.setQueryData(['user-profile', uid], oldData => {\r\n                const newData = Object.assign({}, { ...oldData, uid, img: args.img, name, lastname, occupation, institution, country, city, description });\r\n                return newData;\r\n            });\r\n            // Retorna un contexto con los datos previos a la eliminación para restaurar la consulta si es que algo sale mal\r\n            return { previousUserProfile };\r\n        },\r\n        // Si la mutación falla, usa los datos previos desde el contexto retornado en onMutate para restaurar los datos\r\n        onError: (error, context) => {\r\n            console.log(error);\r\n            queryClient.setQueryData(['user-profile', uid], context.previousUserProfile);\r\n            setLoading(false);\r\n            dispatch({\r\n                type: types.ui.closeModal,\r\n                payload: 'EditProfile',\r\n            });\r\n            setTimeout(() => {\r\n                setImgSource(null);\r\n                setFile(null);\r\n                enqueueSnackbar(error.message, { variant: 'error', autoHideDuration: 2000 });\r\n            }, theme.transitions.duration.enteringScreen);\r\n        },\r\n        onSettled: () => {\r\n            queryClient.invalidateQueries(['user-profile', uid]);\r\n            queryClient.invalidateQueries('recent-designs');\r\n            queryClient.invalidateQueries('designs');\r\n            queryClient.invalidateQueries([uid, 'user-public-designs']);\r\n        },\r\n        onSuccess: (data, args) => {\r\n            setLoading(false);\r\n            dispatch({\r\n                type: types.ui.closeModal,\r\n                payload: 'EditProfile',\r\n            });\r\n            setTimeout(() => {\r\n                setImgSource(null);\r\n                setFile(null);\r\n                enqueueSnackbar('Usuario actualizado correctamente', { variant: 'success', autoHideDuration: 2000 });\r\n                setAuthState((prevState) => ({\r\n                    ...prevState,\r\n                    user: {\r\n                        ...prevState.user,\r\n                        img: data.value.img\r\n                    }\r\n                }));\r\n            }, theme.transitions.duration.enteringScreen);\r\n        }\r\n    });\r\n\r\n    if (isError) {\r\n        return (<div className={classes.errorContainer}>\r\n            <Alert severity='error' variant='outlined' className={classes.error}>\r\n                Ha ocurrido un problema al intentar obtener el usuario en la base de datos. Esto probablemente se deba a un problema de conexión, por favor revise que su equipo tenga conexión a internet e intente más tarde.\r\n                Si el problema persiste, por favor comuníquese con el equipo de soporte.\r\n            </Alert>\r\n        </div>);\r\n    };\r\n\r\n    if (isLoading) {\r\n        return (<Typography>Cargando...</Typography>);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'EditProfile',\r\n        });\r\n        setTimeout(() => {\r\n            reset();\r\n            setImgSource(null);\r\n            setFile(null);\r\n        }, theme.transitions.duration.enteringScreen);\r\n    };\r\n\r\n    const handleSaveInformation = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        let img = data.img;\r\n        if (file) {\r\n            const formData = new FormData();\r\n            formData.append('img', file);\r\n            const resp = await updateUserImage(formData);\r\n            if (!resp.ok) enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n            else img = resp.data.user.img;\r\n        }\r\n        await updateProfileInformationMutation.mutate({ uid: authState.user.uid, img, name, lastname, occupation, institution, country, city, description });\r\n    };\r\n\r\n    const handleChangeFile = async (event) => {\r\n        var file = event.target.files[0];\r\n        //var reader = new FileReader();\r\n        //reader.onloadend = function (e) {\r\n        //    setImgSource(e.target.result);\r\n        //};\r\n        //reader.readAsDataURL(file);\r\n        setFile(file);\r\n    };\r\n    \r\n    return (\r\n        <>\r\n            <Dialog onClose={handleClose} aria-labelledby='customized-dialog-title' open={uiState.isEditProfileModalOpen}>\r\n                <DialogTitle id='customized-dialog-title' onClose={handleClose}>\r\n                    Editar perfil\r\n                    <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\r\n                        <CloseIcon />\r\n                    </IconButton>\r\n                </DialogTitle>\r\n                <DialogContent dividers>\r\n                    <Grid container spacing={1}>\r\n                        <Grid container alignItems='center' justify='center' className={classes.avatarContainer}>\r\n                            <input\r\n                                ref={fileInputRef}\r\n                                accept=\"image/x-png,image/jpeg\"\r\n                                className={classes.inputFile}\r\n                                type=\"file\"\r\n                                onChange={handleChangeFile}\r\n                            />\r\n                            <div\r\n                                style={{ position: 'relative' }}\r\n                            >\r\n                                <Avatar\r\n                                    component={ButtonBase}\r\n                                    className={classes.photoProfile}\r\n                                    src={\r\n                                        imgSource \r\n                                            ? imgSource\r\n                                            : (data.img && data.img.length > 0 )\r\n                                                ? `${process.env.REACT_APP_URL}uploads/users/${data.img}` \r\n                                                : ''\r\n                                    }\r\n                                    alt={data.name + ' ' + data.lastname}\r\n                                    onClick={(e) => fileInputRef?.current.click()}\r\n                                    onMouseEnter={(e) => { setHovered(true) }}\r\n                                    onMouseLeave={(e) => { setHovered(false) }}\r\n                                />\r\n                                <Avatar\r\n                                    component={ButtonBase}\r\n                                    className={classes.addPhotoIcon}\r\n                                    onClick={(e) => fileInputRef?.current.click()}\r\n                                    onMouseEnter={(e) => { setHovered(true) }}\r\n                                    onMouseLeave={(e) => { setHovered(false) }}\r\n                                >\r\n                                    <AddPhotoAlternate />\r\n                                </Avatar>\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                variant='outlined'\r\n                                margin='dense'\r\n                                name='name'\r\n                                value={name}\r\n                                onChange={handleInputChange}\r\n                                label='Nombres'\r\n                                type='text'\r\n                                fullWidth\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                variant='outlined'\r\n                                margin='dense'\r\n                                name='lastname'\r\n                                value={lastname}\r\n                                onChange={handleInputChange}\r\n                                label='Apellidos'\r\n                                type='text'\r\n                                fullWidth\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                variant='outlined'\r\n                                margin='dense'\r\n                                name='country'\r\n                                value={country ?? ''}\r\n                                onChange={handleInputChange}\r\n                                label='País'\r\n                                type='text'\r\n                                fullWidth\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                variant='outlined'\r\n                                margin='dense'\r\n                                name='city'\r\n                                value={city ?? ''}\r\n                                onChange={handleInputChange}\r\n                                label='Ciudad'\r\n                                type='text'\r\n                                fullWidth\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                variant='outlined'\r\n                                margin='dense'\r\n                                name='occupation'\r\n                                value={occupation ?? ''}\r\n                                onChange={handleInputChange}\r\n                                label='Ocupación'\r\n                                type='text'\r\n                                fullWidth\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                variant='outlined'\r\n                                margin='dense'\r\n                                name='institution'\r\n                                value={institution ?? ''}\r\n                                onChange={handleInputChange}\r\n                                label='Institución'\r\n                                type='text'\r\n                                fullWidth\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                multiline\r\n                                variant='outlined'\r\n                                margin='dense'\r\n                                name='description'\r\n                                rows={4}\r\n                                value={description ?? ''}\r\n                                onChange={handleInputChange}\r\n                                label='Descripción'\r\n                                type='text'\r\n                                fullWidth\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose}>\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button variant='contained' color='primary' onClick={handleSaveInformation}>\r\n                        Guardar\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n            <Backdrop className={classes.backdrop} open={loading}>\r\n                <CircularProgress color=\"inherit\" />\r\n                <Typography>Actualizando información...</Typography>\r\n            </Backdrop>\r\n        </>\r\n    )\r\n});\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Avatar, makeStyles, Typography } from '@material-ui/core';\r\nimport { formatName, getUserInitials } from 'utils/textFormatters';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        padding: 5,\r\n        borderRadius: 10,\r\n        border: `1px solid ${ theme.palette.divider }`,\r\n        marginTop: 10,\r\n        cursor: 'pointer',\r\n        backgroundColor: theme.palette.background.design,\r\n        '&:hover': {\r\n            zIndex: 0.5,\r\n            background: theme.palette.background.designHover,\r\n        },\r\n    },\r\n    card: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        //backgroundColor: 'grey',\r\n    },\r\n    body: {\r\n        display: 'flex',\r\n        marginLeft: 10,\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n    },\r\n    photo: {\r\n        margin: 10,\r\n        width: theme.spacing(8),\r\n        height: theme.spacing(8),\r\n    },\r\n    name: {\r\n\r\n    },\r\n    location: {\r\n\r\n    }\r\n}));\r\n\r\nexport const UserCard = ({ _id, name, lastname, city, country, scoreMean, img, occupation, onClick }) => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    const handleViewUser = (e, id) => {\r\n        e.stopPropagation();\r\n        if(onClick) onClick();\r\n        history.push(`/profile/${id}`);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root} onClick={ ( e ) => handleViewUser(e, _id) }>\r\n            <div className={classes.card}>\r\n                <Avatar\r\n                    className={classes.photo}\r\n                    alt={formatName(name, lastname)}\r\n                    src={img && img.length > 0 ? `${process.env.REACT_APP_URL}uploads/users/${img}` : ''}\r\n                >\r\n                    {getUserInitials(name, lastname)}\r\n                </Avatar>\r\n                <div className={classes.body} >\r\n                    <div className={classes.name}>\r\n                        <Typography variant='h5' color='textPrimary'>\r\n                            {name + ' ' + lastname}\r\n                        </Typography>\r\n                    </div>\r\n                    <div className={classes.location}>\r\n                        <Typography variant='subtitle1' color='textSecondary'>\r\n                            {\r\n                                city && country \r\n                                    ? city + ', ' + country\r\n                                    : city ?? country ?? 'Sin locación'\r\n                            }\r\n                        </Typography>\r\n                    </div>\r\n                    <div >\r\n                        <Typography variant='subtitle1' color='textSecondary'>\r\n                            {\r\n                                occupation\r\n                                    ? occupation\r\n                                    : 'Sin ocupación'\r\n                            }\r\n                        </Typography>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, makeStyles, } from '@material-ui/core';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport { getUser } from 'services/UserService';\r\nimport { useQuery } from 'react-query';\r\nimport { useParams } from 'react-router';\r\nimport { UserCard } from 'components/UserCard';\r\nimport types from 'types';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n}));\r\n\r\nexport const ShowContactsModal = () => {\r\n    const classes = useStyles();\r\n    const { uiState, dispatch } = useUiState();\r\n    const urlparams = useParams();\r\n    const uid = urlparams.uid;\r\n\r\n    const { data } = useQuery(['user-profile', uid], async () => {\r\n        return await getUser(uid);\r\n    }, { refetchOnWindowFocus: false });\r\n    \r\n    const contactList = () => {\r\n        return data.contacts.map(( contact ) => {\r\n            return <UserCard key={contact._id} {...contact} onClick={handleClose}/>\r\n        });\r\n    };\r\n\r\n    const handleClose = () => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'Contacts',\r\n        });\r\n    };\r\n    return (\r\n        <>  \r\n            <Dialog onClose={handleClose} aria-labelledby='customized-dialog-title' open={uiState.isContactsModalOpen}>\r\n                <DialogTitle id='customized-dialog-title' onClose={handleClose}>\r\n                    Contactos\r\n                <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\r\n                    <CloseIcon />\r\n                </IconButton>\r\n                </DialogTitle>\r\n                <DialogContent dividers>\r\n                    { contactList() }\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose}>\r\n                        Cerrar\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Grid, Typography, Avatar, makeStyles, Button, Divider, IconButton, } from '@material-ui/core';\r\nimport RoomIcon from '@material-ui/icons/Room';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { getUser, updateContact } from 'services/UserService';\r\nimport { useQuery, useMutation, useQueryClient, useInfiniteQuery } from 'react-query';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { Star, Apartment, Group, Email, PersonAdd, Edit, Close } from '@material-ui/icons';\r\nimport { Alert, Skeleton } from '@material-ui/lab';\r\n\r\n\r\nimport { EditProfileModal } from 'pages/User/UserProfile/EditProfileModal';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport { ShowContactsModal } from 'pages/User/UserProfile/ShowContactsModal';\r\n\r\nimport { createDesign, getPublicDesignsByUser } from 'services/DesignService';\r\nimport { DesignsContainer } from 'components/DesignsContainer';\r\nimport types from 'types';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    designPanel:{\r\n        flexDirection: 'column',\r\n        borderLeft:`1px solid ${theme.palette.divider}`,\r\n        background: theme.palette.background.workSpace,\r\n        minHeight: 'calc(100vh - 128px)'\r\n    },\r\n    photoProfile: {\r\n        width: theme.spacing(30),\r\n        height: theme.spacing(30),\r\n        marginTop: theme.spacing(2),\r\n        marginBottom: theme.spacing(2),\r\n        [theme.breakpoints.down('md')]: {\r\n            width: theme.spacing(25),\r\n            height: theme.spacing(25),\r\n        },\r\n        [theme.breakpoints.down('sm')]: {\r\n            width: theme.spacing(15),\r\n            height: theme.spacing(15),\r\n        },\r\n    },\r\n    spaceFirstDataFirstData:{ \r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    centerGrid:{\r\n        display: 'flex',\r\n        alignItems: 'center', \r\n        justifyItems:'center',\r\n    },\r\n    spaceSecondData:{\r\n        marginBottom: theme.spacing(2),   \r\n    },\r\n    spaceData:{\r\n        marginLeft: theme.spacing(3),\r\n        marginBottom: theme.spacing(2),\r\n        marginRight: theme.spacing(3),\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginLeft: theme.spacing(1),\r\n            marginRight: theme.spacing(1),\r\n        },\r\n    },\r\n    spaceDesign:{\r\n        marginLeft: theme.spacing(7),\r\n        marginTop: theme.spacing(2),\r\n        marginRight: theme.spacing(7),\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginLeft: theme.spacing(1),\r\n            marginRight: theme.spacing(1),\r\n        },\r\n    },\r\n    spaceIcons:{\r\n        marginRight: theme.spacing(1)\r\n    },\r\n    errorContainer: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        justifyContent: 'center',\r\n    },\r\n    error: {\r\n        marginTop: 15,\r\n        minWidth: '50%',\r\n        display:'flex',\r\n        justifyContent: 'center',\r\n        textAlign: 'justify',\r\n        alignItems:'center',\r\n    }\r\n}));\r\n\r\nexport const UserProfile = () => {\r\n    \r\n    const classes = useStyles();\r\n    const queryClient = useQueryClient();\r\n    const { authState, setAuthState } = useAuthState();\r\n    const { dispatch } = useUiState();\r\n    const history = useHistory();\r\n    const urlparams = useParams();\r\n    const uid = urlparams.uid;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const { isLoading, isError, data, refetch } = useQuery(['user-profile', uid], async () => {\r\n        return await getUser(uid);\r\n    }, { refetchOnWindowFocus: false });\r\n\r\n    const designsQuery = useInfiniteQuery([ uid, 'user-public-designs' ], async ({ pageParam = 0 }) => {\r\n        return await getPublicDesignsByUser(uid, pageParam);\r\n    }, {\r\n        refetchOnWindowFocus: false,\r\n        getNextPageParam: (lastPage, pages) => {\r\n            if(lastPage.nPages === pages.length) return undefined; \r\n            return lastPage.from;\r\n        },\r\n    });\r\n    \r\n    const updateConctactMutation = useMutation(updateContact, {\r\n        onSuccess: (data, {uid, contacts}, context) => {\r\n            setAuthState((prevState)=>({\r\n                ...prevState, \r\n                user: Object.assign({}, {...prevState.user, contacts})\r\n            }));\r\n            queryClient.invalidateQueries(['user-profile', uid]);\r\n        },\r\n        onError: (error) => {\r\n            console.log(error);\r\n            enqueueSnackbar('No se ha actualizado su lista de contactos',  {variant: 'error', autoHideDuration: 2000},   );\r\n        },\r\n    });\r\n\r\n    const createDesignMutation = useMutation(createDesign, {\r\n        onMutate: async () => {\r\n            await queryClient.cancelQueries('recent-designs');\r\n            await queryClient.cancelQueries('designs');\r\n            await queryClient.cancelQueries([authState.user.id, 'user-public-designs']);\r\n        },\r\n        onSettled: () => {\r\n            queryClient.invalidateQueries('recent-designs');\r\n            queryClient.invalidateQueries('designs');\r\n            queryClient.invalidateQueries([authState.user.id, 'user-public-designs']);\r\n        },\r\n        onError: (error) => {\r\n            console.log(error);\r\n            enqueueSnackbar('No se han cargado sus diseño',  {variant: 'error', autoHideDuration: 2000},   );\r\n        },\r\n        onSuccess: data => {\r\n            history.push(`/designs/${data.design._id}`);\r\n        }\r\n    });\r\n\r\n    const handleCreateDesign = async () => {\r\n        await createDesignMutation.mutate({ path: '/', isPublic: true });\r\n    };\r\n    \r\n    if(isError){\r\n        return (<div className={ classes.designPanel }>\r\n            <Alert severity='error' variant='outlined' className={ classes.error }>\r\n                Ha ocurrido un problema al intentar obtener el usuario en la base de datos. Esto probablemente se deba a un problema de conexión, por favor revise que su equipo tenga conexión a internet e intente más tarde.\r\n                Si el problema persiste, por favor comuníquese con el equipo de soporte.\r\n            </Alert>\r\n        </div>);\r\n    };\r\n\r\n\r\n    const handleEditProfile = () => {\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'EditProfile',\r\n        });\r\n    };\r\n\r\n    const handleShowContacts = () => {\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Contacts',\r\n        });\r\n    };\r\n\r\n    const handleAddContact = async (e) => {\r\n        e.preventDefault();\r\n        await updateConctactMutation.mutate({uid: authState.user.uid, contacts:[...authState.user.contacts, uid]});\r\n        queryClient.invalidateQueries(['user-profile', uid]);\r\n        await refetch();\r\n    };\r\n\r\n    const handleDeleteContact = async (e) =>{\r\n        e.preventDefault();\r\n        await updateConctactMutation.mutate({uid: authState.user.uid, contacts: authState.user.contacts.filter(contact=>contact!==uid)});\r\n        queryClient.invalidateQueries(['user-profile', uid]);\r\n    };\r\n\r\n    return (\r\n        <Grid container>\r\n            <Grid item xs={12} sm={3}>\r\n                <Grid container alignItems='center' justify='center'>\r\n                    {\r\n                        isLoading\r\n                            ? <Skeleton animation='wave' variant='circle' className={classes.photoProfile}/>\r\n                            : <Avatar alt={data.name + ' ' + data.lastname} className={classes.photoProfile} src={ data.img && data.img.length > 0 ? `${process.env.REACT_APP_URL}uploads/users/${data.img}` : '' }/>\r\n                    }\r\n                </Grid>\r\n                <Grid container alignItems='center' justify='center'>\r\n                    {\r\n                        isLoading\r\n                            ? <Skeleton animation='wave' height={42} width={'80%'}/>\r\n                            : data && <Typography  align='center' variant='h5' component='h2'>{data.name + ' ' + data.lastname}</Typography>\r\n                    }\r\n                </Grid>\r\n                <Grid container alignItems='center' justify='center'>\r\n                    {\r\n                        isLoading\r\n                            ? <Skeleton animation='wave' height={20} width={'50%'}/>\r\n                            : data && data.occupation && <Typography className={classes.spaceFirstData} color='textSecondary'>{data.occupation}</Typography>\r\n                    }\r\n                </Grid> \r\n                <Grid container alignItems='center' justify='center' className={classes.spaceFirstData}>\r\n                    <Grid item >\r\n                        {\r\n                            isLoading\r\n                                ? <Skeleton animation='wave' variant='circle' width={20} height={20}/>\r\n                                : data.contacts.length > 0 \r\n                                    ? <IconButton onClick={ handleShowContacts }>\r\n                                        <Group />\r\n                                    </IconButton>\r\n                                    :\r\n                                    <Group />\r\n                        }\r\n                    </Grid>\r\n                    <Grid item >\r\n                        {\r\n                            isLoading\r\n                                ? <Skeleton animation='wave' width={20} height={20} style={{marginLeft: 5}}/>\r\n                                : <Typography style={{ marginLeft: 8 }}> {data.contacts.length}</Typography>\r\n                        }\r\n                    </Grid>\r\n                    ・\r\n                    <Grid item >\r\n                        {\r\n                            isLoading\r\n                                ? <Skeleton animation='wave' variant='circle' width={20} height={20}/>\r\n                                : <Star/>\r\n                        }\r\n                    </Grid>\r\n                    <Grid item>\r\n                        {\r\n                            isLoading\r\n                                ? <Skeleton animation='wave' width={20} height={20} style={{marginLeft: 5}}/>\r\n                                : <Typography style={{ marginLeft: 8 }}> {data.scoreMean}</Typography>\r\n                        }\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid container alignItems='center' justify='center' className={classes.spaceSecondData}>\r\n                    {\r\n                        isLoading\r\n                            ? <Skeleton animation='wave' width={'50%'} height={42} style={{marginLeft: 5}}/>\r\n                            : (authState.user.uid===uid) \r\n                                ? <Button variant ='outlined' size='small' onClick={handleEditProfile} startIcon={<Edit />}>Editar perfil</Button> \r\n                                : (authState.user.contacts.includes(uid)) \r\n                                    ? <Button variant ='outlined' size='small' onClick={handleDeleteContact} startIcon={<Close />}>Eliminar de mis contactos</Button> \r\n                                    : <Button variant ='outlined' size='small' onClick={handleAddContact} startIcon={<PersonAdd />} >Agregar a mis contactos</Button>\r\n                    }\r\n                </Grid>\r\n                <Divider className={classes.spaceData}/>\r\n                <Grid className={classes.spaceData}>\r\n                    {\r\n                        isLoading\r\n                            ? <Skeleton animation='wave' width={'100%'} height={40} style={{marginLeft: 5}}/>\r\n                            : data && data.institution && (\r\n                                <Grid container className={classes.spaceSecondData} >\r\n                                    <Grid item >\r\n                                        <Apartment className={classes.spaceIcons}/>\r\n                                    </Grid>\r\n                                    <Grid item >\r\n                                    <Typography className={classes.spaceFirstData} color='textSecondary'>{data.institution}</Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            )\r\n                    }\r\n                    { isLoading\r\n                            ? <Skeleton animation='wave' width={'100%'} height={40} style={{marginLeft: 5}}/>\r\n                            : data && data.city && data.country &&(\r\n                        <Grid container className={classes.spaceSecondData} >\r\n                            <Grid item >\r\n                                <RoomIcon className={classes.spaceIcons}/>\r\n                            </Grid>\r\n                            <Grid item >\r\n                            <Typography className={classes.spaceFirstData} color='textSecondary'>{data.city + ', ' + data.country}</Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                    )}\r\n                    { isLoading\r\n                            ? <Skeleton animation='wave' width={'100%'} height={40} style={{marginLeft: 5}}/>\r\n                            : data && (\r\n                        <Grid container className={classes.spaceSecondData} >\r\n                            <Grid item >\r\n                                <Email className={classes.spaceIcons}/>\r\n                            </Grid>\r\n                            <Grid item >\r\n                            <Typography className={classes.spaceFirstData} color='textSecondary'>{data.email}</Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                    )}\r\n                    <Divider className={classes.spaceSecondData}/>\r\n                    { isLoading\r\n                            ? (<>\r\n                                <Skeleton animation='wave' width={100} height={20} style={{marginLeft: 5}}/>\r\n                                <Skeleton animation='wave' width={'100%'} height={40} style={{marginLeft: 5}}/>\r\n                            </>)\r\n                            : data && data.description &&(\r\n                        <>\r\n                            <Typography color='textSecondary' className={classes.spaceSecondData}>\r\n                                Descripción\r\n                            </Typography>\r\n                            <Typography >\r\n                                {data.description}\r\n                            </Typography> \r\n                        </>\r\n                    )}\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item xs={12} sm={9} className={classes.designPanel}>\r\n               \r\n                <Grid className={classes.spaceDesign}>\r\n                    <Typography variant='h4'>\r\n                        Diseños Públicos\r\n                    </Typography>\r\n                    <Divider />\r\n                    {   \r\n                        !isError && !isLoading && (authState.user.uid === uid) && \r\n                            <>\r\n                                <EditProfileModal /> \r\n                            </> \r\n                    }\r\n                    <DesignsContainer {...designsQuery} label='user-profile' handleCreateDesign={handleCreateDesign}/>\r\n                    {!isError && !isLoading && <ShowContactsModal/> }\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo_uct.2382bb18.png\";","import { ThemeProvider } from '@material-ui/core';\r\nimport React, { useState, useContext, createContext, useEffect } from 'react';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { getTheme } from 'theme/theme';\r\n\r\nconst UserConfigContext = createContext();\r\n\r\nexport function useUserConfigState() {\r\n\tconst context = useContext(UserConfigContext);\r\n\tif (context === undefined) {\r\n\t\tthrow new Error('useUserConfigState must be used within a UserConfigProvider');\r\n\t}\r\n\treturn context;\r\n}\r\n\r\nexport const UserConfigProvider = ({ children })=>{\r\n\tconst { authState } = useAuthState();\r\n    const [userConfig, setUserConfig] = useState({\r\n        darkTheme:false,\r\n        modeAdvanced: false\r\n\t});\r\n\t\r\n\tuseEffect(() => {\r\n\t\tconst darkTheme = JSON.parse(localStorage.getItem('darkTheme'));\r\n\t\tif(darkTheme !== null ){\r\n\t\t\tsetUserConfig((prevState)=>({\r\n\t\t\t\t...prevState,\r\n\t\t\t\tdarkTheme,\r\n\t\t\t}));\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n        if(authState.user !== null){\r\n            localStorage.setItem('darkTheme', JSON.stringify(userConfig.darkTheme));\r\n        }  \r\n    }, [authState.user, userConfig.darkTheme]);\r\n\r\n\tconst theme = getTheme(userConfig.darkTheme);\r\n\r\n\treturn (\r\n\t\t<UserConfigContext.Provider value={ { userConfig, setUserConfig } }>\r\n\t\t\t<ThemeProvider theme = {theme}>\r\n\t\t\t\t{ children }\r\n\t\t\t</ThemeProvider>\r\n\t\t</UserConfigContext.Provider>\r\n\t);\r\n}","import { createMuiTheme } from '@material-ui/core';\r\nimport {\r\n  blue, green, orange, red,\r\n} from \"@material-ui/core/colors\";\r\n\r\nexport const getTheme = ( isDarkActive ) =>{\r\n    const theme = createMuiTheme({\r\n        palette: {\r\n          type: isDarkActive ? 'dark': 'light',\r\n          primary: {\r\n            main: isDarkActive ? blue[200] : blue[500],\r\n            dark: isDarkActive ? '#5d99c6': '#0069c0',\r\n            light: isDarkActive ? '#c3fdff': '#6ec6ff',\r\n          },\r\n          secondary: {\r\n            main: isDarkActive ? blue[300]: blue[400], \r\n            dark: isDarkActive ? '#2286c3': '#0077c2',\r\n            light: isDarkActive ? '#9be7ff': '#80d6ff', \r\n          },\r\n          text:{\r\n            primary: isDarkActive? '#F4F4F4': '#0a1319',\r\n          },\r\n          background:{\r\n            default: isDarkActive? '#0a1319': '#f0f7ff', //SidePanels,\r\n            paper: isDarkActive? '#0a1319': '#f0f7ff', // Menu, Login and Register Modal\r\n            workSpace: isDarkActive? '#060e16': '#e8eff7',\r\n            navbar: isDarkActive? '#0f1c26': '#dce7f4',\r\n            design: isDarkActive? '#0a1319': '#f0f7ff',\r\n            designHover: isDarkActive? '#091421': '#e8eff7',\r\n          },\r\n          error: {\r\n            main: isDarkActive? red[400]: red[500],\r\n          },\r\n          info: {\r\n            main: isDarkActive? blue[300]: blue[300],\r\n          },\r\n          warning: {\r\n            main: isDarkActive? orange[700]: orange[900],\r\n          },\r\n          success: {\r\n            main: isDarkActive? green[300]: green[400],\r\n          }\r\n        },\r\n    });\r\n    return theme;\r\n}","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogTitle,\r\n    DialogActions,\r\n    Typography,\r\n    IconButton,\r\n    Grid,\r\n} from '@material-ui/core';\r\nimport { CloseRounded } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    close: {\r\n        position: 'absolute',\r\n        top: 5,\r\n        right: 5,\r\n        padding: 15,\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    dialogContent: {\r\n        padding: 20,\r\n    },\r\n}));\r\n\r\nexport const ModalFormWithImage = React.memo(({ isOpen, handleClose, maxWidth = 'sm', title = '', subtitle = '', image, content, actions }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <Dialog\r\n            fullWidth={true}\r\n            maxWidth={maxWidth}\r\n            open={isOpen}\r\n            onClose={handleClose}\r\n        >\r\n            <DialogTitle className={classes.header} disableTypography>\r\n                <IconButton className={classes.close} onClick={handleClose} color=\"inherit\" size='small'>\r\n                    <CloseRounded />\r\n                </IconButton>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12}>\r\n                        {image}\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography align='center' variant='h5' component='p'>\r\n                            {title}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography align='center' variant='subtitle1' component='h1'>\r\n                            {subtitle}\r\n                        </Typography>\r\n                    </Grid>\r\n                </Grid>\r\n            </DialogTitle>\r\n            <DialogContent className={classes.dialogContent}>\r\n                {content}\r\n            </DialogContent>\r\n            {\r\n                (actions) && <DialogActions>\r\n                    {actions}\r\n                </DialogActions>\r\n            }\r\n        </Dialog>\r\n    );\r\n});\r\n\r\nModalFormWithImage.propTypes = {\r\n    isOpen: PropTypes.bool.isRequired,\r\n    handleClose: PropTypes.func.isRequired,\r\n    image: PropTypes.object.isRequired,\r\n    content: PropTypes.object,\r\n    actions: PropTypes.object,\r\n}; ","import React, { useState } from 'react';\r\nimport {\r\n    Button,\r\n    makeStyles,\r\n    IconButton,\r\n    TextField,\r\n    Link\r\n} from '@material-ui/core';\r\n\r\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Logo from 'assets/img/logo_uct_2.png';\r\nimport { useForm } from 'hooks/useForm';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport { ModalFormWithImage } from 'components/ModalFormWithImage';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport types from 'types';\r\nimport { useHistory } from 'react-router';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    margin: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    form: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        marginLeft: '10%',\r\n        marginRight: '10%',\r\n        width: '80%',\r\n        overflow: 'auto',\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginLeft: 0,\r\n            marginRight: 0,\r\n            width: '100%',\r\n        }\r\n    },\r\n    logo: {\r\n        display: 'block',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        width: '30%',\r\n        marginTop: 15,\r\n        marginBottom: 15,\r\n    },\r\n    footer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        paddingTop: 30,\r\n        paddingBottom: 15,\r\n    },\r\n    link: {\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n    },\r\n    '@global': {\r\n        //Ancho del scrollbar    \r\n        '*::-webkit-scrollbar': {\r\n            width: '0.4em'\r\n        },\r\n        //Sombra del scrollbar\r\n        '*::-webkit-scrollbar-track': {\r\n            '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.2)'\r\n            \r\n        },\r\n        //Scrollbar\r\n        '*::-webkit-scrollbar-thumb': {\r\n            '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.2)',\r\n            borderRadius: '15px',\r\n            backgroundColor: 'rgba(0,0,0,.1)',\r\n        }\r\n    }\r\n}));\r\n\r\nconst initialErrors = {\r\n    emailError: null,\r\n    passwordError: null,\r\n};\r\n\r\nexport const LoginModal = () => {\r\n\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const { uiState, dispatch } = useUiState();\r\n    const { login } = useAuthState();\r\n    const [formErrors, setFormErrors] = useState(initialErrors);\r\n    const [errorFromServer, setErrorFromServer] = useState(false);\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [formLoginValues, handleInputChange, reset] = useForm({\r\n        email: '',\r\n        password: ''\r\n    });\r\n    const { email, password } = formLoginValues;\r\n    const { emailError, passwordError } = formErrors;\r\n\r\n    const isFormComplete = () => {\r\n        return Object.keys(formLoginValues).map((key, index) => {\r\n            if (formLoginValues[key].trim() === '') {\r\n                setFormErrors((prevState) => ({\r\n                    ...prevState,\r\n                    [key + 'Error']: 'Este campo es requerido.',\r\n                }));\r\n                return false;\r\n            } else {\r\n                setFormErrors((prevState) => ({\r\n                    ...prevState,\r\n                    [key + 'Error']: null,\r\n                }));\r\n            }\r\n            return true;\r\n        }).reduce((a, b) => a && b);\r\n    };\r\n\r\n    const isEmailValid = () => {\r\n        if (!/^[-\\w.%+]{1,64}@(?:[A-Z0-9]{1,63}\\.){1,125}[A-Z]{2,63}$/i.test(email)) {\r\n            setFormErrors((prevState) => ({\r\n                ...prevState,\r\n                emailError: 'El correo debe tener la siguiente estructura: example@example.com',\r\n            }));\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const isPasswordValid = () => {\r\n        if (password.length >= 8 && password.length <= 16) return true;\r\n        setFormErrors((prevState) => ({\r\n            ...prevState,\r\n            passwordError: 'La contraseña debe tener entre 8 y 16 caracteres.',\r\n        }));\r\n        return false;\r\n    };\r\n\r\n    const handleInputFormChange = (e) => {\r\n        setErrorFromServer(null);\r\n        setFormErrors((prevState) => ({\r\n            ...prevState,\r\n            [e.target.name + 'Error']: null,\r\n        }));\r\n        handleInputChange(e);\r\n    }\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        if (!isFormComplete()) return;\r\n        if (!isEmailValid()) return;\r\n        if (!isPasswordValid()) return;\r\n        const resp = await login(email, password);\r\n        if (!resp.ok) setErrorFromServer(resp.message);\r\n        else handleClose();\r\n    };\r\n\r\n    const handleClose = () => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'Login',\r\n        });\r\n        reset();\r\n        setFormErrors(initialErrors);\r\n        setShowPassword(false);\r\n        setErrorFromServer(null);\r\n    };\r\n\r\n    const handleClickShowPassword = () => {\r\n        setShowPassword(!showPassword);\r\n    };\r\n\r\n    const handleMouseDownPassword = (event) => {\r\n        event.preventDefault();\r\n    };\r\n\r\n    const toRegister = (e) => {\r\n        e.preventDefault();\r\n        handleClose();\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Register',\r\n        });\r\n    };\r\n\r\n    const toResetPassword = (e) => {\r\n        e.preventDefault();\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'Login',\r\n        });\r\n        history.push('/reset-password');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ModalFormWithImage\r\n                isOpen={uiState.isLoginModalOpen}\r\n                handleClose={handleClose}\r\n                title='¡Bienvenido!'\r\n                subtitle='Completa los campos para ingresar con tu cuenta'\r\n                image={<img className={classes.logo} src={Logo} alt=\"Logo\" />}\r\n                content={\r\n                    <form className={classes.form} onSubmit={handleLogin} noValidate>\r\n                        {errorFromServer && <Alert severity=\"error\" variant='outlined'> {errorFromServer}</Alert>}\r\n                        <TextField\r\n                            error={!!emailError}\r\n                            helperText={emailError}\r\n                            margin=\"dense\"\r\n                            variant=\"outlined\"\r\n                            name=\"email\"\r\n                            value={email}\r\n                            onChange={handleInputFormChange}\r\n                            label=\"Email\"\r\n                            type=\"email\"\r\n                            fullWidth\r\n                        />\r\n                        <TextField\r\n                            error={!!passwordError}\r\n                            helperText={passwordError}\r\n                            margin=\"dense\"\r\n                            variant=\"outlined\"\r\n                            name=\"password\"\r\n                            value={password}\r\n                            onChange={handleInputFormChange}\r\n                            label=\"Contraseña\"\r\n                            type={showPassword ? 'text' : 'password'}\r\n                            fullWidth\r\n                            InputProps={{\r\n                                endAdornment:\r\n                                    <IconButton\r\n                                    style={{height: 40, width: 40}}\r\n                                        onClick={handleClickShowPassword}\r\n                                        onMouseDown={handleMouseDownPassword}\r\n                                    >\r\n                                        {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                                    </IconButton>\r\n\r\n                            }}\r\n                        />\r\n                        <div className={classes.footer}>\r\n                            <Button variant='outlined' type='submit' fullWidth>\r\n                                Iniciar Sesión\r\n                            </Button>\r\n                            <div style={{ paddingTop: 20 }}>\r\n                                <Link href='#' align='center' variant=\"body1\" onClick={toResetPassword}>\r\n                                    ¿Olvidaste tu contraseña?\r\n                                </Link>\r\n                            </div>\r\n                            <div style={{ paddingBottom: 15, paddingTop: 10 }}>\r\n                                <Link href=\"#\" variant=\"body1\" onClick={toRegister}>\r\n                                    ¿No tienes cuenta? Regístrate\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                }\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Button,\r\n    TextField,\r\n    Link,\r\n} from '@material-ui/core';\r\nimport Logo from 'assets/img/logo_uct_2.png';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { ModalFormWithImage } from 'components/ModalFormWithImage';\r\nimport { useForm } from 'hooks/useForm';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    form: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        marginLeft: '10%',\r\n        marginRight: '10%',\r\n        width: '80%',\r\n    },\r\n    logo: {\r\n        display: 'block',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        width: '20%',\r\n        marginTop: 15,\r\n        marginBottom: 15,\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: '35%',\r\n        }\r\n    },\r\n    footer: {\r\n        display: 'flex',\r\n        flexDirection:'column',\r\n        width: '100%',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        paddingTop: 30,\r\n        paddingBottom: 15,\r\n    },\r\n    '@global': {\r\n        //Ancho del scrollbar    \r\n        '*::-webkit-scrollbar': {\r\n            width: '0.4em'\r\n        },\r\n        //Sombra del scrollbar\r\n        '*::-webkit-scrollbar-track': {\r\n            '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.2)'\r\n            \r\n        },\r\n        //Scrollbar\r\n        '*::-webkit-scrollbar-thumb': {\r\n            '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.2)',\r\n            borderRadius: '15px',\r\n            backgroundColor: 'rgba(0,0,0,.1)',\r\n        }\r\n    }\r\n}));\r\n\r\nconst initialErrors = {\r\n    nameError: null,\r\n    lastnameError: null,\r\n    emailError: null,\r\n    passwordError: null,\r\n    confirmPasswordError: null,\r\n};\r\n\r\nexport const RegisterModal = React.memo(() => {\r\n    const classes = useStyles();\r\n    const { uiState, dispatch } = useUiState();\r\n    const { register } = useAuthState();\r\n    const [ errorFromServer, setErrorFromServer ] = useState(null);\r\n    const [ formErrors, setFormErrors ] = useState(initialErrors);\r\n    const [ formData, handleInputChange, reset ] = useForm({\r\n        name: '',\r\n        lastname: '',\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n    });\r\n    const { name, lastname, email, password, confirmPassword } = formData;\r\n    const { nameError, lastnameError, emailError, passwordError, confirmPasswordError } = formErrors;\r\n    \r\n    const handleClose = () => {\r\n        dispatch({ \r\n            type: types.ui.closeModal,\r\n            payload: 'Register'\r\n        });\r\n        reset();\r\n        setFormErrors(initialErrors);\r\n        setErrorFromServer(null);\r\n    };\r\n    \r\n    const isFormComplete = () => {\r\n        return Object.keys( formData ).map((key, index) => {\r\n            if(formData[key].trim() === ''){\r\n                setFormErrors((prevState)=>({\r\n                    ...prevState,\r\n                    [ key + 'Error']: 'Este campo es requerido.',\r\n                }));\r\n                return false;\r\n            } else {\r\n                setFormErrors((prevState)=>({\r\n                    ...prevState,\r\n                    [ key + 'Error']: null,\r\n                }));\r\n            }\r\n            return true;\r\n        }).reduce((a, b) => a && b);\r\n    }\r\n\r\n    const paswordsMatchs = () => {\r\n        if(!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,16}$/.test(password)){\r\n            setFormErrors((prevState) => ({\r\n                ...prevState,\r\n                passwordError: 'La contraseña debe tener al menos un carácter en minúscula, uno en mayúscula, un número y debe tener entre 8 y 16 caractéres de longitud.',\r\n            }));\r\n            return false;\r\n        }\r\n        if (password.trim() !== confirmPassword.trim()) {\r\n            setFormErrors((prevState) => ({\r\n                ...prevState,\r\n                passwordError: 'Las contraseñas no coinciden.',\r\n                confirmPasswordError: 'Las contraseñas no coinciden.'\r\n            }));\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    const handleInputFormChange = (e) => {\r\n        setErrorFromServer(null);\r\n        setFormErrors((prevState)=>({\r\n            ...prevState,\r\n            [ e.target.name + 'Error']: null,\r\n        }));\r\n        handleInputChange(e);\r\n    }\r\n\r\n    const handleRegister = async (e) => {\r\n        e.preventDefault();\r\n        if (!isFormComplete()) return;\r\n        if (!paswordsMatchs()) return;\r\n        let resp = await register( formData );\r\n        if (!resp.ok) setErrorFromServer(resp.message);\r\n        else handleClose();\r\n    };\r\n\r\n    const toLogin = (e) => {\r\n        e.preventDefault();\r\n        handleClose();\r\n        dispatch({ \r\n            type: types.ui.openModal,\r\n            payload: 'Login'\r\n        });\r\n    };\r\n\r\n    return (\r\n        <ModalFormWithImage\r\n            isOpen={ uiState.isRegisterModalOpen }\r\n            handleClose={ handleClose }\r\n            title='¡Bienvenido!'\r\n            subtitle='Completa los campos para registrar tu cuenta'\r\n            image={<img className={classes.logo} src={Logo} alt=\"Logo\" />}\r\n            content={\r\n                <form className={classes.form} onSubmit={handleRegister} noValidate>\r\n                    { errorFromServer && <Alert severity=\"error\" variant='outlined'>{ errorFromServer }</Alert> }\r\n                    <TextField\r\n                        variant='outlined'\r\n                        error={!!nameError}\r\n                        helperText={ nameError } \r\n                        margin=\"dense\" \r\n                        name=\"name\" \r\n                        value={ name } \r\n                        onChange={ handleInputFormChange } \r\n                        label=\"Nombres\" \r\n                        type=\"text\" \r\n                        fullWidth\r\n                    />\r\n                    <TextField\r\n                        variant='outlined'\r\n                        error={!!lastnameError}\r\n                        helperText={ lastnameError } \r\n                        margin=\"dense\" \r\n                        name=\"lastname\" \r\n                        value={ lastname } \r\n                        onChange={ handleInputFormChange } \r\n                        label=\"Apellidos\" \r\n                        type=\"text\" \r\n                        fullWidth \r\n                    />\r\n                    <TextField\r\n                        variant='outlined'\r\n                        error={!!emailError}\r\n                        helperText={ emailError } \r\n                        margin=\"dense\" \r\n                        name=\"email\" \r\n                        value={ email } \r\n                        onChange={ handleInputFormChange } \r\n                        label=\"Email\" \r\n                        type=\"email\" \r\n                        fullWidth \r\n                    />\r\n                    <TextField\r\n                        variant='outlined'\r\n                        error={!!passwordError}\r\n                        helperText={ passwordError } \r\n                        margin=\"dense\" \r\n                        name=\"password\" \r\n                        value={ password } \r\n                        onChange={ handleInputFormChange } \r\n                        label=\"Contraseña\" \r\n                        type='password' \r\n                        fullWidth \r\n                    />\r\n                    <TextField\r\n                        variant='outlined'\r\n                        error={!!confirmPasswordError}\r\n                        helperText={ confirmPasswordError } \r\n                        margin=\"dense\" \r\n                        name=\"confirmPassword\" \r\n                        value={ confirmPassword } \r\n                        onChange={ handleInputFormChange } \r\n                        label=\"Repetir contraseña\" \r\n                        type='password' \r\n                        fullWidth \r\n                    />\r\n                    \r\n                    <div className={classes.footer}>\r\n                        <Button color=\"primary\" variant='outlined' type='submit' fullWidth>\r\n                            Registrarme\r\n                        </Button>\r\n                        <Link href='#' style={{paddingTop:20, paddingBottom:15}} variant=\"body1\" onClick={toLogin}>\r\n                            ¿Ya tienes cuenta?\r\n                        </Link>\r\n                    </div>\r\n                    \r\n                </form>\r\n            }\r\n        />\r\n    );\r\n});","import types from \"types\";\r\n\r\n\r\nexport const designReducer = ( state, action ) => {\r\n    switch (action.type) {\r\n        case types.design.updateDesign:\r\n            return {\r\n                ...state,\r\n                design: action.payload,\r\n            };\r\n        case types.design.changeMetadataField:\r\n            if(action.payload.subfield !== null){\r\n                return {\r\n                    ...state,\r\n                    design: {\r\n                        ...state.design,\r\n                        metadata: {\r\n                            ...state.design.metadata,\r\n                            [action.payload.field]: {\r\n                                ...state.design.metadata[action.payload.field],\r\n                                [action.payload.subfield]: action.payload.value,\r\n                            },\r\n                        }\r\n                    }\r\n                }\r\n            } else{\r\n                return {\r\n                    ...state,\r\n                    design: {\r\n                        ...state.design,\r\n                        metadata: {\r\n                            ...state.design.metadata,\r\n                            [action.payload.field]: action.payload.value,\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        case types.design.changeTaskField:\r\n            const learningActivities = state.design.data.learningActivities;\r\n            learningActivities.forEach((la, index) => {\r\n                if(la.id === action.payload.learningActivityID){\r\n                    la.tasks.forEach((t, i)=>{\r\n                        if(t.id === action.payload.taskID){\r\n                            if(action.payload.subfield !== null) learningActivities[index].tasks[i][action.payload.field][action.payload.subfield] = action.payload.value;\r\n                            else learningActivities[index].tasks[i][action.payload.field] = action.payload.value;\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            //if (action.payload.subfield !== null) learningActivities[action.payload.learningActivityIndex].tasks[action.payload.index][action.payload.field][action.payload.subfield] = action.payload.value;\r\n            //else learningActivities[action.payload.learningActivityIndex].tasks[action.payload.index][action.payload.field] = action.payload.value;\r\n            // learningActivities: [...learningActivities.slice(0, learningActivityIndex), learningActivities[learningActivityIndex].task[], ...learningActivities.slice(learningActivityIndex)] \r\n            return {\r\n                ...state,\r\n                design: {\r\n                    ...state.design,\r\n                    data: {\r\n                        ...state.design.data,\r\n                        learningActivities,\r\n                    }\r\n                }\r\n            }\r\n        case types.design.setCurrentLearningResultField:\r\n            return {\r\n                ...state,\r\n                currentLearningResult: {\r\n                    ...state.currentLearningResult,\r\n                    [action.payload.field]: action.payload.value,\r\n                }\r\n            }\r\n        case types.design.clearCurrentLearningResult:\r\n            return {\r\n                ...state,\r\n                currentLearningResult: {\r\n                    category: {\r\n                        _id: null,\r\n                        name: null,\r\n                    },\r\n                    verb: null,\r\n                    description: null,\r\n                    editing: false,\r\n                    index: null,\r\n                }\r\n            }\r\n        case types.design.setCurrentLearningResult:\r\n            return {\r\n                ...state,\r\n                currentLearningResult: action.payload\r\n            }\r\n        case types.design.setBloomCategories:\r\n            return {\r\n                ...state,\r\n                bloomCategories: action.payload\r\n            }\r\n        case types.design.setBloomVerbs:\r\n            return {\r\n                ...state,\r\n                bloomVerbs: action.payload\r\n            }\r\n        case types.design.setDesignPrivileges:\r\n            return {\r\n                ...state,\r\n                design: {\r\n                    ...state.design,\r\n                    privileges: action.payload\r\n                }\r\n            }\r\n        case types.design.addDesignKeyword:\r\n            return {\r\n                ...state,\r\n                design: {\r\n                    ...state.design,\r\n                    keywords: [...state.design.keywords, action.payload],\r\n                }\r\n            };\r\n        case types.design.removeDesignKeyword:\r\n            return {\r\n                ...state,\r\n                design: {\r\n                    ...state.design,\r\n                    keywords: [...state.design.keywords.filter(k => k !== action.payload)],\r\n                }\r\n            };\r\n\r\n        case types.design.updateReadOnlyLink:\r\n            return {\r\n                ...state,\r\n                design: {\r\n                    ...state.design,\r\n                    readOnlyLink: action.payload,\r\n                }\r\n            };\r\n        case types.design.setAssessments:\r\n            return {\r\n                ...state,\r\n                design: {\r\n                    ...state.design,\r\n                    assessments: action.payload,\r\n                }\r\n            };\r\n        case types.design.setScoreMean:\r\n            return {\r\n                ...state,\r\n                design: {\r\n                    ...state.design,\r\n                    metadata: {\r\n                        ...state.design.metadata,\r\n                        scoreMean: action.payload,\r\n                    },\r\n                }\r\n            };\r\n        case types.design.commentDesign:\r\n            const comments = [...state.design.comments];\r\n            const existentCommentary = comments.find(c => c._id.toString() === action.payload._id.toString());\r\n            const index = comments.indexOf(existentCommentary);\r\n            if(existentCommentary && index !== -1) comments[index] = action.payload;\r\n            else comments.push(action.payload);\r\n            return {\r\n                ...state,\r\n                design: {\r\n                    ...state.design,\r\n                    comments,\r\n                }\r\n            };\r\n        case types.design.deleteComment:\r\n            return {\r\n                ...state,\r\n                design: {\r\n                    ...state.design,\r\n                    comments: state.design.comments.filter(c => c._id.toString() !== action.payload.toString()),\r\n                }\r\n            };\r\n        case types.design.reorderActivities:\r\n            return  {\r\n                ...state,\r\n                design: {\r\n                    ...state.design,\r\n                    data: {\r\n                        ...state.design.data,\r\n                        learningActivities: state.design.data.learningActivities.sort((a, b) => {\r\n                            if(action.payload.indexOf(a.id) === -1) return 1;\r\n                            else if(action.payload.indexOf(b.id) === -1) return -1;\r\n                            else return action.payload.indexOf(a.id) - action.payload.indexOf(b.id);\r\n                        } )\r\n                    },\r\n                }\r\n            };\r\n        case types.design.reorderTasks:\r\n            const newLearningActivities = state.design.data.learningActivities;\r\n            newLearningActivities.forEach((la, index) => {\r\n                if(la.id === action.payload.learningActivityId){\r\n                    newLearningActivities[index].tasks.sort((a, b) => {\r\n                        if(action.payload.newOrder.indexOf(a.id) === -1) return 1;\r\n                        else if(action.payload.newOrder.indexOf(b.id) === -1) return -1;\r\n                        else return action.payload.newOrder.indexOf(a.id) - action.payload.newOrder.indexOf(b.id);\r\n                    } );\r\n                }\r\n            });\r\n            return  {\r\n                ...state,\r\n                design: {\r\n                    ...state.design,\r\n                    data: {\r\n                        ...state.design.data,\r\n                        learningActivities: newLearningActivities,\r\n                    },\r\n                }\r\n            };\r\n        case types.design.setConnectedUsers:\r\n            return {\r\n                ...state,\r\n                users: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import React, { useContext, createContext, useReducer } from 'react';\r\nimport { designReducer } from 'contexts/design/designReducer';\r\n\r\nconst DesignContext = createContext();\r\n\r\nexport function useDesignState() {\r\n\tconst context = useContext(DesignContext);\r\n\tif (context === undefined) {\r\n\t\tthrow new Error('useDesignState must be used within a DesignProvider');\r\n\t}\r\n\r\n\treturn context;\r\n}\r\n\r\nconst initialState = {\r\n\tdesign: null,\r\n\tusers: [],\r\n\tcurrentLearningResult: {\r\n\t\tcategory: {\r\n\t\t\t_id: null,\r\n\t\t\tname: null,\r\n\t\t},\r\n\t\tverb: null,\r\n\t\tdescription: null,\r\n\t\tediting: false,\r\n\t\tindex: null,\r\n\t},\r\n\tbloomCategories: [],\r\n\tbloomVerbs: [],\r\n};\r\n\r\nexport const DesignProvider = ({ children }) => {\r\n\r\n\tconst [ designState, dispatch ] = useReducer(designReducer, initialState);\r\n\r\n\treturn (\r\n\t\t<DesignContext.Provider value={ { designState, dispatch } }>\r\n\t\t\t{ children }\r\n\t\t</DesignContext.Provider>\r\n\t);\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { useQueryClient } from 'react-query';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport { ExitToApp, Search } from '@material-ui/icons';\r\nimport Logo from 'assets/img/logo_uct.png';\r\nimport { Avatar, Typography, Toolbar, AppBar, Button, IconButton, Menu, MenuItem, ListItemIcon, Switch, FormControlLabel, OutlinedInput, Grid, useMediaQuery } from '@material-ui/core';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { useUserConfigState } from 'contexts/UserConfigContext';\r\nimport types from 'types';\r\nimport { LoginModal } from 'pages/Auth/LoginModal';\r\nimport { RegisterModal } from 'pages/Auth/RegisterModal';\r\nimport { formatName, getUserInitials } from 'utils/textFormatters';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n    },\r\n    title: {\r\n        color: theme.palette.text.primary\r\n    },\r\n    logo: {\r\n        // width: theme.spacing(4),\r\n        height: theme.spacing(4),\r\n        //margin: 'auto',\r\n    },\r\n    brand: {\r\n        marginLeft: 10,\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginLeft: 0,\r\n        },\r\n    },\r\n    search: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    searchInput:{\r\n        width: '100%',\r\n        height: 40,\r\n        '& fieldset': {\r\n            borderTopRightRadius: 0,\r\n            borderBottomRightRadius: 0,\r\n        }\r\n    },\r\n    searchButton: {\r\n        borderTopLeftRadius: 0,\r\n        borderBottomLeftRadius: 0,\r\n        height: 40,\r\n    },\r\n    searchForm: {\r\n        width: '50%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: '100%',\r\n            padding: '0px 5px',\r\n        },\r\n    },\r\n    btn: {\r\n        margin: '0px 5px',\r\n        height: 35,\r\n    },\r\n    userAndOptions: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end',\r\n        alignItems: 'center',\r\n        [theme.breakpoints.down('xs')]: {\r\n            justifyContent: 'center',\r\n        },\r\n    },\r\n    navbarColor: {\r\n        background: theme.palette.background.navbar,\r\n    },\r\n    navbarLetter: {\r\n        textDecoration: 'none',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        whiteSpace: 'nowrap',\r\n        color: theme.palette.text.primary,\r\n        cursor: 'pointer'\r\n    },\r\n    menuOptions: {\r\n        marginRight: 10,\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginRight: 0,\r\n        },\r\n    },\r\n}));\r\n\r\nexport const NavBar = () => {\r\n    const queryClient = useQueryClient();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const [isMenuOpen, setMenuOpen] = useState(null);\r\n    const theme = useTheme();\r\n    const isXSDevice = useMediaQuery(theme.breakpoints.down('xs'));\r\n    const { userConfig, setUserConfig } = useUserConfigState();\r\n    const { uiState, dispatch } = useUiState();\r\n    const { authState, logout } = useAuthState();\r\n    const [filter, setFilter] = useState('');\r\n    const { designState } = useDesignState();\r\n    const { design } = designState;\r\n\r\n    const handleLogout = () => {\r\n        queryClient.clear();\r\n        setMenuOpen(null);\r\n        logout();\r\n    };\r\n\r\n    const handleOpenLoginModal = () => {\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Login',\r\n        });\r\n    };\r\n\r\n    const handleOpenRegisterModal = () => {\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Register',\r\n        });\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setMenuOpen(null);\r\n    };\r\n\r\n    const handleChangeUserConfig = (event) => {\r\n        setUserConfig({ ...userConfig, [event.target.name]: event.target.checked });\r\n    };\r\n\r\n    const handleInputFormChange = ({ target }) => {\r\n        setFilter(target.value);\r\n    };\r\n\r\n    const handleSearchUsers = async (e) => {\r\n        e.preventDefault();\r\n        if (filter.trim().length > 0) {\r\n            if (design !== null && !location.pathname.includes('reader') && !location.pathname.includes('shared-link') && !uiState.userSaveDesign) {\r\n                dispatch({\r\n                    type: types.ui.openModal,\r\n                    payload: 'CheckSaveDesign'\r\n                })\r\n                dispatch({\r\n                    type: types.ui.setHistoryInCheckSaveDesign,\r\n                    payload: {\r\n                        url: `/users/search?q=${filter.trim()}`,\r\n                    }\r\n                })\r\n            } else {\r\n                history.push(`/users/search?q=${filter.trim()}`);\r\n            }\r\n            setFilter('');\r\n        }\r\n    };\r\n\r\n    const handleGoUserProfile = async (e) => {\r\n        e.preventDefault();\r\n        if (design !== null && !location.pathname.includes('reader') && !location.pathname.includes('shared-link') && !uiState.userSaveDesign) {\r\n            dispatch({\r\n                type: types.ui.openModal,\r\n                payload: 'CheckSaveDesign'\r\n            })\r\n            dispatch({\r\n                type: types.ui.setHistoryInCheckSaveDesign,\r\n                payload: {\r\n                    url: `/profile/${authState.user.uid}`,\r\n                }\r\n            })\r\n        } else {\r\n            history.push(`/profile/${authState.user.uid}`);\r\n        }\r\n    }\r\n\r\n    const handleGoHomePage = async (e) => {\r\n        e.preventDefault();\r\n        if (design !== null && !location.pathname.includes('reader') && !location.pathname.includes('shared-link') && !uiState.userSaveDesign) {\r\n            dispatch({\r\n                type: types.ui.openModal,\r\n                payload: 'CheckSaveDesign'\r\n            })\r\n            dispatch({\r\n                type: types.ui.setHistoryInCheckSaveDesign,\r\n                payload: {\r\n                    url: `/`,\r\n                }\r\n            })\r\n        } else {\r\n            history.push(`/`);\r\n        }\r\n    }\r\n\r\n    const handleMenu = (e) => {\r\n        setMenuOpen(e.currentTarget);\r\n    };\r\n\r\n    const classes = useStyles();\r\n\r\n    const renderUserOptions = () => {\r\n        return (<Grid item xs={!isXSDevice ? 12 : 6} sm={4} lg={2} className={classes.userAndOptions}>\r\n            <Button size='small' onClick={handleGoUserProfile} style={{ display: 'flex', alignItems: 'center', textTransform: 'none' }}>\r\n                <Avatar\r\n                    style={{ \r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        marginRight: 10,\r\n                        textAlign: 'center',\r\n                        width: 35,\r\n                        height: 35,\r\n                        fontSize: 16,\r\n                        // border: `1px solid ${theme.palette.divider}`,\r\n                        // backgroundColor: authState.user.color, \r\n                        // color: theme.palette.getContrastText(authState.user.color),\r\n                    }}\r\n                    alt={formatName(authState.user.name, authState.user.lastname)}\r\n                    src={authState.user.img && authState.user.img.length > 0 ? `${process.env.REACT_APP_URL}uploads/users/${authState.user.img}` : ''}\r\n                >\r\n                    {getUserInitials(authState.user.name, authState.user.lastname)}\r\n                </Avatar>\r\n                <Typography className={classes.navbarLetter}>\r\n                    {formatName(authState.user.name, authState.user.lastname)}\r\n                </Typography>\r\n            </Button>\r\n            <IconButton onClick={handleMenu} className={classes.menuOptions}>\r\n                <SettingsIcon />\r\n            </IconButton>\r\n            <Menu\r\n                anchorEl={isMenuOpen}\r\n                open={Boolean(isMenuOpen)}\r\n                keepMounted\r\n                getContentAnchorEl={null}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'right',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                onClose={handleClose}\r\n\r\n            >\r\n                <MenuItem>\r\n                    <FormControlLabel\r\n                        control={<Switch checked={userConfig.darkTheme} onChange={handleChangeUserConfig} name=\"darkTheme\" />}\r\n                        label=\"Tema Oscuro\"\r\n                    />\r\n                </MenuItem>\r\n                {/* <MenuItem>\r\n                    <FormControlLabel\r\n                        control={<Switch checked={userConfig.modeAdvanced} onChange={handleChangeUserConfig} name=\"modeAdvanced\" />}\r\n                        label=\"Modo Avanzado\"\r\n                    />\r\n                </MenuItem> */}\r\n                <MenuItem onClick={handleLogout}>\r\n                    <ListItemIcon>\r\n                        <ExitToApp />\r\n                    </ListItemIcon>\r\n                    Cerrar sesión\r\n                </MenuItem>\r\n\r\n            </Menu>\r\n        </Grid>);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position=\"static\" className={classes.navbarColor} elevation={0}>\r\n                <Toolbar style={{ padding: 0 }}>\r\n                    <Grid container>\r\n                        <Grid item xs={!isXSDevice ? 12 : 6} sm={3} lg={2} style={{display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'flex-start'}}>\r\n                            <Button size='small' onClick={handleGoHomePage} className={classes.brand}>\r\n                                {/* <Avatar className={classes.logo} src={Logo} alt=\"Logo\" /> */}\r\n                                <img className={classes.logo} src={Logo} alt='Logo' />\r\n                                {/* <Typography variant=\"h6\" className={classes.title}>\r\n                                    LAD\r\n                                </Typography> */}\r\n                            </Button>\r\n                        </Grid>\r\n                        {isXSDevice && authState.token && renderUserOptions()}\r\n                        {\r\n                            (!authState.token)\r\n                                ? <Grid item xs={12} sm={9} lg={10} className={classes.userAndOptions}>\r\n                                    <Button className={classes.btn} variant='contained' color='primary' size='small' onClick={handleOpenLoginModal} >\r\n                                        Ingresar\r\n                                    </Button>\r\n                                    <Button className={classes.btn} variant='outlined' color='primary' size='small' onClick={handleOpenRegisterModal}>\r\n                                        Registrarme\r\n                                    </Button>\r\n                                </Grid>\r\n                                : <>\r\n                                    <Grid item xs={12} sm={5} lg={8} style={{display: 'flex', flexDirection: 'column', justifyContent: 'center'}}>\r\n                                        <div className={classes.search}>\r\n                                            <form className={classes.searchForm} onSubmit={handleSearchUsers} noValidate>\r\n                                                <OutlinedInput\r\n                                                    className={classes.searchInput}\r\n                                                    margin='dense'\r\n                                                    variant=\"outlined\"\r\n                                                    name=\"filter\"\r\n                                                    value={filter}\r\n                                                    type=\"text\"\r\n                                                    placeholder='Buscar usuario'\r\n                                                    onChange={handleInputFormChange}\r\n                                                />\r\n                                                <Button variant='contained' disableElevation color='primary' type='submit' className={classes.searchButton} >\r\n                                                    <Search />\r\n                                                </Button>\r\n                                                {/* <IconButton type=\"submit\" className={classes.iconButton} aria-label=\"search\">\r\n                                                    <Search />\r\n                                                </IconButton> */}\r\n                                            </form>\r\n                                        </div>\r\n                                    </Grid>\r\n                                    {!isXSDevice && renderUserOptions()}\r\n                                </>\r\n                        }\r\n                    </Grid>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <LoginModal />\r\n            <RegisterModal />\r\n\r\n        </div>\r\n    );\r\n}","import { Typography, Toolbar, AppBar, Container, makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  pos: {\r\n    width: 'fit-content',\r\n  },\r\n  footerColor: {\r\n    background: theme.palette.background.navbar,\r\n  },\r\n\r\n}));\r\nexport const Footer = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <AppBar position=\"static\" className={classes.footerColor}>\r\n      <Container maxWidth=\"md\" className={classes.pos}>\r\n        <Toolbar>\r\n          <Typography variant=\"body1\" color='textPrimary'>\r\n            © 2021 Universidad Católica de Temuco\r\n          </Typography>\r\n        </Toolbar>\r\n      </Container>\r\n    </AppBar>\r\n  )\r\n};","import React from 'react';\r\nimport { Divider, Grid, makeStyles, Typography } from '@material-ui/core';\r\nimport { LeftPanel } from 'pages/Navigation/LeftPanel';\r\nimport { useInfiniteQuery } from 'react-query';\r\nimport { getDesignsSharedWithMe } from 'services/DesignService';\r\nimport { DesignsContainer } from 'components/DesignsContainer';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    leftPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    workspace: {\r\n        paddingTop: 20,\r\n        paddingLeft: 30,\r\n        paddingRight: 30,\r\n        background: theme.palette.background.workSpace,\r\n        minHeight: 'calc(100vh - 128px)',\r\n    },\r\n    rightPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderLeft: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    icon:{\r\n        marginRight: 10,\r\n    }\r\n}));\r\n\r\nexport const SharedWithMePage = () => {\r\n    const classes = useStyles();\r\n    \r\n\r\n    const sharedDesignsQuery = useInfiniteQuery(['shared-designs'], async ({ pageParam = 0 }) => {\r\n        return await getDesignsSharedWithMe(pageParam);\r\n    }, {\r\n        refetchOnWindowFocus: false,\r\n        getNextPageParam: (lastPage, pages) => {\r\n            if(lastPage.nPages === pages.length) return undefined; \r\n            return lastPage.from;\r\n        },\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <Grid container>\r\n                <Grid item xs={12} md={3} lg={2} className={classes.leftPanel}>\r\n                    <LeftPanel />\r\n                </Grid>\r\n                    <Grid item xs={12} md={6} lg={8} className={classes.workspace}>\r\n                        <Typography variant='h4' style={{marginBottom: 5}}>Compartidos conmigo</Typography>\r\n                        <Divider />\r\n                        <DesignsContainer {...sharedDesignsQuery} label='shared-with-me'/>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={3} lg={2} className={classes.rightPanel}></Grid>\r\n                </Grid>\r\n        </>\r\n    );\r\n};","import { fetchWithToken } from \"utils/fetch\";\r\n\r\nexport const getCategories = async () => {\r\n    const resp = await fetchWithToken('category');\r\n    if(!resp.ok){\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};","import React, { useState } from 'react';\r\nimport { Box, Button, Chip, makeStyles, TextField } from '@material-ui/core';\r\nimport { useHorizontalScroll } from 'hooks/useHorizontalScroll';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    keywordList: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        height: 48,\r\n        mouseWheel: 'horizontal',\r\n        overflowX: 'auto',\r\n        overflowY: 'hidden',\r\n        listStyle: 'none',\r\n        padding: theme.spacing(0.5),\r\n        margin: 0,\r\n    },\r\n    keyword: {\r\n        margin: theme.spacing(0.5),\r\n    },\r\n    searchContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginBottom: 15,\r\n    },\r\n    input: {\r\n        height: 40,\r\n        '& fieldset': {\r\n            borderTopRightRadius: 0,\r\n            borderBottomRightRadius: 0,\r\n        }\r\n    },\r\n    button: {\r\n        borderTopLeftRadius: 0,\r\n        borderBottomLeftRadius: 0,\r\n        height: 40,\r\n    },\r\n    keywordFilter: {\r\n        paddingLeft: 0,\r\n        backgroundColor: theme.palette.background.paper,\r\n        borderRadius: theme.shape.borderRadius,\r\n    }\r\n}));\r\n\r\nexport const KeywordManager = ({ keywords, onChangeKeywords }) => {\r\n    const classes = useStyles();\r\n    const [keyword, setKeyword] = useState('');\r\n    const [keywordError, setKeywordError] = useState(null);\r\n    const scrollRef = useHorizontalScroll();\r\n\r\n    const handleAddKeyword = (e) => {\r\n        e.preventDefault();\r\n        if(keyword.trim().length && !keywords.includes(keyword.toLowerCase())){\r\n            onChangeKeywords([...keywords, keyword.toLowerCase()], 'add', keyword.toLowerCase());\r\n            setKeyword('');\r\n        } else if (keywords.includes(keyword.toLowerCase())){\r\n            setKeywordError('La palabra clave ya se encuentra agregada al filtro.');\r\n        }\r\n    };\r\n\r\n    const handleRemoveKeyword = (index) => {\r\n        if(index === keywords.length - 1) onChangeKeywords([...keywords.slice(0, index)], 'remove', keywords[index]);\r\n        else onChangeKeywords([...keywords.slice(0, index), ...keywords.slice(index + 1, keywords.length)], 'remove', keywords[index]);\r\n    };\r\n\r\n    const handleKeywordInputChange = ({ target }) => {\r\n        setKeyword(target.value);\r\n        if(keywordError) setKeywordError(null);\r\n    };\r\n\r\n    return (\r\n        <Box ref={scrollRef} component='ul' className={classes.keywordFilter}>\r\n            <form onSubmit={handleAddKeyword} className={classes.searchContainer}>\r\n                <TextField\r\n                    className={classes.input}\r\n                    size='small'\r\n                    variant='outlined'\r\n                    value={keyword}\r\n                    onChange={handleKeywordInputChange}\r\n                    label='Palabra Clave'\r\n                    error={!!keywordError}\r\n                    helperText={keywordError}\r\n                    fullWidth\r\n                />\r\n                <Button variant='contained' disableElevation color='primary' type='submit' className={classes.button} >\r\n                    Agregar\r\n                </Button>\r\n            </form>\r\n            <div className={classes.keywordList}>\r\n                {\r\n                    keywords.map((keyword, index) => {\r\n                        return (\r\n                            <li key={`keyword-${index}`}>\r\n                            <Chip\r\n                                label={keyword}\r\n                                onDelete={(e) => handleRemoveKeyword(index)}\r\n                                className={classes.keyword}\r\n                                />\r\n                            </li>\r\n                        );\r\n                    })\r\n                }\r\n            </div>\r\n        </Box>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Button, Checkbox, Divider, FormControlLabel, Grid, IconButton, makeStyles, TextField, Typography } from '@material-ui/core';\r\nimport { LeftPanel } from 'pages/Navigation/LeftPanel';\r\nimport { useInfiniteQuery, useQuery } from 'react-query';\r\nimport { getCategories } from 'services/CategoryService';\r\nimport { getPublicFilteredDesigns } from 'services/DesignService';\r\nimport { DesignsContainer } from 'components/DesignsContainer';\r\nimport { Close } from '@material-ui/icons';\r\nimport { KeywordManager } from 'components/KeywordManager';\r\nimport { Skeleton } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    leftPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'stretch',\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n        position: 'relative',\r\n        [theme.breakpoints.up('sm')]: {\r\n            height: 'calc(100vh - 128px)',\r\n        },\r\n    },\r\n    workspace: {\r\n        paddingLeft: 30,\r\n        paddingRight: 30,\r\n        background: theme.palette.background.workSpace,\r\n        minHeight: 'calc(100vh - 128px)',\r\n    },\r\n    rightPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderLeft: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    icon: {\r\n        marginRight: 10,\r\n    },\r\n    sectionTitle: {\r\n        marginTop: 20,\r\n        marginBottom: 20,\r\n    },\r\n    category: {\r\n        width: '100%',\r\n        paddingLeft: 20,\r\n    },\r\n    categoriesContainer: {\r\n        [theme.breakpoints.up('sm')]: {\r\n            overflow: 'auto',\r\n            overflowX: 'hidden',\r\n        },\r\n    },\r\n    keywordList: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        height: 48,\r\n        mouseWheel: 'horizontal',\r\n        overflowX: 'auto',\r\n        overflowY: 'hidden',\r\n        listStyle: 'none',\r\n        padding: theme.spacing(0.5),\r\n        margin: 0,\r\n    },\r\n    keyword: {\r\n        margin: theme.spacing(0.5),\r\n    },\r\n    searchContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginTop: 20,\r\n        marginBottom: 15,\r\n    },\r\n    input: {\r\n        height: 40,\r\n        '& fieldset': {\r\n            borderTopRightRadius: 0,\r\n            borderBottomRightRadius: 0,\r\n        }\r\n    },\r\n    button: {\r\n        borderTopLeftRadius: 0,\r\n        borderBottomLeftRadius: 0,\r\n        height: 40,\r\n    },\r\n    keywordFilter: {\r\n        paddingLeft: 0,\r\n        backgroundColor: theme.palette.background.paper,\r\n        borderRadius: theme.shape.borderRadius,\r\n    }\r\n}));\r\n\r\nexport const PublicRepositoryPage = () => {\r\n    const classes = useStyles();\r\n    const [search, setSearch] = useState('');\r\n    const [filter, setFilter] = useState('');\r\n    const [categoriesFilter, setCategoriesFilter] = useState([]);\r\n    const [keywords, setKeywords] = useState([]);\r\n    const categoriesQuery = useQuery('categories', async () => {\r\n        const resp = await getCategories();\r\n        setCategoriesFilter(resp.categories.map(category => ({ ...category, selected: false })));\r\n        return resp;\r\n    }, { refetchOnWindowFocus: false });\r\n\r\n    const designsQuery = useInfiniteQuery(['filtered-designs', filter, ...keywords, ...categoriesFilter], async ({ pageParam = 0 }) => {\r\n        const resp = await getPublicFilteredDesigns(search, keywords, categoriesFilter.filter(c => c.selected), pageParam);\r\n        return resp;\r\n    }, {\r\n        refetchOnWindowFocus: false,\r\n        getNextPageParam: (lastPage, pages) => {\r\n            if(lastPage.nPages === pages.length) return undefined; \r\n            return lastPage.from;\r\n        },\r\n    });\r\n\r\n    const handleChangeKeywords = (keywords, type, targetKeyword) => {\r\n        setKeywords(keywords);\r\n    };\r\n\r\n    const handleSearch = () => {\r\n        setFilter(search);\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        handleSearch();\r\n    };\r\n\r\n    const handleToggleCategory = (index) => {\r\n        const categories = [...categoriesFilter];\r\n        categories[index].selected = !categories[index].selected;\r\n        setCategoriesFilter(categories);\r\n        handleSearch();\r\n    };\r\n\r\n    const handleClearSearch = () => {\r\n        setSearch('');\r\n        setFilter('');\r\n    };\r\n\r\n    const categoriesSkeletonsList = () => {\r\n        return [...Array(10).keys()].map((index) => (\r\n            <div key={`category-skeleton-${index}`} style={{margin: 10, display: 'flex', alignItems: 'center'}}>\r\n                <Skeleton style={{borderRadius: 4, marginRight: 5 }} variant=\"rect\" height={20} width={20} animation='wave'/>\r\n                <div style={{width: '100%'}}>\r\n                    <Skeleton style={{borderRadius: 4}} variant=\"rect\" height={20} animation='wave'/>\r\n                </div>\r\n            </div>\r\n        ));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Grid container>\r\n                <Grid item xs={12} md={3} lg={2} className={classes.leftPanel}>\r\n                    <LeftPanel />\r\n                    <Typography style={{ marginTop: 20, marginLeft: 20 }}>Categorías</Typography>\r\n                    <div className={classes.categoriesContainer}>\r\n                        {\r\n                            categoriesQuery.isLoading\r\n                                ? categoriesSkeletonsList()\r\n                                : categoriesFilter && categoriesFilter.map((category, index) => (\r\n                                        <FormControlLabel\r\n                                            className={classes.category}\r\n                                            key={category._id}\r\n                                            control={\r\n                                                <Checkbox\r\n                                                    checked={category.selected}\r\n                                                    onChange={(e) => handleToggleCategory(index)}\r\n                                                />\r\n                                            }\r\n                                            label={category.name}\r\n                                        />\r\n                                    )\r\n                                )\r\n                        }\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={12} md={6} lg={8} className={classes.workspace}>\r\n                    <div className={classes.sectionTitle}>\r\n                        <Typography variant='h4'>Buscar Diseño</Typography>\r\n                        <Divider />\r\n                    </div>\r\n                    <form onSubmit={handleSubmit} className={classes.searchContainer}>\r\n                        <TextField\r\n                            className={classes.input}\r\n                            size='small'\r\n                            variant='outlined'\r\n                            value={search}\r\n                            onChange={({ target }) => setSearch(target.value)}\r\n                            label='Nombre/Propietario'\r\n                            onBlur={handleSearch}\r\n                            placeholder='Ingresa el nombre o propietario para buscar diseños'\r\n                            InputProps={{\r\n                                endAdornment:\r\n                                    search.trim().length ?(<IconButton\r\n                                        size='small'\r\n                                        onClick={handleClearSearch}\r\n                                        onMouseDown={(e)=>e.preventDefault()}\r\n                                    >\r\n                                        {<Close /> }\r\n                                    </IconButton>) : (<div></div>)\r\n\r\n                            }}\r\n                            fullWidth\r\n                        />\r\n                        <Button\r\n                            className={classes.button}\r\n                            variant='contained' \r\n                            color='primary'\r\n                            type='submit'\r\n                            disableElevation\r\n                        >\r\n                            Buscar\r\n                        </Button>\r\n                    </form>\r\n                    <KeywordManager keywords={keywords} onChangeKeywords={handleChangeKeywords}/>\r\n                    <div className={classes.sectionTitle}>\r\n                        <Typography variant='h4'>Repositorio Público</Typography>\r\n                        <Divider />\r\n                        {\r\n                            (categoriesQuery.isError) \r\n                                ? <Typography>{categoriesQuery.error.message}</Typography>\r\n                                : (designsQuery.isError) \r\n                                    ? <Typography>{designsQuery.error.message}</Typography>\r\n                                    : <DesignsContainer {...designsQuery} label='public-repository'/>\r\n                        }                        \r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={12} md={3} lg={2} className={classes.rightPanel}></Grid>\r\n            </Grid>\r\n        </>\r\n    );\r\n};","import React from 'react'\r\nimport { makeStyles, useTheme } from '@material-ui/core';\r\nimport { Skeleton } from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        padding: 5,\r\n        borderRadius: 10,\r\n        marginTop: 10,\r\n        backgroundColor: theme.palette.background.design,\r\n    },\r\n    card: {\r\n        display: 'flex',\r\n        width: '100%',\r\n    },\r\n    body: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        marginLeft: 10,\r\n        marginRight: 10,\r\n        flexDirection: 'column',\r\n        justifyContent: 'flex-start',\r\n    },\r\n    photo: {\r\n        margin: 10,\r\n        width: theme.spacing(8),\r\n        height: theme.spacing(8),\r\n    },\r\n    name: {\r\n        width: '50%',\r\n        [theme.breakpoints.down('sm')]: {\r\n            width: '70%',\r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: '100%',\r\n        },\r\n    },\r\n    location: {\r\n        width: '35%',\r\n        [theme.breakpoints.down('sm')]: {\r\n            width: '50%',\r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: '80%',\r\n        },\r\n    },\r\n    ocupation: {\r\n        width: '35%',\r\n        [theme.breakpoints.down('sm')]: {\r\n            width: '50%',\r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: '80%',\r\n        },\r\n    }\r\n}));\r\n\r\nexport const UserCardSkeleton = () => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <div className={classes.card}>\r\n                <div className={classes.photo}>\r\n                    <Skeleton  width={theme.spacing(8)} height={theme.spacing(8)} variant=\"circle\" animation='wave' />\r\n                </div>\r\n                <div className={classes.body} >\r\n                    <Skeleton className={classes.name} animation='wave' height={42} style={{borderRadius: 4}} />\r\n                    <Skeleton className={classes.location} animation='wave' height={20} style={{borderRadius: 4}} />\r\n                    <Skeleton className={classes.ocupation} animation='wave' height={20} style={{borderRadius: 4}} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { useInfiniteQuery } from 'react-query';\r\nimport queryString from 'query-string';\r\nimport { Button, Divider, Grid, List, ListItem, ListItemText, makeStyles, Typography } from '@material-ui/core';\r\nimport { Group, Home, Public } from '@material-ui/icons';\r\nimport { searchUsers } from 'services/UserService';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { UserCard } from 'components/UserCard';\r\nimport { UserCardSkeleton } from 'components/UserCardSkeleton';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    leftPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    workspace: {\r\n        paddingLeft: 30,\r\n        paddingRight: 30,\r\n        paddingBottom: 50,\r\n        background: theme.palette.background.workSpace,\r\n        height: 'auto',\r\n        [theme.breakpoints.up('md')]: {\r\n            height: 'calc(100vh - 128px)',\r\n            overflow: 'auto'\r\n        },\r\n    },\r\n    rightPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderLeft: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    icon: {\r\n        marginRight: 10,\r\n    },\r\n    usersContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        paddingTop: 15,\r\n    },\r\n    errorContainer: {\r\n        marginTop: 15,\r\n        marginBottom: 15,\r\n        display: 'flex',\r\n        width: '100%',\r\n        justifyContent: 'center',\r\n    },\r\n    error: {\r\n        minWidth: '50%',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        textAlign: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    loadMore: {\r\n        marginTop: 50,\r\n    }\r\n}));\r\n\r\nexport const SearchUsersPage = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const { q } = queryString.parse(location.search);\r\n\r\n    const redirectTo = (path) => {\r\n        history.push(path);\r\n    };\r\n\r\n    const { data, status, error, isFetchingNextPage, fetchNextPage, hasNextPage } = useInfiniteQuery('search-users', async ({ pageParam = 0 }) => {\r\n        return await searchUsers(q, pageParam);\r\n    }, {\r\n        refetchOnWindowFocus: false,\r\n        getNextPageParam: (lastPage, pages) => {\r\n            if (lastPage.nPages === pages.length) return undefined;\r\n            return lastPage.from;\r\n        },\r\n    });\r\n\r\n    const userList = () => {\r\n        return data.pages.map((page, index) => {\r\n            return page.users.map((user, i) => <UserCard key={user._id} {...user} />);\r\n        });\r\n    };\r\n\r\n    const usersSkeletonsList = () => {\r\n        return [...Array(6).keys()].map((index) => (\r\n            <UserCardSkeleton key={`user-skeleton-${index}`} />\r\n        ));\r\n    };\r\n\r\n    if (!q) {\r\n        return (\r\n            <div className={classes.errorContainer}>\r\n                <Alert severity='error' variant='outlined' className={classes.error}>\r\n                    No se ha ingresado filtro para la búsqueda de usuarios. Por favor ingrese información en la entrada de texto de la barra de navegación para buscar usuarios\r\n                    y presione 'enter' o el ícono de búsqueda.\r\n                </Alert>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    return <>\r\n        <Grid container>\r\n            <Grid item xs={12} md={3} lg={2} className={classes.leftPanel}>\r\n                <List component=\"nav\" aria-label=\"main mailbox folders\">\r\n                    <ListItem button onClick={() => redirectTo('/my-designs')}>\r\n                        <Home className={classes.icon} />\r\n                        <ListItemText primary=\"Mis Diseños\" />\r\n                    </ListItem>\r\n                    <Divider />\r\n                    <ListItem button onClick={() => redirectTo('/shared-with-me')}>\r\n                        <Group className={classes.icon} />\r\n                        <ListItemText primary=\"Compartidos Conmigo\" />\r\n                    </ListItem>\r\n                    <Divider />\r\n                    <ListItem button onClick={() => redirectTo('/public-repository')}>\r\n                        <Public className={classes.icon} />\r\n                        <ListItemText primary=\"Repositorio Público\" />\r\n                    </ListItem>\r\n                    <Divider />\r\n                </List>\r\n            </Grid>\r\n            <Grid item xs={12} md={6} lg={8} className={classes.workspace}>\r\n                \r\n                {\r\n                    status === 'loading' ? (\r\n                        <div style={{ paddingTop: 15 }}>\r\n                            <Typography variant='h4'>Buscando usuarios...</Typography>\r\n                            <div>\r\n                                { usersSkeletonsList() }\r\n                            </div>\r\n                        </div>\r\n                    ) : status === 'error' ? (\r\n                        <Alert severity='error' variant='outlined' className={classes.error}>\r\n                            { error.message}\r\n                        </Alert>\r\n                    ) : (\r\n                        <div style={{ paddingTop: 15 }}>\r\n                            <Typography variant='h4'>Usuarios encontrados</Typography>\r\n                            {\r\n                                data.pages[0].users.length > 0\r\n                                    ? (<>\r\n                                        <div className={classes.usersContainer}>\r\n                                            {userList()}\r\n                                            {\r\n                                                data && hasNextPage && <Button className={classes.loadMore} color='primary' onClick={() => fetchNextPage()}>\r\n                                                    {\r\n                                                        isFetchingNextPage\r\n                                                            ? 'Cargando más...'\r\n                                                            : 'Cargar Más'\r\n                                                    }\r\n                                                </Button>\r\n                                            }\r\n                                        </div></>)\r\n                                    : <Alert severity='error' variant='outlined' className={classes.error}>\r\n                                        No se han encontrado coincidencias.\r\n                                </Alert>\r\n                            }\r\n                        </div>\r\n                    )\r\n                }\r\n            </Grid>\r\n            <Grid item xs={12} md={3} lg={2} className={classes.rightPanel}></Grid>\r\n        </Grid>\r\n    </>\r\n}\r\n","import React, { createContext, useCallback, useContext, useState } from 'react';\r\nimport * as Y from 'yjs';\r\nimport { WebsocketProvider } from 'y-websocket';\r\nimport { useAuthState } from './AuthContext';\r\nimport { formatName } from 'utils/textFormatters';\r\n\r\nconst SharedDocContext = createContext();\r\n\r\nexport function useSharedDocContext() {\r\n    const context = useContext(SharedDocContext);\r\n    if (context === undefined) {\r\n        throw new Error('SharedDocContext must be used within a SharedDocProvider');\r\n    }\r\n    return context;\r\n}\r\n\r\nexport const SharedDocProvider = ({ children }) => {\r\n    const [doc, setDoc] = useState(null);\r\n    const [provider, setProvider] = useState(null);\r\n    const [user, setUser] = useState(null);\r\n    const [connected, setConnected] = useState(false);\r\n    const { authState } = useAuthState();\r\n\r\n    const connectToDesign = useCallback(\r\n        ( id ) => {\r\n            if (provider) return false;\r\n            if (!authState.user) return false;\r\n            const yDoc = new Y.Doc({guid: id});\r\n            setDoc(yDoc);\r\n            const wsProvider = new WebsocketProvider(process.env.REACT_APP_Y_WEBSOCKET_SERVER, id, yDoc);\r\n            const preparedUser = {\r\n                name: formatName(authState.user.name, authState.user.lastname),\r\n                color: authState.user.color,\r\n            };\r\n            wsProvider.awareness.setLocalStateField('user', preparedUser);\r\n            wsProvider.on('status', event => {\r\n                if(event.status === 'connected'){\r\n                    setConnected(true);\r\n                } else {\r\n                    setConnected(false);\r\n                }\r\n            });\r\n            setProvider(wsProvider);\r\n            setUser(preparedUser);\r\n        },\r\n        [provider, authState.user],\r\n    );\r\n\r\n    const clearDoc = useCallback(\r\n        () => {\r\n            setDoc(null);\r\n            setProvider(null);\r\n            setUser(null);\r\n        },\r\n        [setDoc, setProvider, setUser],\r\n    );\r\n\r\n    return (\r\n        <SharedDocContext.Provider value={{\r\n            doc,\r\n            provider,\r\n            connectToDesign,\r\n            clearDoc,\r\n            user,\r\n            connected,\r\n        }}>\r\n            {children}\r\n        </SharedDocContext.Provider>\r\n    );\r\n}","import React, { useEffect, useState, useCallback, forwardRef, useImperativeHandle, useRef } from 'react'\r\nimport { Editor } from '@tiptap/core'\r\nimport Collaboration from '@tiptap/extension-collaboration'\r\nimport CollaborationCursor from '@tiptap/extension-collaboration-cursor'\r\nimport { EditorContent } from '@tiptap/react'\r\nimport { useSharedDocContext } from 'contexts/SharedDocContext'\r\nimport './sharedTextField.css';\r\nimport { Box, ButtonBase, Divider, makeStyles } from '@material-ui/core'\r\nimport Document from '@tiptap/extension-document'\r\nimport Paragraph from '@tiptap/extension-paragraph'\r\nimport Text from '@tiptap/extension-text'\r\nimport CharacterCount from '@tiptap/extension-character-count'\r\nimport { ArrowDropUp, ArrowDropDown } from '@material-ui/icons'\r\n\r\nfunction htmlToText(htmlString) {\r\n    var span = document.createElement('span');\r\n    span.innerHTML = htmlString;\r\n    return span.textContent || span.innerText;\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: ({ multiline, rowMax, focused }) => ({\r\n        width: '100%',\r\n        display: 'flex',\r\n    }),\r\n    inputContainer: ({ multiline, rowMax, focused, type }) => ({\r\n        width: '100%',\r\n        cursor: 'text',\r\n        height: multiline && rowMax === 1 ? 'auto' : `calc(22px * ${rowMax} + 34px)`,\r\n        overflow: 'auto',\r\n    }),\r\n    actions: () => ({\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: 70,\r\n        justifyContent: 'space-between',\r\n        borderWidth: 1,\r\n        borderStyle: 'solid',\r\n        borderColor: theme.palette.action.disabled,\r\n        borderTopRightRadius: 5,\r\n        borderBottomRightRadius: 5,\r\n    }),\r\n    action: () => ({\r\n        height: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        cursor: 'pointer',\r\n    }),\r\n    editorx: ({ multiline, rowMax }) => ({\r\n        height: multiline && rowMax === 1 ? 'auto' : `calc(22px * ${rowMax} + 34px)`,\r\n    }),\r\n    '@global': {\r\n        '.ProseMirror': ({ multiline, rowMax }) => ({\r\n            height: '100%',\r\n            overflow: 'auto',\r\n            overflowX: 'hidden',\r\n            width: '100%',\r\n            fontSize: theme.typography.body1.fontSize,\r\n            fontFamily: theme.typography.fontFamily,\r\n            fontStyle: 'normal',\r\n            paddingTop: '1rem',\r\n            paddingBottom: '1rem',\r\n            paddingLeft: 10,\r\n            paddingRight: 10,\r\n        }),\r\n        '.ProseMirror p': {\r\n            marginBlockStart: 0,\r\n            marginBlockEnd: 0,\r\n        },\r\n        '.ProseMirror:focus': {\r\n            outline: 'none',\r\n        },\r\n        '.ProseMirror p.is-editor-empty:first-child::before': {\r\n            content: 'attr(data-empty-text)',\r\n            float: 'left',\r\n            color: theme.palette.type === 'dark' ? theme.palette.grey[400] : theme.palette.grey[600],\r\n            pointerEvents: 'none',\r\n            height: 0,\r\n        },\r\n    },\r\n}));\r\n\r\nexport const SharedTextfieldTipTapEditor = forwardRef(({name,\r\n    multiline,\r\n    rowMax = 1,\r\n    maxLength,\r\n    onChange,\r\n    placeholder = '',\r\n    initialvalue = '',\r\n    type = 'text',\r\n    max,\r\n    min,\r\n    deleteOnRemove = false,\r\n    onSynced,\r\n}, ref) => {\r\n    const isMounted = useRef(true);\r\n    const [focused, setFocused] = useState(false);\r\n    const classes = useStyles({\r\n        multiline,\r\n        rowMax,\r\n        focused,\r\n        type,\r\n    });\r\n    const [synced, setSynced] = useState(false);\r\n    const { doc, provider, user } = useSharedDocContext();\r\n    const [editor, setEditor] = useState(null);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, []);\r\n\r\n    const getMultilineText = useCallback(\r\n        ({ content }) => {\r\n            let result = ``;\r\n            if(content.length === 1) return content[0].content ? content[0].content[0].text : '';\r\n            content.forEach((p, i) => {\r\n                if(p.content){\r\n                    if(i === content.length - 1) result+= `${p.content[0].text}`;\r\n                    else result+= `${p.content[0].text}\\n`;\r\n                } else {\r\n                    if(i === content.length - 1) result+= ``;\r\n                    else result += `\\n`;\r\n                }\r\n            });\r\n            return result;\r\n        },\r\n        [],\r\n    )\r\n\r\n    const getText = useCallback(\r\n        () => {\r\n            if(editor) return multiline ? getMultilineText(editor.getJSON()) : htmlToText(editor.getHTML().toString()).trim().toString();\r\n        },\r\n        [editor, multiline, getMultilineText],\r\n    );\r\n\r\n    const setText = useCallback(\r\n        (value) => {\r\n            let htmlString = '';\r\n            if(multiline){\r\n                value.toString().split('\\n').forEach((line)=>{\r\n                    htmlString += `<p>${line}</p>`;\r\n                });\r\n            }\r\n            editor?.commands.first(({ commands }) => [\r\n                () => commands.setContent(multiline ? htmlString : value.toString()),\r\n            ]);\r\n        },\r\n        [editor, multiline],\r\n    );\r\n\r\n    useImperativeHandle(\r\n        ref,\r\n        () => ({\r\n            clearText: () => {\r\n                if (!doc || !editor) return;\r\n                setText('');\r\n            },\r\n        }),\r\n    );\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if (!doc || !editor || !deleteOnRemove) return;\r\n            setText('');\r\n        }\r\n    }, [doc, editor, setText, deleteOnRemove]);\r\n\r\n    useEffect(() => {\r\n        if(!editor){\r\n            if(isMounted.current){\r\n                setEditor(new Editor({\r\n                    editorProps: type === 'number' ? {\r\n                        handleTextInput: (view, from, to, text) => {\r\n                            if (isNaN(text) && text !== '-') return true;\r\n                            if (text === '0' && view.dom.firstChild.textContent === '00') return true;\r\n                            if (\r\n                                (text === '-' && view.dom.firstChild.textContent.match(/-/g).length > 1) || \r\n                                (text === '-' && min !== null && min >= 0) ||\r\n                                (text === '-' && view.dom.firstChild.textContent.indexOf('-') !== 0) \r\n                            ) return true;\r\n                            if (max !== null && parseInt(view.dom.firstChild.textContent) > max) return true;\r\n                            if (min !== null && parseInt(view.dom.firstChild.textContent) < min) return true;\r\n                            return false;\r\n                        },\r\n                        handlePaste: (view, event, slice) => {\r\n                            if (slice.content.childCount !== 1) return true;\r\n                            if (isNaN(slice.content.firstChild.textContent)) return true;\r\n                            const prevValue = view.dom.firstChild.textContent;\r\n                            const newValue = prevValue + slice.content.firstChild.textContent;\r\n                            if (\r\n                                (newValue.includes('-') && newValue.match(/-/g)?.length > 1) ||\r\n                                (newValue.includes('-') && newValue.indexOf('-') !== 0)\r\n                            ) return true;                    \r\n                            if (max !== null && parseInt(newValue) > max) return true;\r\n                            if (min !== null && parseInt(newValue) < min) return true;\r\n                            return false;\r\n                        },\r\n                    } : {},\r\n                    extensions: [\r\n                        Document.extend({\r\n                            content: multiline ? 'block+' : 'block',\r\n                        }),\r\n                        Paragraph,\r\n                        Text,\r\n                        CollaborationCursor.configure({\r\n                            provider: provider,\r\n                            user,\r\n                        }),\r\n                        Collaboration.configure({\r\n                            document: doc,\r\n                            field: name,\r\n                        }),\r\n                        CharacterCount.configure({\r\n                            limit: maxLength,\r\n                        }),\r\n                    ],\r\n                    onUpdate: (event) => {\r\n                        if(isMounted.current) {\r\n                            const text = multiline ? getMultilineText(event.editor.getJSON()) : htmlToText(event.editor.getHTML().toString()).toString();\r\n                            let value = (type === 'number' && !isNaN(text)) ? parseInt(text) : text;\r\n                            if(onChange && getMultilineText(event.transaction.docs[0].toJSON()) !== text) onChange({\r\n                                target : {\r\n                                    name,\r\n                                    type,\r\n                                    value: (type === 'number' && isNaN(value)) ? 0 : value,\r\n                                }\r\n                            });\r\n                        }\r\n                    },\r\n                    onFocus: ({editor, event}) => {\r\n                        if(isMounted.current) setFocused(true);\r\n                    },\r\n                    onBlur: ({editor, event}) => {\r\n                        if(isMounted.current) {\r\n                            setFocused(false);\r\n                        }\r\n                    },\r\n                }));\r\n            }\r\n        }\r\n    }, [editor, doc, max, maxLength, min, multiline, name, onChange, provider, type, user, getMultilineText]);\r\n\r\n    useEffect(() => {\r\n        if(editor){\r\n            if (provider.synced) {\r\n                if(!synced){\r\n                    const text = getText();\r\n                    if (text === '') {\r\n                        if(isMounted.current) {\r\n                            setText(initialvalue);\r\n                            if(onSynced) onSynced(text, setText);\r\n                            setSynced(true);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                provider.once('synced', () => {\r\n                    if(!synced){\r\n                        const text = getText();\r\n                        if (text === '') {\r\n                            if(isMounted.current) {\r\n                                setText(initialvalue);\r\n                                if(onSynced) onSynced(text, setText);\r\n                                setSynced(true);\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        } \r\n    }, [editor, provider.synced, getText, initialvalue, onSynced, provider, setText, synced]);\r\n\r\n    const handleIncrement = useCallback(\r\n        () => {\r\n            let val = getText();\r\n            if (!editor || type !== 'number') return;\r\n            if (!val.length || val === '-') return setText(min ?? 0);\r\n            val = parseInt(val);\r\n            if (max !== null && (val + 1 > max)) return;\r\n            if(onChange) onChange({\r\n                target : {\r\n                    name,\r\n                    type,\r\n                    value: (type === 'number' && isNaN(val)) ? 0 : val + 1,\r\n                }\r\n            });\r\n            return setText(val + 1);\r\n        },\r\n        [editor, type, setText, onChange, max, getText, min, name],\r\n    );\r\n\r\n    const handleDecrement = useCallback(\r\n        () => {\r\n            let val = getText();\r\n            if (!editor || type !== 'number') return;\r\n            if (!val.length || val === '-') return setText(min ?? 0);\r\n            val = parseInt(val);\r\n            if (min !== null && (val - 1 < min)) return;\r\n            if(onChange) onChange({\r\n                target : {\r\n                    name,\r\n                    type,\r\n                    value: (type === 'number' && isNaN(val)) ? 0 : val - 1,\r\n                }\r\n            });\r\n            return setText(val - 1);\r\n        },\r\n        [editor, type, setText, onChange, min, getText, name],\r\n    );\r\n\r\n    if(!editor){\r\n        return (<div>Conectando...</div>);\r\n    }\r\n\r\n    return <div className={classes.root}>\r\n        <div className={classes.inputContainer} onClick={() => {\r\n            if (!focused) editor.chain().focus('end').run()\r\n        }}>\r\n            <EditorContent editor={editor} className={`${classes.editorx}`} />\r\n        </div>\r\n        {\r\n            type === 'number' && (\r\n                <div className={classes.actions}>\r\n                    <Box className={classes.action} component={ButtonBase} onClick={handleIncrement}>\r\n                        <ArrowDropUp />\r\n                    </Box>\r\n                    <Divider />\r\n                    <Box className={classes.action} component={ButtonBase} onClick={handleDecrement}>\r\n                        <ArrowDropDown />\r\n                    </Box>\r\n                </div>\r\n            )\r\n        }\r\n    </div>;\r\n});\r\n\r\nconst initialValuePropsAreEqual = (prevProps, nextProps) => {\r\n    return prevProps.initialvalue === nextProps.initialvalue;\r\n}\r\n\r\nexport const MemorizedSharedTextfieldTipTapEditor = React.memo(SharedTextfieldTipTapEditor, initialValuePropsAreEqual);","import React, { forwardRef, useEffect, useImperativeHandle, useRef } from 'react';\r\nimport { IconButton, makeStyles, Typography, Tooltip, Paper, MenuItem, FormControl, Select, TextField, Box, InputLabel, useTheme, useMediaQuery, Button } from '@material-ui/core';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { useForm } from 'hooks/useForm';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { MemorizedSharedTextfieldTipTapEditor } from 'components/SharedTextFieldTipTapEditor';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Delete } from '@material-ui/icons';\r\nimport { useSharedDocContext } from 'contexts/SharedDocContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    trashIcon: {\r\n        display: 'flex',\r\n    },\r\n    tasksSpacing: {\r\n        position: 'relative',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: theme.spacing(1),\r\n        background: theme.palette.background.workSpace\r\n    },\r\n    taskBody: {\r\n        padding: 10,\r\n        position: 'relative',\r\n        left: '5%',\r\n        width: '95%',\r\n        height: '100%',\r\n    },\r\n    taskSpacingDescription: {\r\n        marginLeft: theme.spacing(2),\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    taskSpacingDescriptionBD: {\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    colorLearningType: {\r\n        position: 'absolute',\r\n        width: '5%',\r\n        height: '100%',\r\n    },\r\n    timeField: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginRight: 10,\r\n        [theme.breakpoints.down('md')]: {\r\n            marginRight: 0,\r\n        },\r\n    },\r\n    grid: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    gridContainer: {\r\n        display: 'grid',\r\n        gridTemplateColumns: '50% 50%',\r\n        gridTemplateRows: 'auto',\r\n        gridTemplateAreas: `\r\n            'learningType modality'\r\n            'workingTime format'\r\n            'description description'`,\r\n        [theme.breakpoints.down('md')]: {\r\n            gridTemplateAreas: `\r\n                'learningType learningType'\r\n                'modality modality'\r\n                'format format'\r\n                'workingTime workingTime'\r\n                'description description'`,\r\n        },\r\n    },\r\n    firstRow: {\r\n        display: 'grid',\r\n        gridTemplateColumns: 'auto auto 10%',\r\n        gridTemplateRows: 'auto',\r\n        gridTemplateAreas: `'learningType modality'`,\r\n    },\r\n    learningTypeContainer:{\r\n        gridArea: 'learningType',\r\n        width: '100%',\r\n        display: 'flex',\r\n    },\r\n    learningType:{\r\n        marginRight: 10,\r\n        [theme.breakpoints.down('md')]: {\r\n            marginRight: 0,\r\n            marginTop: 10,\r\n        },\r\n    },\r\n    modality: {\r\n        gridArea: 'modality',\r\n        width: '100%',\r\n        display: 'flex',\r\n        [theme.breakpoints.down('md')]: {\r\n            marginTop: 10,\r\n        },\r\n    },\r\n    format: {\r\n        gridArea: 'format',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignSelf: 'flex-end',\r\n        [theme.breakpoints.down('md')]: {\r\n            marginTop: 10,\r\n        },\r\n    },\r\n    delete: {\r\n        alignSelf: 'flex-start',\r\n        justifySelf: 'center',\r\n    },\r\n    resourceLinkGrid:{\r\n        display: 'grid',\r\n        gridTemplateColumns: '25% 75%',\r\n    },\r\n    fab: {\r\n        maxHeight: \"20px\",\r\n        minHeight: \"20px\",\r\n        minWidth: \"20px\",\r\n        maxWidth: \"20px\",\r\n    },\r\n    icon:{\r\n        maxHeight: \"15px\",\r\n        minHeight: \"15px\",\r\n        minWidth: \"15px\",\r\n        maxWidth: \"15px\",\r\n    }\r\n}));\r\n\r\nexport const Task = forwardRef(({ learningActivityIndex, index, task, learningActivityID, sumHours, sumMinutes, refTask, ...rest }, ref) => {\r\n    const classes = useStyles();\r\n    const { socket, online, emitWithTimeout } = useSocketState();\r\n    const { connected } = useSharedDocContext();\r\n    const isMounted = useRef(true);\r\n    const hoursRef = useRef();\r\n    const minutesRef = useRef();\r\n    const descriptionRef = useRef();\r\n    const { designState } = useDesignState();\r\n    const { design } = designState;\r\n    const { metadata } = design;\r\n    const { uiState, dispatch } = useUiState();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const theme = useTheme();\r\n    const isMediumDevice = useMediaQuery(theme.breakpoints.down('md'));\r\n\r\n    const [form, handleInputChange, , setValues] = useForm({\r\n        description: task.description,\r\n        learningType: task.learningType && task.learningType.trim() !== '' ? task.learningType : 'Seleccionar',\r\n        modality: task.modality && task.modality.trim() !== '' ? task.modality : 'Seleccionar',\r\n        format: task.format && task.format.trim() !== '' ? task.format : 'Seleccionar',\r\n        timeHours: task.duration.hours ?? 0,\r\n        timeMinutes: task.duration.minutes ?? 0,\r\n        timeDesignHours: metadata.workingTimeDesign.hours ?? 0,\r\n        timeDesignMinutes: metadata.workingTimeDesign.minutes ?? 0,\r\n        groupSize: task.groupSize && task.groupSize !== 2 ? task.groupSize : 2,\r\n    });\r\n\r\n    useEffect(() => {\r\n        if(uiState.newTask && refTask.current !== null){\r\n            refTask.current.scrollIntoView(false);\r\n            dispatch({\r\n                type: types.ui.setScrollToNewTask,\r\n                payload: false\r\n            })\r\n        }\r\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    useImperativeHandle(\r\n        ref,\r\n        () => ({\r\n            clearTexts: () => {\r\n                hoursRef?.current?.clearText();\r\n                minutesRef?.current?.clearText();\r\n                descriptionRef?.current?.clearText();\r\n            }\r\n        }),\r\n    );\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.description !== task.description) {\r\n                setValues((prevState) => ({\r\n                    ...prevState,\r\n                    description: task.description,\r\n                }));\r\n            }\r\n        }\r\n    }, [form.description, task.description, setValues]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.learningType !== task.learningType) {\r\n                setValues((prevState) => ({\r\n                    ...prevState,\r\n                    learningType: task.learningType && task.learningType.trim() !== '' ? task.learningType : 'Seleccionar',\r\n                }));\r\n            }\r\n        }\r\n    }, [form.learningType, task.learningType, setValues]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.modality !== task.modality) {\r\n                setValues((prevState) => ({\r\n                    ...prevState,\r\n                    modality: task.modality && task.modality.trim() !== '' ? task.modality : 'Seleccionar',\r\n                }));\r\n            }\r\n        }\r\n    }, [form.modality, task.modality, setValues]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.format !== task.format) {\r\n                setValues((prevState) => ({\r\n                    ...prevState,\r\n                    format: task.format && task.format.trim() !== '' ? task.format : 'Seleccionar',\r\n                }));\r\n            }\r\n        }\r\n    }, [form.format, task.format, setValues]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.timeHours !== task.duration.hours) {\r\n                setValues((prevState) => ({\r\n                    ...prevState,\r\n                    timeHours: task.duration.hours ?? 0,\r\n                }));\r\n            }\r\n        }\r\n    }, [form.timeHours, task.duration.hours, setValues]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.timeMinutes !== task.duration.minutes) {\r\n                setValues((prevState) => ({\r\n                    ...prevState,\r\n                    timeMinutes: task.duration.minutes ?? 0,\r\n                }));\r\n            }\r\n        }\r\n    }, [form.timeMinutes, task.duration.minutes, setValues]);\r\n\r\n    const { description, learningType, modality, format, timeHours, timeMinutes, groupSize } = form;\r\n\r\n    const handleEditTaskField = ({ target }) => {\r\n        let { name: field, value } = target;\r\n        let subfield = null;\r\n        if (field.includes('description')) field = 'description';\r\n        else if (field.includes('timeHours')) {\r\n            field = 'duration';\r\n            subfield = 'hours';\r\n            value = isNaN(value) ? 0 : value;\r\n        } else if (field.includes('timeMinutes')) {\r\n            field = 'duration';\r\n            subfield = 'minutes';\r\n            value = isNaN(value) ? 0 : value;\r\n        }\r\n        if(isMounted.current) handleInputChange({ target });\r\n        socket?.emit('edit-task-field', { designId: design._id, learningActivityID, taskID: task.id, field, value, subfield, sumHours, sumMinutes}, emitWithTimeout(\r\n            (resp) => {\r\n                if(!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n                if(uiState.userSaveDesign){\r\n                    dispatch({\r\n                        type: types.ui.setUserSaveDesign,\r\n                        payload: false,\r\n                    });\r\n                }\r\n            },\r\n            () => {if(!online || !connected) enqueueSnackbar(\r\n                subfield ? `Error al editar el campo \"${subfield}\" del campo \"${field}\". Por favor revise su conexión. Tiempo de espera excedido.` : `Error al editar el campo \"${field}\". Por favor revise su conexión. Tiempo de espera excedido.`, \r\n                { variant: 'error', autoHideDuration: 2000 }\r\n            );},\r\n        ));\r\n    };\r\n\r\n    const handleOpenResourceModal = () => {\r\n        dispatch({\r\n            type: types.ui.setResourceLink,\r\n            payload: {\r\n                learningActivityIndex: learningActivityIndex,\r\n                taskIndex: index,\r\n            },\r\n        });\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Resource',\r\n        });\r\n    }\r\n\r\n    const handleDeleteTask = (index) => {\r\n        if (description === \"\" && learningType === 'Seleccionar' && modality === 'Seleccionar' && format === 'Seleccionar' && timeHours === 0 && timeMinutes === 0) {\r\n            hoursRef?.current?.clearText();\r\n            minutesRef?.current?.clearText();\r\n            descriptionRef?.current?.clearText();\r\n            socket?.emit('delete-task', { designId: design._id, learningActivityID, taskID: task.id }, emitWithTimeout(\r\n                (resp) => {\r\n                    if(resp.ok && uiState.userSaveDesign){\r\n                        dispatch({\r\n                            type: types.ui.setUserSaveDesign,\r\n                            payload: false,\r\n                        });\r\n                    }\r\n                    return enqueueSnackbar(resp.message, { variant: resp.ok ? 'success': 'error', autoHideDuration: 2000 });\r\n                },\r\n                () => enqueueSnackbar('Error al eliminar la tarea. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n            ));\r\n        } else {\r\n            dispatch({\r\n                type: types.ui.setConfirmData,\r\n                payload: {\r\n                    type: 'tarea',\r\n                    args: { designId: design._id, learningActivityID, taskID: task.id },\r\n                    actionMutation: null,\r\n                }\r\n            });\r\n            dispatch({\r\n                type: types.ui.openModal,\r\n                payload: 'Confirmation',\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleChangeDropdown = (e) => {\r\n        if (isMounted.current) handleInputChange(e);\r\n        socket?.emit('edit-task-field', { designId: design._id, learningActivityID, taskID: task.id, field: e.target.name, value: e.target.value, subfield: null }, emitWithTimeout(\r\n            (resp) => {\r\n                if(!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n                if(uiState.userSaveDesign){\r\n                    dispatch({\r\n                        type: types.ui.setUserSaveDesign,\r\n                        payload: false,\r\n                    });\r\n                }\r\n            },\r\n            () => enqueueSnackbar(\r\n                `Error al editar el campo \"${e.target.name}\". Por favor revise su conexión. Tiempo de espera excedido.`, \r\n                { variant: 'error', autoHideDuration: 2000 }\r\n            ),\r\n        ));\r\n    };\r\n\r\n    useEffect(() => {\r\n        if(design.metadata.workingTimeDesign.hours >= design.metadata.workingTime.hours){\r\n            if(design.metadata.workingTimeDesign.hours > design.metadata.workingTime.hours){\r\n                enqueueSnackbar('Su tiempo de trabajo de diseño es mayor al tiempo de trabajo definido, por favor disminuya el tiempo de trabajo asignado en las tareas o aumente el tiempo en los metadatos.', { variant: 'warning', autoHideDuration: 5000, preventDuplicate: true });\r\n            } else {\r\n                if(design.metadata.workingTimeDesign.minutes > design.metadata.workingTime.minutes){\r\n                    enqueueSnackbar('Su tiempo de trabajo de diseño es mayor al tiempo de trabajo definido, por favor disminuya el tiempo de trabajo asignado en las tareas o aumente el tiempo en los metadatos.', { variant: 'warning', autoHideDuration: 5000, preventDuplicate: true });\r\n                }\r\n            }\r\n        }\r\n    }, [design.metadata.workingTimeDesign.hours, design.metadata.workingTime.hours, design.metadata.workingTimeDesign.minutes, design.metadata.workingTime.minutes, enqueueSnackbar])\r\n\r\n    const listTasksArray = () => {\r\n        return (\r\n            <Box key={index} style={{ height: '100%' }} ref = {refTask}>\r\n                <Paper square className={classes.tasksSpacing}>\r\n                    <Box style={{ display: 'flex', position: 'relative', height: '100%', width: '100%' }}>\r\n                        {(() => {\r\n                            if (task.learningType === 'Investigación') {\r\n                                return (\r\n                                    <Box className={classes.colorLearningType} style={{ backgroundColor: '#57A8E7' }}></Box>\r\n                                )\r\n                            } else if (task.learningType === 'Adquisición') {\r\n                                return (\r\n                                    <Box className={classes.colorLearningType} style={{ backgroundColor: '#E95D5D' }}></Box>\r\n                                )\r\n                            } else if (task.learningType === 'Producción') {\r\n                                return (\r\n                                    <Box className={classes.colorLearningType} style={{ backgroundColor: '#C8951F' }}></Box>\r\n                                )\r\n                            } else if (task.learningType === 'Discusión') {\r\n                                return (\r\n                                    <Box className={classes.colorLearningType} style={{ backgroundColor: '#087A4C' }}></Box>\r\n                                )\r\n                            } else if (task.learningType === 'Colaboración') {\r\n                                return (\r\n                                    <Box className={classes.colorLearningType} style={{ backgroundColor: '#DFDF3F' }}></Box>\r\n                                )\r\n                            } else if (task.learningType === 'Práctica') {\r\n                                return (\r\n                                    <Box className={classes.colorLearningType} style={{ backgroundColor: '#A75BCD' }}></Box>\r\n                                )\r\n                            }\r\n                        })()}\r\n                        <div className={classes.taskBody}>\r\n                            <div className={classes.gridContainer}>\r\n                                <div className={classes.learningTypeContainer}>\r\n                                    <FormControl fullWidth variant='outlined' className={classes.learningType}>\r\n                                        <InputLabel id={`learningType-task-${task.id}-learningActivity-${learningActivityID}`} shrink>Aprendizaje</InputLabel>\r\n                                        <Select\r\n                                            labelId={`learningType-task-${task.id}-learningActivity-${learningActivityID}`}\r\n                                            label='Aprendizaje'\r\n                                            name='learningType'\r\n                                            value={learningType}\r\n                                            onChange={handleChangeDropdown}\r\n                                        >\r\n                                            <MenuItem value={'Seleccionar'}> Seleccionar </MenuItem>\r\n                                            <MenuItem value={'Investigación'}> Investigación </MenuItem>\r\n                                            <MenuItem value={'Adquisición'}> Adquisición </MenuItem>\r\n                                            <MenuItem value={'Producción'}> Producción </MenuItem>\r\n                                            <MenuItem value={'Discusión'}> Discusión </MenuItem>\r\n                                            <MenuItem value={'Colaboración'}> Colaboración </MenuItem>\r\n                                            <MenuItem value={'Práctica'}> Práctica </MenuItem>\r\n\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                    {isMediumDevice && (<Tooltip title=\"Eliminar tarea\" className={classes.delete}>\r\n                                        <IconButton onClick={() => handleDeleteTask(index)}>\r\n                                            <Delete fontSize=\"small\" />\r\n                                        </IconButton>\r\n                                    </Tooltip>)}\r\n                                </div>\r\n                                <div className={classes.modality}>\r\n                                    <FormControl fullWidth variant='outlined'>\r\n                                        <InputLabel id={`modality-task-${task.id}-learningActivity-${learningActivityID}`} shrink> Modalidad </InputLabel>\r\n                                        <Select\r\n                                            labelId={`modality-task-${task.id}-learningActivity-${learningActivityID}`}\r\n                                            label='Aprendizaje'\r\n                                            name='modality'\r\n                                            value={modality}\r\n                                            onChange={handleChangeDropdown}\r\n                                        >\r\n                                            <MenuItem value={'Seleccionar'}> Seleccionar </MenuItem>\r\n                                            <MenuItem value={'Presencial-Asíncrono'}> Presencial-Asíncrono</MenuItem>\r\n                                            <MenuItem value={'Presencial-Síncrono'}> Presencial-Síncrono</MenuItem>\r\n                                            <MenuItem value={'Online-Asíncrono'}> Online-Asíncrono</MenuItem>\r\n                                            <MenuItem value={'Online-Síncrono'}> Online-Síncrono</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                    {!isMediumDevice && (<Tooltip title=\"Eliminar tarea\" className={classes.delete}>\r\n                                        <IconButton onClick={() => handleDeleteTask(index)}>\r\n                                            <Delete fontSize=\"small\" />\r\n                                        </IconButton>\r\n                                    </Tooltip>)}\r\n                                </div>\r\n                                <div style={{ width: '100%', gridArea: 'workingTime', marginTop: 3 }}>\r\n                                    <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom> Tiempo de trabajo </Typography>\r\n                                    <div className={classes.timeField}>\r\n                                        <TextField\r\n                                            label='Horas'\r\n                                            InputLabelProps = {{shrink: true}}\r\n                                            fullWidth\r\n                                            margin='none'\r\n                                            variant='outlined'\r\n                                            color='primary'\r\n                                            InputProps={{\r\n                                                inputComponent: MemorizedSharedTextfieldTipTapEditor,\r\n                                                inputProps: {\r\n                                                    ref: hoursRef,\r\n                                                    name: `timeHours-task-${task.id}-learning-activity-${learningActivityID}`, // TODO: Cambiar y utilizar id generada en mongo como nombre de dato compartido.\r\n                                                    placeholder: 'Horas',\r\n                                                    initialvalue: timeHours,\r\n                                                    onChange: handleEditTaskField,\r\n                                                    type: 'number',\r\n                                                    min: 0,\r\n                                                }\r\n                                            }}\r\n                                        />\r\n                                        <Typography style={{ marginLeft: 10, marginRight: 10 }}> : </Typography>\r\n                                        <TextField\r\n                                            label='Minutos'\r\n                                            InputLabelProps = {{shrink: true}}\r\n                                            fullWidth\r\n                                            margin='none'\r\n                                            variant='outlined'\r\n                                            color='primary'\r\n                                            InputProps={{\r\n                                                inputComponent: MemorizedSharedTextfieldTipTapEditor,\r\n                                                inputProps: {\r\n                                                    ref: minutesRef,\r\n                                                    name: `timeMinutes-task-${task.id}-learning-activity-${learningActivityID}`, // TODO: Cambiar y utilizar id generada en mongo como nombre de dato compartido.\r\n                                                    placeholder: 'Minutos',\r\n                                                    initialvalue: timeMinutes,\r\n                                                    onChange: handleEditTaskField,\r\n                                                    type: 'number',\r\n                                                    min: 0,\r\n                                                    max: 59,\r\n                                                }\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                    \r\n                                </div>\r\n                                <div style={{marginTop: 20}}>\r\n                                    <Button variant={'outlined'} onClick={handleOpenResourceModal}> Administrar recursos</Button>\r\n                                </div>\r\n                                <div className={classes.format}>\r\n                                    <FormControl fullWidth variant='outlined' >\r\n                                        <InputLabel id={`format-task-${task.id}-learningActivity-${learningActivityID}`} shrink> Formato </InputLabel>\r\n                                        <Select\r\n                                            labelId={`format-task-${task.id}-learningActivity-${learningActivityID}`}\r\n                                            label='Formato'\r\n                                            name='format'\r\n                                            value={format}\r\n                                            onChange={handleChangeDropdown}\r\n                                        >\r\n                                            <MenuItem value={'Seleccionar'}> Seleccionar </MenuItem>\r\n                                            <MenuItem value={'Grupal'}> Grupal</MenuItem>\r\n                                            <MenuItem value={'Individual'}> Individual</MenuItem>\r\n                                            <MenuItem value={'Toda la clase'}> Toda la clase</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                    { (format === 'Grupal') &&\r\n                                        (design.metadata.classSize > 1) &&\r\n                                            <FormControl fullWidth variant='outlined'>\r\n                                                <InputLabel id={`group-task-${task.id}-learningActivity-${learningActivityID}`} shrink> Personas </InputLabel>\r\n                                                <Select\r\n                                                    labelId={`group-quantity-task-${task.id}-learningActivity-${learningActivityID}`}\r\n                                                    label='Cantidad'\r\n                                                    name='groupSize'\r\n                                                    value={groupSize}\r\n                                                    onChange={handleChangeDropdown}\r\n                                                    type = 'number'\r\n                                                >\r\n                                                {/* \r\n                                                    Array.from({ length: (design.metadata.classSize-1)}, (_, i) => (\r\n                                                            {i}\r\n                                                    ))\r\n                                                */}\r\n                                                <MenuItem value={2}> {2} </MenuItem>\r\n                                                <MenuItem value={3}> {3} </MenuItem>\r\n                                                <MenuItem value={4}> {4} </MenuItem>\r\n                                                <MenuItem value={5}> {5} </MenuItem>\r\n                                                </Select>\r\n                                            </FormControl>\r\n                                    }\r\n                                </div>\r\n                                <TextField\r\n                                    style={{ gridArea: 'description', marginTop: 10, }}\r\n                                    InputLabelProps = {{shrink: true}}\r\n                                    label='Descripción'\r\n                                    fullWidth\r\n                                    margin='none'\r\n                                    variant='outlined'\r\n                                    color='primary'\r\n                                    InputProps={{\r\n                                        inputComponent: MemorizedSharedTextfieldTipTapEditor,\r\n                                        inputProps: {\r\n                                            ref: descriptionRef,\r\n                                            name: `description-task-${task.id}-learning-activity-${learningActivityID}`, // TODO: Cambiar y utilizar id generada en mongo como nombre de dato compartido.\r\n                                            placeholder: 'Descripción',\r\n                                            initialvalue: description,\r\n                                            onChange: handleEditTaskField,\r\n                                            multiline: true,\r\n                                        }\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </Box>\r\n                </Paper>\r\n            </Box >\r\n        )\r\n    }\r\nreturn (\r\n    <>\r\n        {\r\n            listTasksArray()\r\n        }\r\n    </>\r\n)\r\n})\r\n","import React from 'react';\r\nimport { makeStyles, Tooltip, Typography } from '@material-ui/core';\r\nimport { useUserConfigState } from 'contexts/UserConfigContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        border: `1px solid ${theme.palette.divider}`,\r\n        height: '100%',\r\n    },\r\n    title:{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    colorBox: {\r\n        width: 10,\r\n        height: 10,\r\n        marginRight: 5,\r\n        border: `1px solid #dddddd`,\r\n    },\r\n    colorBoxRightPanel: {\r\n        width: 13,\r\n        height: 13,\r\n        marginRight: 5,\r\n    },\r\n    spacingGraphic:{\r\n        marginTop: theme.spacing(1),\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    legend:{\r\n        marginTop: theme.spacing(0.5),\r\n        marginLeft: theme.spacing(0.5),\r\n        marginRight: theme.spacing(0.5),\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n}));\r\n\r\nexport const StackedBar = ({ height = 25, items, type, legends, colorGraphicToPdf }) => {\r\n    const classes = useStyles();\r\n    const { userConfig } = useUserConfigState();\r\n    let colors = [];\r\n    let valueTotal = 0;\r\n    \r\n    items.map ((item) =>( valueTotal = item.value + valueTotal));\r\n    \r\n    if( type === 'Activity' ){ (userConfig.darkTheme) ? colors = ['#57A8E7', '#E95D5D', '#C8951F', '#087A4C', '#DFDF3F', '#A75BCD'] : colors = ['#57A8E7', '#E95D5D', '#C8951F', '#087A4C', '#DFDF3F', '#A75BCD'];}\r\n    else if( type === 'Format'){ (userConfig.darkTheme) ? colors = ['rgba(61, 156, 65, 0.8)', 'rgba(224, 243, 225, 0.8)', 'rgba(102, 242, 108, 0.75)'] : colors = ['rgba(61, 156, 65, 0.8)', 'rgba(224, 243, 225, 0.8)', 'rgba(102, 242, 108, 0.75)'];}\r\n    else if( type === 'Modality' ){ (userConfig.darkTheme) ? colors = ['#A6CAF6', '#6996CD', '#5FA2EF', '#135BB3'] : colors = ['#A6CAF6', '#6996CD', '#5FA2EF', '#135BB3']};\r\n    \r\n    return (\r\n        <>  \r\n            <div className={classes.root} style={{height}} >\r\n                {   \r\n                    items.map( (item, index) => (\r\n                        <Tooltip \r\n                            key={`nombreGrafico${index}`} \r\n                            title={\r\n                                <div className={classes.title}>\r\n                                    <div className={classes.colorBox} style={{backgroundColor: colors[index]}}></div>\r\n                                    {`${item.title}: ${((item.value * 100)/valueTotal).toFixed(1)}%`}\r\n                                </div>\r\n                            } \r\n                            arrow\r\n                        >\r\n                            <div\r\n                                style={{\r\n                                    width: `${item.value * 100}%`, \r\n                                    height: '100%', \r\n                                    backgroundColor: colors[index]\r\n                                    }}\r\n                                >\r\n                            </div>\r\n                        </Tooltip>\r\n                    ))\r\n                }\r\n            </div>\r\n            {   \r\n                (legends) && \r\n                <div className={classes.spacingGraphic}>\r\n                    { items.map ((item, index) =>( \r\n                        <div className={classes.legend} key = {`legends-${index}`}  >\r\n                            <div className={classes.colorBoxRightPanel} style={{backgroundColor: colors[index]}}></div>\r\n                            {colorGraphicToPdf ? \r\n                                <Typography variant=\"caption\" > {item.title} </Typography> \r\n                                :\r\n                                <Typography variant=\"caption\" style={{color: \"#000000\"}}> {item.title} </Typography>\r\n                            }\r\n                        </div>)\r\n                    )}\r\n                </div>\r\n            }\r\n        </>\r\n    );\r\n};\r\n","export let itemsLearningType = [{\r\n    title: 'Investigación',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Adquisición',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Producción',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Discusión',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Colaboración',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Práctica',\r\n    value: 0,\r\n    minutes: 0,\r\n}];\r\n\r\nexport let itemsLearningTypePie = [{\r\n    title: 'Investigación',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Adquisición',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Producción',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Discusión',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Colaboración',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Práctica',\r\n    value: 0,\r\n    minutes: 0,\r\n}];\r\n\r\nexport let itemsFormat = [{\r\n    title: 'Grupal',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Individual',\r\n    value:0,\r\n    minutes: 0\r\n},{\r\n    title: 'Toda la clase',\r\n    value:0,\r\n    minutes: 0,\r\n}];\r\n\r\nexport let itemsModality = [{\r\n    title: 'Presencial-Asíncrono',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Presencial-Síncrono',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Online-Asíncrono',\r\n    value: 0,\r\n    minutes: 0,\r\n},{\r\n    title: 'Online-Síncrono',\r\n    value: 0,\r\n    minutes: 0,\r\n}];","import React, { createRef, forwardRef, useEffect, useRef, useState } from 'react';\r\nimport { Box, Checkbox, Divider, Fab, FormControlLabel, Grid, IconButton, makeStyles, Menu, MenuItem, Paper, TextField, Tooltip, Typography, useMediaQuery, useTheme } from '@material-ui/core'\r\nimport { Task } from 'pages/DesignPage/Workspace/Task';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { StackedBar } from 'components/StackedBar';\r\nimport { useForm } from 'hooks/useForm';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { MemorizedSharedTextfieldTipTapEditor } from 'components/SharedTextFieldTipTapEditor';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\nimport { useSnackbar } from 'notistack';\r\nimport { itemsLearningType } from 'assets/resource/items'\r\nimport { Add, Delete, ListAlt, MoreVert, Reorder } from '@material-ui/icons';\r\nimport ObjectID from 'bson-objectid';\r\nimport { useSharedDocContext } from 'contexts/SharedDocContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    unitSpacing: {\r\n        marginBottom: theme.spacing(3),\r\n    },\r\n    titleUnitSpacing: {\r\n        display: 'flex',\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    graphicUnitSpacing: {\r\n        width: '100%',\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    trashIcon: {\r\n        marginLeft: \"auto\",\r\n    },\r\n    spacingDescriptionlearningActivity: {\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    spacingDescription: {\r\n        marginTop: theme.spacing(2),\r\n        marginRight: theme.spacing(2)\r\n    },\r\n    spacingLinkedResults: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    buttonPos: {\r\n        marginTop: theme.spacing(1),\r\n        marginLeft: \"auto\",\r\n    },\r\n    gridTask: {\r\n        marginTop: theme.spacing(1),\r\n        marginLeft: theme.spacing(1),\r\n    },\r\n    descriptionContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        padding: theme.spacing(1),\r\n    },\r\n    learningResultList: {\r\n        display: 'flex',\r\n        flexWrap: 'nowrap',\r\n        flexDirection: 'column',\r\n        paddingLeft: 15,\r\n        maxHeight: 200,\r\n        overflow: 'auto',\r\n        overflowX: true,\r\n    },\r\n    delete: {\r\n        alignSelf: 'center',\r\n        justifySelf: 'center',\r\n    },\r\n    fab: {\r\n        position: 'absolute',\r\n        bottom: theme.spacing(-5),\r\n        right: theme.spacing(2),\r\n    },\r\n    taskContainer: {\r\n        position: 'relative', \r\n        marginBottom: theme.spacing(6),\r\n    },\r\n    ellipsis: {\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n}));\r\n\r\nexport const LearningActivity = forwardRef(({ index, learningActivity, sumHours, sumMinutes, refActivity, }, ref) => {\r\n    const classes = useStyles();\r\n    const { designState } = useDesignState();\r\n    const { design } = designState;\r\n    const { socket, online, emitWithTimeout } = useSocketState();\r\n    const { connected } = useSharedDocContext();\r\n    const { uiState, dispatch } = useUiState();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const theme = useTheme();\r\n    const isXSDevice = useMediaQuery(theme.breakpoints.down('xs'));\r\n    const [isMenuOpen, setMenuOpen] = useState(null);\r\n    const isMounted = useRef(true);\r\n    \r\n    const titleRef = useRef();\r\n    const descriptionRef = useRef();\r\n    const taskRefs = useRef([]);\r\n\r\n    const refs = learningActivity.tasks.reduce((task, value) => {\r\n        task[value.id] = createRef();\r\n        return task;\r\n    }, {});\r\n    \r\n    const [form, handleInputChange, , setValues] = useForm({\r\n        title: learningActivity.title,\r\n        description: learningActivity.description,\r\n    });\r\n\r\n    useEffect(() => {\r\n        if(uiState.newActivity && refActivity.current !== null){\r\n            refActivity.current.scrollIntoView(false);\r\n            dispatch({\r\n                type: types.ui.setScrollToNewActivity,\r\n                payload: false\r\n            })\r\n        }\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    useEffect(() => {\r\n        setValues({\r\n            title: learningActivity.title,\r\n            description: learningActivity.description,\r\n        });\r\n    }, [design, setValues, learningActivity]);\r\n\r\n    const { title, description } = form;\r\n    \r\n    const handleDeleteUnit = () => {\r\n        if (title === \"\" && description === \"\" && learningActivity.learningResults.length === 0 && (learningActivity.tasks === undefined || learningActivity.tasks.length === 0)) {\r\n            taskRefs?.current?.forEach(task => task?.clearTexts());\r\n            titleRef?.current?.clearText();\r\n            descriptionRef?.current?.clearText();\r\n            socket?.emit('delete-learningActivity', { designId: design._id, learningActivityID: learningActivity.id }, emitWithTimeout(\r\n                (resp) => {\r\n                    if(resp.ok && uiState.userSaveDesign){\r\n                        dispatch({\r\n                            type: types.ui.setUserSaveDesign,\r\n                            payload: false,\r\n                        });\r\n                    }\r\n                    return enqueueSnackbar(resp.message, { variant: resp.ok ? 'success': 'error', autoHideDuration: 2000 });\r\n                },\r\n                () => enqueueSnackbar('Error al eliminar la actividad. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n            ));\r\n        } else {\r\n            dispatch({\r\n                type: types.ui.setConfirmData,\r\n                payload: {\r\n                    type: 'actividad',\r\n                    args: { designId: design._id, learningActivityID: learningActivity.id },\r\n                    actionMutation: null,\r\n                }\r\n            });\r\n            dispatch({\r\n                type: types.ui.openModal,\r\n                payload: 'Confirmation',\r\n            });\r\n        }\r\n        if(uiState.userSaveDesign){\r\n            dispatch({\r\n                type: types.ui.setUserSaveDesign,\r\n                payload: false,\r\n            })\r\n        };\r\n    };\r\n\r\n    const resetItems = () => {\r\n        itemsLearningType.forEach((item) => {\r\n            item.value = 0;\r\n        });\r\n    };\r\n    \r\n    const handleAddTask = () => {\r\n        const id = ObjectID().toString();        \r\n        socket?.emit('new-task', { designId: design._id, learningActivityID: learningActivity.id, id }, emitWithTimeout(\r\n            (resp) => {\r\n                if(!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n                if(uiState.userSaveDesign){\r\n                    dispatch({\r\n                        type: types.ui.setUserSaveDesign,\r\n                        payload: false,\r\n                    });\r\n                }\r\n            },\r\n            () => enqueueSnackbar('Error al agregar la tarea. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n        ));\r\n        dispatch({\r\n            type: types.ui.setScrollToNewTask,\r\n            payload: true\r\n        });\r\n    };\r\n\r\n    const handleReorderTasksModalOpen = () => {\r\n        dispatch({\r\n            type: types.ui.setReorderTasksModalState,\r\n            payload: {\r\n                learningActivityId: design.data.learningActivities[index].id,\r\n                tasks: design.data.learningActivities[index].tasks\r\n            }\r\n        });\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'ReorderTasks',\r\n        });\r\n    };\r\n\r\n    const handleToggleLearningResult = (e, isSelected, result) => {\r\n        if (isSelected) {\r\n            let indexLearningResults = 0;\r\n            learningActivity.learningResults.forEach((r, _indexLearningResults) => {\r\n                if (r.verb === result.verb && r.description === result.description) indexLearningResults = _indexLearningResults;\r\n            });\r\n            socket?.emit('delete-learning-result-from-learningActivity', {\r\n                designId: design._id,\r\n                learningActivityID: learningActivity.id,\r\n                indexLearningResults\r\n            }, emitWithTimeout(\r\n                (resp) => {\r\n                    if(!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n                    if(uiState.userSaveDesign){\r\n                        dispatch({\r\n                            type: types.ui.setUserSaveDesign,\r\n                            payload: false,\r\n                        });\r\n                    }\r\n                },\r\n                () => enqueueSnackbar('Error al desvincular el aprendizaje esperado de la actividad. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n            ));\r\n        } else {\r\n            socket?.emit('add-learning-result-to-learningActivity', {\r\n                designId: design._id,\r\n                learningActivityID: learningActivity.id,\r\n                result\r\n            }, emitWithTimeout(\r\n                (resp) => {\r\n                    if(!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n                    if(uiState.userSaveDesign){\r\n                        dispatch({\r\n                            type: types.ui.setUserSaveDesign,\r\n                            payload: false,\r\n                        });\r\n                    }\r\n                },\r\n                () => enqueueSnackbar('Error al vincular el aprendizaje esperado a la actividad. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n            ));\r\n        }\r\n    };\r\n\r\n    const handleEditLearningActivityField = ({ target }) => {\r\n        let field = target.name;\r\n        if (target.name.includes('title')) field = 'title';\r\n        else if (target.name.includes('description')) field = 'description';\r\n        socket?.emit('edit-unit-field', { designId: design._id, learningActivityID: learningActivity.id, field, value: target.value }, emitWithTimeout(\r\n            (resp) => {\r\n                if(!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n                if(uiState.userSaveDesign){\r\n                    dispatch({\r\n                        type: types.ui.setUserSaveDesign,\r\n                        payload: false,\r\n                    });\r\n                }\r\n            },\r\n            () => {if(!online || !connected) enqueueSnackbar(`Error al editar el campo ${field} de la actividad. Por favor revise su conexión. Tiempo de espera excedido.`, { variant: 'error', autoHideDuration: 2000 });},\r\n        ));\r\n        if (isMounted.current) handleInputChange({ target: { ...target, name: field } });\r\n        \r\n    };\r\n\r\n    const linkedLearningResult = () => {\r\n        const learningResults = design.metadata.results.map(result => (\r\n                <FormControlLabel\r\n                    key={`learning-result-${result.verb}`}\r\n                    classes={{label: classes.ellipsis}}\r\n                    label={<Tooltip title={result.verb + ' ' + result.description} arrow>\r\n                        <Typography className={classes.ellipsis}>{result.verb + ' ' + result.description}</Typography>\r\n                    </Tooltip>}\r\n                    control={\r\n                        <Checkbox\r\n                            checked={!!learningActivity.learningResults.find(lr => lr.verb === result.verb)}\r\n                            onChange={(e) => handleToggleLearningResult(e,\r\n                                !!learningActivity.learningResults.find(lr => lr.verb === result.verb),\r\n                                result\r\n                            )}\r\n                        />\r\n                    }\r\n                />\r\n        ));\r\n        if (learningResults.length === 0) return <Box style={{marginLeft: -15, paddingRight: 10}} fontSize='caption.fontSize' fontStyle='italic' textAlign='justify'>\r\n            No hay aprendizajes esperados en este diseño. Para agregar aprendizajes esperados, por favor ve a la pestaña de metadatos.\r\n        </Box>;\r\n        return learningResults;\r\n    };\r\n\r\n    const handleOpenMenu = (e) => {\r\n        e.stopPropagation();\r\n        setMenuOpen(e.currentTarget);\r\n    };\r\n    \r\n    const handleOpenModalEvaluation = () =>{\r\n        setMenuOpen(null);\r\n        dispatch({\r\n            type: types.ui.setEvaluation,\r\n            payload: {\r\n                learningActivityIndex: index,\r\n            },\r\n        });\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Evaluation',\r\n        });\r\n    };\r\n\r\n    const listlearningActivityArray = () => {\r\n        return (\r\n            <Grid key={index} ref = {refActivity}>\r\n                <Paper className={classes.unitSpacing}>\r\n                    <Grid container>\r\n                        <Grid item xs={12} sm={5} className={classes.titleUnitSpacing}>\r\n                            <TextField\r\n                                label='Título'\r\n                                InputLabelProps = {{shrink: true}}\r\n                                fullWidth\r\n                                margin='none'\r\n                                variant='outlined'\r\n                                color='primary'\r\n                                InputProps={{\r\n                                    inputComponent: MemorizedSharedTextfieldTipTapEditor,\r\n                                    inputProps: {\r\n                                        ref: titleRef,\r\n                                        name: `title-learning-activity-${learningActivity.id}`,\r\n                                        placeholder: 'Título',\r\n                                        initialvalue: title,\r\n                                        onChange: handleEditLearningActivityField,\r\n                                    }\r\n                                }}\r\n                            />\r\n                            {isXSDevice && <>\r\n                                    <IconButton onClick={handleOpenMenu}>\r\n                                        <MoreVert />\r\n                                    </IconButton>\r\n                                    <Menu\r\n                                        onBlur={()=>setMenuOpen(null)}\r\n                                        anchorEl={isMenuOpen}\r\n                                        open={Boolean(isMenuOpen)}\r\n                                        anchorOrigin={{\r\n                                            vertical: 'top',\r\n                                            horizontal: 'right',\r\n                                        }}\r\n                                        keepMounted\r\n                                        transformOrigin={{\r\n                                            vertical: 'top',\r\n                                            horizontal: 'right',\r\n                                        }}\r\n                                        onClose={()=>setMenuOpen(null)}\r\n                                    >\r\n                                        <MenuItem onClick={handleOpenModalEvaluation}>\r\n                                            <ListAlt fontSize = 'small'/>\r\n                                            <Typography>Definir Evaluación</Typography>\r\n                                        </MenuItem>\r\n                                        {\r\n                                            designState.users.length > 1\r\n                                                ? <Tooltip title='Esta función no esta disponible de manera colaborativa, debe haber 1 solo usuario conectado.' arrow>\r\n                                                    <Box>\r\n                                                        <MenuItem disabled onClick={handleReorderTasksModalOpen}>\r\n                                                            <Reorder style={{marginRight: 10}} />\r\n                                                            <Typography>Ordenar Tareas</Typography>\r\n                                                        </MenuItem>\r\n                                                    </Box>\r\n                                                </Tooltip>\r\n                                                : <MenuItem onClick={handleReorderTasksModalOpen}>\r\n                                                    <Reorder style={{marginRight: 10}} />\r\n                                                    <Typography>Ordenar Tareas</Typography>\r\n                                                </MenuItem>\r\n                                        }\r\n                                        \r\n                                        <MenuItem onClick={handleDeleteUnit}>\r\n                                            <Delete fontSize=\"small\" />\r\n                                            <Typography>Eliminar</Typography>\r\n                                        </MenuItem>\r\n                                    </Menu>\r\n                                </>}\r\n                        </Grid>\r\n                        {resetItems()}\r\n                        <Grid item xs={12} sm={7} className={classes.graphicUnitSpacing}>\r\n                            {\r\n                                design.data.learningActivities[index] && design.data.learningActivities[index].tasks && design.data.learningActivities[index].tasks.forEach((task) => {\r\n                                    itemsLearningType.forEach((item) => {\r\n                                        if (item.title === task.learningType) {\r\n                                            item.minutes = (task.duration.hours * 60) + task.duration.minutes;\r\n                                            item.value = item.value + item.minutes;\r\n                                        }\r\n                                    });\r\n                                }\r\n                                )\r\n                            }\r\n                            <StackedBar items={itemsLearningType} type={'Activity'} />\r\n                            {!isXSDevice &&\r\n                                <>\r\n                                    <IconButton onClick={handleOpenMenu}>\r\n                                        <MoreVert />\r\n                                    </IconButton>\r\n                                    <Menu\r\n                                        onBlur={()=>setMenuOpen(null)}\r\n                                        anchorEl={isMenuOpen}\r\n                                        open={Boolean(isMenuOpen)}\r\n                                        anchorOrigin={{\r\n                                            vertical: 'top',\r\n                                            horizontal: 'right',\r\n                                        }}\r\n                                        keepMounted\r\n                                        transformOrigin={{\r\n                                            vertical: 'top',\r\n                                            horizontal: 'right',\r\n                                        }}\r\n                                        onClose={()=>setMenuOpen(null)}\r\n                                    >\r\n                                        <MenuItem onClick={handleOpenModalEvaluation}>\r\n                                            <ListAlt fontSize = 'small' style={{marginRight: 8}}/>\r\n                                            <Typography>Definir Evaluación</Typography>\r\n                                        </MenuItem>\r\n                                        {\r\n                                            designState.users.length > 1\r\n                                                ? <Tooltip title='Esta función no esta disponible de manera colaborativa, debe haber 1 solo usuario conectado.' arrow>\r\n                                                    <Box>\r\n                                                        <MenuItem disabled onClick={handleReorderTasksModalOpen}>\r\n                                                            <Reorder style={{marginRight: 10}} />\r\n                                                            <Typography>Ordenar Tareas</Typography>\r\n                                                        </MenuItem>\r\n                                                    </Box>\r\n                                                </Tooltip>\r\n                                                : <MenuItem onClick={handleReorderTasksModalOpen}>\r\n                                                    <Reorder style={{marginRight: 10}} />\r\n                                                    <Typography>Ordenar Tareas</Typography>\r\n                                                </MenuItem>\r\n                                        }\r\n                                        <MenuItem onClick={handleDeleteUnit}>\r\n                                            <Delete fontSize=\"small\" style={{marginRight: 8}}/>\r\n                                            <Typography>Eliminar Actividad</Typography>\r\n                                        </MenuItem>\r\n                                    </Menu>\r\n                                </>\r\n                            }\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Divider />\r\n                    <Grid container spacing={2} >\r\n                        <Grid item xs={12} sm={8} className={classes.taskContainer}>\r\n                            <Grid id='tasks' className={classes.gridTask}>\r\n                                {\r\n                                    design.data.learningActivities[index] && design.data.learningActivities[index].tasks && design.data.learningActivities[index].tasks.map((task, i) => <Task ref={(ref) => taskRefs.current.push(ref)} refTask = {refs[task.id]} key={`task-${task.id}-${i}-learningActivity-${index}`} index={i} task={task} learningActivityIndex={index} learningActivityID={learningActivity.id} sumHours={sumHours} sumMinutes={sumMinutes}/>)\r\n                                }\r\n                            </Grid>\r\n                            <Tooltip title='Agregar tarea' arrow>\r\n                                <Fab aria-label='add-task' className={classes.fab} size='small' color='primary' onClick={handleAddTask}>\r\n                                    <Add fontSize='small'/>\r\n                                </Fab>\r\n                            </Tooltip>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4} >\r\n                            <div className={classes.descriptionContainer}>\r\n                                <Grid className={classes.spacingDescription}>\r\n                                    <TextField\r\n                                        label='Descripción'\r\n                                        InputLabelProps = {{shrink: true}}\r\n                                        fullWidth\r\n                                        margin='none'\r\n                                        variant='outlined'\r\n                                        color='primary'\r\n                                        InputProps={{\r\n                                            inputComponent: MemorizedSharedTextfieldTipTapEditor,\r\n                                            inputProps: {\r\n                                                ref: descriptionRef,\r\n                                                name: `description-learning-activity-${learningActivity.id}`,\r\n                                                placeholder: 'Descripción',\r\n                                                initialvalue: description,\r\n                                                rowMax: 3,\r\n                                                multiline: true,\r\n                                                onChange: handleEditLearningActivityField,\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                                </Grid>\r\n                                <Typography variant=\"body2\" className={classes.spacingLinkedResults} color=\"textSecondary\"> Resultados Vinculados </Typography>\r\n                                <div className={classes.learningResultList}>\r\n                                    {\r\n                                        linkedLearningResult()\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Paper>\r\n            </Grid>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                listlearningActivityArray()\r\n            }\r\n        </>\r\n    )\r\n})\r\n","import React from 'react'\r\nimport PieChart, {\r\n    Legend,\r\n    Series,\r\n    Tooltip,\r\n  } from 'devextreme-react/pie-chart';\r\nimport { useUserConfigState } from 'contexts/UserConfigContext';\r\nimport 'devextreme/dist/css/dx.common.css';\r\nimport 'devextreme/dist/css/dx.light.css';\r\n\r\nexport const PieGraphic = ({items, colorGraphicToPdf}) => {\r\n    const { userConfig } = useUserConfigState();\r\n    \r\n    const customizeTooltip = (arg) =>{\r\n        return {\r\n          text: `${arg.argumentText} - ${(arg.percent * 100).toFixed(1)}%`\r\n        };\r\n    };\r\n    \r\n    return (\r\n        <>  \r\n            <div >\r\n                <PieChart\r\n                    id='pie'\r\n                    palette = {(userConfig.darkTheme) ? ['#57A8E7', '#E95D5D', '#C8951F', '#087A4C', '#DFDF3F', '#A75BCD'] : ['#57A8E7', '#E95D5D', '#C8951F', '#087A4C', '#DFDF3F', '#A75BCD']}\r\n                    dataSource={items}\r\n                    title = 'Análisis'\r\n                    theme = {(userConfig.darkTheme && colorGraphicToPdf) ? 'generic.contrast' : 'generic.light'}\r\n                >   \r\n                    <Series argumentField='title' valueField = 'value'/>\r\n                    <Legend\r\n                        verticalAlignment='bottom'\r\n                        horizontalAlignment='center'\r\n                        itemTextPosition='right'\r\n                        rowCount={2}\r\n                    />\r\n                    <Tooltip enabled={true} customizeTooltip={customizeTooltip} zIndex={2}>\r\n                    </Tooltip>\r\n                </PieChart>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\nimport { Avatar, Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, Divider, FormControl, Grid, IconButton, Link as MaterialLink, makeStyles, MenuItem, Select, TextField, Typography, useTheme } from '@material-ui/core';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport types from 'types';\r\nimport { Alert, Autocomplete } from '@material-ui/lab';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useQuery } from 'react-query';\r\nimport { getUser } from 'services/UserService';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { Link } from 'react-router-dom';\r\nimport { Add, FileCopy } from '@material-ui/icons';\r\nimport { CustomMenu } from 'components/CustomMenu';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n    titleSectionShare: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        margin: 'auto',\r\n        width: 'fit-content',\r\n    },\r\n    divSectionShare: {\r\n        padding: 20,\r\n    },\r\n}));\r\n\r\nexport const ShareModal = () => {\r\n    const theme = useTheme();\r\n    const classes = useStyles();\r\n    const isMounted = useRef(true);\r\n    const { uiState, dispatch } = useUiState();\r\n    const { designState } = useDesignState();\r\n    const { design } = designState;\r\n    const [user] = useState('');\r\n    const [inputUser, setInputUser] = useState('');\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { socket, emitWithTimeout } = useSocketState();\r\n    const [newPrivileges, setNewPrivileges] = useState([...design.privileges]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        }\r\n    }, []);\r\n\r\n    const { data, error, isError, isLoading } = useQuery(['user-profile', design.owner], async () => {\r\n        return await getUser(design.owner);\r\n    }, { refetchOnWindowFocus: false });\r\n\r\n    const handleAddContactInArray = (v) => {\r\n        if (!v) return;\r\n        const user = data.contacts.find(u => u.name === v);\r\n        if (!user) return;\r\n        const isInDesignContacts = design.privileges.map(privilege => privilege.user._id === user._id).reduce((a, b) => a || b);\r\n        if (!isInDesignContacts) {\r\n            if (isMounted.current)setNewPrivileges([...newPrivileges, { user, type: 1 }]);\r\n        } else {\r\n            enqueueSnackbar('El usuario ya se encuentra agregado', { variant: 'error', anchorOrigin: { vertical: 'bottom', horizontal: 'center' }, autoHideDuration: 2000 });\r\n        };\r\n        if(isMounted.current) setInputUser('');\r\n    };\r\n\r\n    const handleClose = () => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'Share'\r\n        });\r\n        setTimeout(() => {\r\n            if(isMounted.current) setNewPrivileges([...design.privileges]);\r\n        }, theme.transitions.duration.enteringScreen);\r\n    };\r\n\r\n    const handleAddContactInDesign = () => {\r\n        socket?.emit('change-design-privileges', { designId: design._id, privileges: [...newPrivileges] }, emitWithTimeout(\r\n            (resp) => {\r\n                if(!resp.ok) if(isMounted.current) setNewPrivileges([...design.privileges]);\r\n                enqueueSnackbar(resp.message, { variant: resp.ok ? 'success' : 'error', autoHideDuration: 2000 });\r\n            },\r\n            () => {\r\n                if(isMounted.current) setNewPrivileges([...design.privileges]);\r\n                enqueueSnackbar('Error al compartir el diseño. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 });\r\n            },\r\n        ));\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'Share'\r\n        });\r\n    };\r\n\r\n    const handleCopyLinkToClipboard = () => {\r\n        navigator.clipboard.writeText(process.env.REACT_APP_URL + 'shared-link/' + design.readOnlyLink);\r\n        enqueueSnackbar('Enlace copiado.', { variant: 'success', anchorOrigin: { vertical: 'bottom', horizontal: 'left' }, autoHideDuration: 2000 });\r\n    };\r\n\r\n    const handleGenerateLink = () => {\r\n        socket?.emit('generate-new-share-link', { designId: design._id }, emitWithTimeout(\r\n            (resp) => enqueueSnackbar(resp.message, { variant: resp.ok ? 'success' : 'error', autoHideDuration: 2000 }),\r\n            () => enqueueSnackbar('Error al generar el nuevo enlace. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n        ));\r\n    };\r\n\r\n    const handleChange = (e, type, index) => {\r\n        const v = e.target.value;\r\n        if (v === type) return;\r\n        if (v === 'Quitar') {\r\n            if (index === newPrivileges.length - 1) {\r\n                if (isMounted.current) setNewPrivileges([\r\n                    ...newPrivileges.slice(0, index),\r\n                ]);\r\n            } else {\r\n                if (isMounted.current) setNewPrivileges([\r\n                    ...newPrivileges.slice(0, index),\r\n                    ...newPrivileges.slice(index + 1, newPrivileges.length)\r\n                ]);\r\n            }\r\n        } else {\r\n            const p = { ...newPrivileges[index] };\r\n            p.type = v;\r\n            if (index === newPrivileges.length - 1) {\r\n                if(isMounted.current) setNewPrivileges([\r\n                    ...newPrivileges.slice(0, index),\r\n                    p,\r\n                ]);\r\n            } else {\r\n                if(isMounted.current) setNewPrivileges([\r\n                    ...newPrivileges.slice(0, index),\r\n                    p,\r\n                    ...newPrivileges.slice(index + 1, newPrivileges.length)\r\n                ]);\r\n            }\r\n        };\r\n    };\r\n\r\n    if (error) {\r\n        return (\r\n            <div className={classes.error}>\r\n                <Alert severity='error' variant='outlined'>\r\n                    {error}\r\n                </Alert>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (!design || !data) {\r\n        return (<Typography>Cargando...</Typography>);\r\n    };\r\n\r\n    const content = () => {\r\n        if (isLoading) {\r\n            return <Typography>Cargando...</Typography>\r\n        } else if (isError) {\r\n            return (\r\n                <div className={classes.error}>\r\n                    <Alert severity='error' variant='outlined'>\r\n                        {error}\r\n                    </Alert>\r\n                </div>)\r\n        } else {\r\n            return (\r\n                <>\r\n\r\n                    <div className={classes.divSectionShare}>\r\n                        <div className={classes.titleSectionShare}>\r\n                            <Typography color='textSecondary'> Compartir mediante enlace </Typography>\r\n                        </div>\r\n                        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginTop: 10, paddingLeft: 10, paddingRight: 10 }}>\r\n                            <Typography align='justify'> Mediante el siguiente enlace puedes compartir este diseño en modo solo lectura: </Typography>\r\n                            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                                <MaterialLink\r\n                                    style={{ wordBreak: 'break-word' }}\r\n                                    component={Link}\r\n                                    to={`/shared-link/${design.readOnlyLink}`}\r\n                                    onClick={handleClose}\r\n                                    align='center'\r\n                                >\r\n                                    {process.env.REACT_APP_URL + 'shared-link/' + design.readOnlyLink}\r\n                                </MaterialLink>\r\n                                <CustomMenu options={[\r\n                                    { icon: <FileCopy fontSize='small' />, label: 'Copiar enlace', onSelect: handleCopyLinkToClipboard },\r\n                                    { icon: <Add />, label: 'Generar nuevo enlace', onSelect: handleGenerateLink },\r\n                                ]} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <Divider />\r\n                    <div className={classes.divSectionShare}>\r\n                        <div className={classes.titleSectionShare}>\r\n                            <Typography color='textSecondary'> Compartir a contactos </Typography>\r\n                        </div>\r\n                        <div>\r\n                            <Autocomplete\r\n                                value={user}\r\n                                blurOnSelect\r\n                                onChange={(e, v) => {\r\n                                    handleAddContactInArray(v)\r\n                                }}\r\n                                inputValue={inputUser}\r\n                                onInputChange={(event, newInputUser) => {\r\n                                    if(isMounted.current) setInputUser(newInputUser);\r\n                                }}\r\n                                options={data.contacts.map(contact => {\r\n                                    return contact.name\r\n                                })}\r\n                                getOptionSelected={(option, value) => option.id === value.id}\r\n                                renderInput={(params) =>\r\n                                    <TextField\r\n                                        {...params}\r\n                                        label=\"Buscar Contacto\"\r\n                                        margin=\"normal\"\r\n                                        variant=\"outlined\"\r\n                                        InputProps={{ ...params.InputProps }}\r\n                                    />\r\n                                }\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <Divider style={{ marginBottom: 10 }} />\r\n                            {newPrivileges.map((privilege, i) => {\r\n                                return (\r\n                                    <Grid container style={{ marginBottom: 10 }} key={`privilege-${i}`}>\r\n                                        <Grid item xs={12} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap' }}>\r\n                                            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                                                <Box style={{ justifyContent: 'space-between' }}>\r\n                                                    <Avatar style={{ marginRight: 7 }} />\r\n                                                </Box>\r\n                                                <Box style={{ justifyContent: 'space-between' }}>\r\n                                                    <Typography>{privilege.user.name + ' ' + privilege.user.lastname}</Typography>\r\n                                                    <Typography color={'textSecondary'}>{privilege.user.email}</Typography>\r\n                                                </Box>\r\n                                            </div>\r\n                                            <Box >\r\n                                                {(privilege.user._id === design.owner) ?\r\n                                                    <Typography>Propietario</Typography>\r\n                                                    :\r\n                                                    <FormControl variant='outlined' size='small'>\r\n                                                        <Select\r\n                                                            key={`privileges-action-${i}`}\r\n                                                            name='type'\r\n                                                            value={privilege.type}\r\n                                                            onChange={(e) => { handleChange(e, privilege.type, i) }}\r\n                                                        >\r\n                                                            <MenuItem value={0}> Editor </MenuItem>\r\n                                                            <MenuItem value={1}> Lector</MenuItem>\r\n                                                            <MenuItem value={'Quitar'}> Quitar</MenuItem>\r\n                                                        </Select>\r\n                                                    </FormControl>\r\n                                                }\r\n                                            </Box>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Dialog\r\n                open={uiState.isShareModalOpen}\r\n                onClose={handleClose}\r\n                maxWidth={'sm'}\r\n                fullWidth\r\n            >\r\n                <DialogTitle >\r\n                    Compartir Diseño\r\n                </DialogTitle>\r\n                <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\r\n                    <CloseIcon />\r\n                </IconButton>\r\n                <DialogContent dividers style={{ padding: 0 }}>\r\n                    {content()}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose}>\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button variant='contained' color='primary' onClick={handleAddContactInDesign}>\r\n                        Listo\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n","import { useState } from \"react\";\r\n\r\nexport const MiniContext = () => {\r\n    const [ confirmDateConfiguration, setDateConfiguration] = useState(false);\r\n    const [ selectedDate, setSelectedDate ] = useState(new Date(Date.now()));\r\n    const [ privileges, setPrivileges ] = useState([]);\r\n    \r\n\r\n    return {\r\n        confirmDateConfiguration,\r\n        setDateConfiguration,\r\n        selectedDate,\r\n        setSelectedDate,\r\n        privileges, \r\n        setPrivileges\r\n    }\r\n}\r\n","\r\nconst months = [\r\n    'Enero',\r\n    'Febrero',\r\n    'Marzo',\r\n    'Abril',\r\n    'Mayo',\r\n    'Junio',\r\n    'Julio',\r\n    'Agosto',\r\n    'Septiembre',\r\n    'Octubre',\r\n    'Noviembre',\r\n    'Diciembre'\r\n]\r\n\r\nconst days = [\r\n    'Domingo',\r\n    'Lunes',\r\n    'Martes',\r\n    'Miércoles',\r\n    'Jueves',\r\n    'Viernes',\r\n    'Sábado'\r\n];\r\n\r\n\r\nexport const formatDate = ( dateTime, showDayName = false ) => {\r\n    const year = dateTime.getFullYear();\r\n    const date = dateTime.getDate();\r\n    const monthName = months[dateTime.getMonth()];\r\n    const dayName = days[dateTime.getDay()];\r\n    if (showDayName) return `${dayName}, ${date} de ${monthName} de ${year}`;\r\n    return `${date} de ${monthName} de ${year}`;\r\n};\r\n\r\nexport const formatTime = ( dateTime, showSeconds = false ) => {\r\n    const options = { hour: 'numeric', minute: 'numeric'};\r\n    if (showSeconds) options.second = 'numeric';\r\n    return dateTime.toLocaleTimeString('es-ES', options);\r\n};","import React, { useEffect, useRef } from 'react';\r\nimport { Page, Text, View, Document, StyleSheet, Image, Link } from '@react-pdf/renderer';\r\nimport Logo from 'assets/img/logo_uct.png';\r\nimport { useBetween } from 'use-between';\r\nimport { MiniContext } from './MiniContext';\r\nimport { formatDate } from 'utils/dateTimeFormatter';\r\n\r\nexport const DocumentPDF = ({design, img, typeUserPDF}) => {\r\n    const { selectedDate, privileges} = useBetween(MiniContext);\r\n    const styles = StyleSheet.create({\r\n        logo: {\r\n            width: 250,\r\n            objectFit: 'cover',\r\n            marginVertical: 15,\r\n            marginHorizontal: 'auto',\r\n        }, \r\n        title: {\r\n            fontSize: 20,\r\n            textAlign: 'center',\r\n            marginBottom: 25,\r\n        }, \r\n        box: { \r\n            width: '100%',\r\n        }, \r\n        pageNumber: {\r\n            position: 'absolute',\r\n            fontSize: 12,\r\n            bottom: 30,\r\n            left: 0,\r\n            right: 0,\r\n            textAlign: 'center',\r\n            color: 'grey',\r\n        },\r\n        date:{ \r\n            position: 'absolute',\r\n            fontSize: 12,\r\n            bottom: 50,\r\n            textAlign: 'center',\r\n        },  \r\n        marginTitle:{\r\n            fontSize: 15,\r\n            marginLeft: 35,\r\n            marginTop: 15,\r\n        }, \r\n        secondTitle:{\r\n            fontSize: 17,\r\n            textAlign: 'center',\r\n            marginBottom: 15,\r\n            marginLeft: 16,\r\n            marginRight: 16\r\n        },\r\n        body:{\r\n            paddingTop: 35,\r\n            paddingBottom: 65,\r\n        }, \r\n        table: {\r\n            display: \"table\",\r\n            flexDirection: \"column\",\r\n            marginLeft: 15,\r\n            marginBottom: 10,\r\n            marginRight: 15,\r\n            justifyContent: \"flex-start\",\r\n            alignContent: \"stretch\",\r\n            flexWrap: \"nowrap\",\r\n            alignItems: \"stretch\",\r\n          },\r\n        row: {\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"space-around\",\r\n            fontSize: 12,\r\n        }, \r\n        cell: {\r\n            flexGrow: 1,\r\n            flexShrink: 1,\r\n            marginLeft: 16,\r\n            marginRight: 16,\r\n            marginBottom: 3,\r\n            flexBasis: \"auto\",\r\n            alignSelf: \"stretch\"\r\n        },\r\n        breakLine:{\r\n            width: '100%', \r\n            height: 400,\r\n        }\r\n    });\r\n    const isMounted = useRef(true);\r\n    let manyAuthorsSelected = 0;\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, []);\r\n\r\n    privileges.forEach( author => {\r\n        if(author.selected) \r\n            manyAuthorsSelected = manyAuthorsSelected + 1\r\n        }\r\n    )\r\n    return (\r\n        <>\r\n            <Document >\r\n                <Page size=\"A4\" wrap style={styles.body}>\r\n                    <View style={styles.box} >\r\n                        <Image\r\n                            src={Logo}\r\n                            style = {styles.logo}\r\n                        />\r\n                        {(design.metadata.name === '') \r\n                            ? <Text style={styles.title}> Nombre no definido. </Text>\r\n                            : <Text style={styles.title}> {design.metadata.name}. </Text>\r\n                        }\r\n                        <View style={{textAlign: 'center', marginBottom: 15}}>\r\n                            {\r\n                                (privileges.map((author)=> author.selected).reduce((a, b)=> a || b) && \r\n                                    (manyAuthorsSelected === 1) \r\n                                    ? <Text style={{fontSize: 12, color: '#979797'}}>Autor</Text>\r\n                                    : (manyAuthorsSelected > 1) \r\n                                    && <Text style={{fontSize: 12, color: '#979797'}}>Autores</Text>\r\n                                ) \r\n                            }\r\n                            {privileges.map((author, i) =>\r\n                                {   \r\n                                    if (!author.selected) {\r\n                                        return <div key= {`author-${i}`}></div>\r\n                                    }\r\n                                    return (\r\n                                    <div key= {`author-${i}`}>   \r\n                                        <Text style={{fontSize: 12, marginLeft: 10}}>{author.user.name + ' ' + author.user.lastname}</Text>\r\n                                    </div> \r\n                                )}\r\n                            )}\r\n                        </View>\r\n                        {(typeUserPDF === 'teacher') ?\r\n                        <> \r\n                        <View style={styles.table}>\r\n                            <View style={[styles.row]}>\r\n                                <Text style={[styles.cell, {color: '#979797'}]}>Nombre</Text>\r\n                                <Text style={[styles.cell, {color: '#979797'}]}>Área disciplinar</Text>\r\n                            </View>\r\n                            <View style={[styles.row]}>\r\n                                {(design.metadata.name === '') \r\n                                    ? <Text style={styles.cell}>No especificado</Text>\r\n                                    : <Text style={styles.cell}>{design.metadata.name}.</Text>\r\n                                }\r\n                                <Text style={styles.cell}>{design.metadata.category.name}.</Text>\r\n                            </View>\r\n\r\n                            <View style={[styles.row]}>\r\n                                <Text style={[styles.cell, {color: '#979797'}]}>Tiempo de trabajo</Text>\r\n                                <Text style={[styles.cell, {color: '#979797'}]}>Tamaño de la clase</Text>\r\n                            </View>\r\n                            <View style={[styles.row]}>\r\n                                <Text style={styles.cell}>{design.metadata.workingTime.hours} hrs : {design.metadata.workingTime.minutes} min.</Text>\r\n                                <Text style={styles.cell}>{design.metadata.classSize}.</Text>\r\n                            </View>\r\n                        \r\n                            <View style={[styles.row]}>\r\n                                <Text style={[styles.cell, {color: '#979797'}]}>Conocimiento Previo</Text>\r\n                                {/*<Text style={[styles.cell, {color: '#979797'}]}>Objetivos</Text>*/}\r\n                            </View>\r\n                            <View style={[styles.row]}>\r\n                                {(design.metadata.priorKnowledge === '') \r\n                                    ? <Text style={styles.cell}>No especificado.</Text>\r\n                                    : <Text style={styles.cell}>{design.metadata.priorKnowledge}.</Text>\r\n                                }\r\n                                {/*(design.metadata.objective === '') \r\n                                    ? <Text style={styles.cell}>No especificado.</Text>\r\n                                    : <Text style={styles.cell}>{design.metadata.objective}.</Text>\r\n                                */}\r\n                            </View>\r\n                            <View style = {{marginLeft: 16, marginRight: 16}}>\r\n                                <Text style={{fontSize: 12, color: '#979797', marginTop: 5, marginBottom: 5}} >Descripción</Text>\r\n                                {\r\n                                    (design.metadata.description === '') \r\n                                    ? <Text wrap style={{fontSize: 12, justifyContent: 'center'}}>No definido.</Text>\r\n                                    : <Text wrap style={{fontSize: 12, justifyContent: 'center'}}>{design.metadata.description}</Text>\r\n                                } \r\n                            </View>\r\n                            <View style = {{marginLeft: 16, marginRight: 16}}>\r\n                                <Text style={{fontSize: 12, color: '#979797', marginTop: 5, marginBottom: 5}} >Pauta de evaluación</Text>\r\n                                {\r\n                                    (design.metadata.evaluationPattern === '') \r\n                                    ? <Text wrap style={{fontSize: 12, justifyContent: 'center'}}>No definido.</Text>\r\n                                    : <Text wrap style={{fontSize: 12, justifyContent: 'center', color:'#5564eb'}} >{design.metadata.evaluationPattern}</Text>\r\n                                } \r\n                            </View>\r\n                            <View style = {{marginLeft: 16, marginRight: 16}}>\r\n                                <Text style={{fontSize: 12, color: '#979797', marginTop: 5, marginBottom: 5}} >Evaluación</Text>\r\n                                {\r\n                                    (design.metadata.evaluation === '') \r\n                                    ? <Text wrap style={{fontSize: 12, justifyContent: 'center'}}>No definido.</Text>\r\n                                    : <Text wrap style={{fontSize: 12, justifyContent: 'center'}}>{design.metadata.evaluation}</Text>\r\n                                } \r\n                            </View>\r\n                        </View>\r\n                        </>\r\n                        :\r\n                        //Estudiante\r\n                        <View style={{marginLeft: 45, marginBottom: 10, marginRight: 45}}>\r\n                            <Text style={{color: '#2F5396', marginBottom: 5}}>¿Qué aprenderás en este modulo?</Text>\r\n                            {\r\n                                (design.metadata.description === '') \r\n                                ? <Text wrap style={{fontSize: 12, justifyContent: 'center', marginBottom: 15}}>No definido.</Text>\r\n                                : <Text wrap style={{fontSize: 12, justifyContent: 'center', marginBottom: 15}}>{design.metadata.description}</Text>\r\n                            }\r\n                            <Text style={{color: '#2F5396', marginBottom: 5}}>¿Qué necesitas conocer previamente?</Text>\r\n                            {\r\n                                (design.metadata.priorKnowledge === '') \r\n                                ? <Text wrap style={{fontSize: 12, justifyContent: 'center', marginBottom: 15}}>No especificado.</Text>\r\n                                : <Text wrap style={{fontSize: 12, justifyContent: 'center', marginBottom: 15}}>{design.metadata.priorKnowledge}.</Text>\r\n                            }\r\n                            <Text style={{color: '#2F5396', marginBottom: 5}}>¿Cómo serás evaluado?</Text>\r\n                            {\r\n                                (design.metadata.evaluation === '') \r\n                                ? <Text wrap style={{fontSize: 12, justifyContent: 'center', marginBottom: 15}}>No definido.</Text>\r\n                                : <Text wrap style={{fontSize: 12, justifyContent: 'center', marginBottom: 15}}>{design.metadata.evaluation}</Text>\r\n                            }\r\n                            <Text style={{color: '#2F5396', marginBottom: 5}}>La pauta de evaluación la encuentras en:</Text>\r\n                            {\r\n                                (design.metadata.evaluationPattern === '') \r\n                                ? <Text wrap style={{fontSize: 12, justifyContent: 'center', marginBottom: 15}}>No definido.</Text>\r\n                                : <Text wrap style={{fontSize: 12, justifyContent: 'center', color:'#5564eb', marginBottom: 15}} >{design.metadata.evaluationPattern}</Text>\r\n                            } \r\n\r\n                        </View>\r\n                        }\r\n                        \r\n                        <View style = {(typeUserPDF === 'teacher') ? [styles.table, {marginLeft: 16, marginRight: 16, height: 650}] : {marginLeft: 45, marginBottom: 10, marginRight: 45, height: 650}} wrap={false}>\r\n                            {(typeUserPDF === 'teacher') \r\n                            ? <Text style ={[styles.secondTitle, {borderBottom: 1, borderColor: '#979797'}]}> Aprendizajes esperados.</Text>\r\n                            : <Text style={{color: '#2F5396', marginTop: 5, marginBottom: 5}}>¿Qué aprendizajes específicos se esperan?</Text>\r\n                            }\r\n                            { design.metadata.results.length === 0 \r\n                                ? <Text style={{fontSize: 12, marginBottom: 5, marginLeft: 16}} >No han sido proporcionados.</Text>\r\n                                : design.metadata.results.map((result, i) =>\r\n                                    <View key = {`learning-result-${i}`}>\r\n                                        {(typeUserPDF === 'teacher') \r\n                                            ? <>\r\n                                                <Text style={{fontSize: 12, color: '#979797', marginTop: 2, marginBottom: 2, marginLeft: 16}} >Aprendizaje esperado número {i + 1}:</Text>\r\n                                                <Text style={{fontSize: 12, marginBottom: 2, marginLeft: 16}} >{result.verb + ' ' + result.description}</Text>\r\n                                              </>\r\n                                            : <Text style={{fontSize: 12, marginTop: 2, marginBottom: 2, marginLeft: 16}} >{i + 1}.- {result.verb + ' ' + result.description}</Text>\r\n                                        }\r\n                                            \r\n                                    </View>\r\n                                )\r\n                            }\r\n                        </View>\r\n                        <View style={[styles.table]} wrap={false}>\r\n                            <Text style ={[styles.secondTitle, {borderBottom: 1, borderColor: '#979797'}]}> Actividades</Text>\r\n                            { design.data.learningActivities && design.data.learningActivities.map((learningActivity, index) =>\r\n                                <View key = {`learning-activity-${index}`} style = {{marginBottom: 20}} wrap = {(index >= 1) ? false : true}>\r\n                                    <View style = {{ marginBottom: 5 }}>\r\n                                        <Text style={{fontSize: 14, marginLeft: 16}}>Actividad {index + 1}: {(learningActivity.title === '') \r\n                                        ? <Text style={{fontSize: 13, marginLeft: 16}}> No definido. </Text>\r\n                                        : <Text style={{fontSize: 13, marginLeft: 16}}> {learningActivity.title} </Text>\r\n                                        }</Text>\r\n                                        \r\n                                    </View>\r\n                                    <View style = {{marginLeft: 16, marginRight: 20, marginBottom: 10}}>\r\n                                        {  /* \r\n                                            (learningActivity.evaluation.length <= 1 ) \r\n                                            ? <Text style={{fontSize: 14, color: '#979797', marginTop: 5}} >Evaluación ha realizar en esta actividad.</Text>\r\n                                            : <Text style={{fontSize: 14, color: '#979797', marginTop: 5}} >Evaluaciones ha realizar en esta actividad.</Text>\r\n                                        */}\r\n                                        { (learningActivity.evaluation.length === 0 )\r\n                                            ? <Text style={{fontSize: 13}}> No se ha especificado.</Text>\r\n                                            : learningActivity.evaluation.map((evaluation, i) => \r\n                                                <View key = {`evaluation-${i}`}>\r\n                                                    <Text style={{fontSize: 12, color: '#979797', marginTop: 10, marginBottom: 5}} >Evaluación {i + 1}: {(evaluation.type === 'Seleccionar')\r\n                                                    ? <Text style={{fontSize: 12, justifyContent: 'center'}}>No definido.</Text>\r\n                                                    : <Text style={{fontSize: 12, justifyContent: 'center'}}>{evaluation.type}</Text>}</Text>\r\n                                                    {(evaluation.description === '') ?\r\n                                                    <Text wrap style={{fontSize: 12, justifyContent: 'center'}}>No definido.</Text>\r\n                                                    :\r\n                                                    <Text wrap style={{fontSize: 12, justifyContent: 'flex-end'}}>{evaluation.description}</Text>}\r\n                                                </View> \r\n                                            )\r\n                                        }\r\n                                    </View>\r\n                                    {(typeUserPDF === 'student') &&\r\n                                        <View style={{marginBottom: 5}}>\r\n                                            <Text style ={{marginLeft: 16, fontSize: 12, color: '#6AA3D8'}}> Para desarrollar la Actividad {index + 1} deberás cumplir las siguientes tareas:</Text>\r\n                                        </View>\r\n                                    }\r\n                                    { learningActivity.tasks && learningActivity.tasks.map((task, indexTask) =>\r\n                                        <View key = {`task-${indexTask}`} style={(typeUserPDF === 'student') && {  marginLeft: 16, marginRight: 16}}>\r\n                                            {(typeUserPDF === 'student') &&\r\n                                                <Text style ={{marginLeft: 16, fontSize: 12, marginTop: 10, marginBottom: 5 }}> Tarea número {indexTask + 1}.</Text>\r\n                                            }\r\n                                            <View style={(typeUserPDF === 'teacher') ? [styles.table,{\r\n                                                    borderColor: \r\n                                                        task.learningType === 'Investigación' \r\n                                                        ? '#57A8E7' \r\n                                                        : task.learningType === 'Adquisición'\r\n                                                        ? '#E95D5D' \r\n                                                        : task.learningType === 'Producción'\r\n                                                        ? '#C8951F'\r\n                                                        : task.learningType === 'Discusión'\r\n                                                        ? '#087A4C'\r\n                                                        : task.learningType === 'Colaboración'\r\n                                                        ? '#DFDF3F'\r\n                                                        : task.learningType === 'Práctica'\r\n                                                        ? '#A75BCD'\r\n                                                        : task.learningType === 'Seleccionar'\r\n                                                        && '#979797',\r\n                                                    borderLeftWidth: 40}]\r\n                                                    : { marginBottom : 10, marginLeft: 15, marginRight: 15}    \r\n                                                }>\r\n                                                <View style={[styles.row, {marginTop: 5}]}>\r\n                                                    {\r\n                                                        (typeUserPDF === 'teacher') &&\r\n                                                        <Text style={[styles.cell, {color: '#979797'}]}>Aprendizaje</Text>\r\n                                                    }\r\n                                                    <Text style={[styles.cell, {color: '#979797'}]}>Tiempo</Text>\r\n                                                    <Text style={[styles.cell, {color: '#979797'}]}>Modalidad</Text>\r\n                                                </View>\r\n                                                <View style={[styles.row]}>\r\n                                                    {\r\n                                                        (typeUserPDF === 'teacher') &&\r\n                                                        <>\r\n                                                            {(task.learningType === 'Seleccionar')\r\n                                                                ? <Text style={[styles.cell]}>No especificado.</Text>\r\n                                                                : <Text style={[styles.cell]}>{task.learningType}</Text>\r\n                                                            }\r\n                                                        </>   \r\n                                                    }\r\n                                                    <Text style={[styles.cell]}>{task.duration.hours} hrs : {task.duration.minutes} min.</Text>\r\n                                                    {(task.modality === 'Seleccionar' || task.modality.trim().length === 0) \r\n                                                        ? <Text style={[styles.cell]}> No especificado. </Text> \r\n                                                        : <Text style={[styles.cell]}> {task.modality} </Text>\r\n                                                    }\r\n                                                </View>\r\n                                                <View style={[styles.row]}>\r\n                                                    <Text style={[styles.cell, {color: '#979797'}]}>Formato</Text>\r\n                                                    {  (task.format === 'Grupal') \r\n                                                        && <>\r\n                                                            <Text style={[styles.cell, {color: '#979797'}]}>Número de integrantes</Text>\r\n                                                            { typeUserPDF === 'teacher' &&\r\n                                                                <Text style={[styles.cell, {color: '#979797'}]}></Text>\r\n                                                            }\r\n                                                        </>\r\n                                                    }\r\n                                                </View>\r\n                                                <View style={[styles.row]}>\r\n                                                    {(task.format === 'Seleccionar' || task.format.trim().length === 0) \r\n                                                        ? <Text style={[styles.cell]}>No especificado.</Text>\r\n                                                        : <Text style={[styles.cell]}>{task.format}</Text>\r\n                                                    }\r\n                                                    {  (task.format === 'Grupal') \r\n                                                        && <>\r\n                                                            <Text style={styles.cell}> {task.groupSize}</Text> \r\n                                                            { typeUserPDF === 'teacher' &&\r\n                                                                <Text style={[styles.cell, {color: '#979797'}]}></Text>\r\n                                                            }\r\n                                                        </> \r\n                                                    }\r\n                                                </View>\r\n                                                <View style={{marginLeft: 16, marginRight: 16}}>\r\n                                                    <Text style={{fontSize: 12, color: '#979797', marginTop: 10, marginBottom: 5}} >Descripción</Text>\r\n                                                    {(task.description === '') \r\n                                                        ? <Text wrap style={{fontSize: 12, justifyContent: 'center'}}> No especificado. </Text> \r\n                                                        : <Text wrap style={{fontSize: 12, justifyContent: 'center'}}>{task.description}</Text>\r\n                                                    }\r\n                                                    <View style={{marginBottom: 5}}>\r\n                                                        <Text style={{fontSize: 12, color: '#979797', marginTop: 15, marginBottom: 5}} >Enlace de recursos</Text>\r\n                                                        { (task.resourceLinks.length === 0) \r\n                                                            ? <Text wrap style={{fontSize: 12, justifyContent: 'center'}}>No se han proporcionado recursos</Text>\r\n                                                            : (task.resourceLinks.map((resource, i) =>\r\n                                                                <div key = {`resource-${i}-task-${indexTask}-learningnActivity${index}`}>\r\n                                                                    <View style={{marginBottom: 5}}>\r\n                                                                        {(resource.title === '') \r\n                                                                            ? <Text wrap style={{fontSize: 12, justifyContent: 'center'}}>Título no definido, {(resource.link === '') \r\n                                                                                ? <Text wrap style={{fontSize: 12, justifyContent: 'center'}}>No definido.</Text>\r\n                                                                                : <Link wrap style={{fontSize: 12, justifyContent: 'center', color:'#5564eb'}}>{resource.link}</Link>\r\n                                                                            }</Text>\r\n                                                                            : <Text wrap style={{fontSize: 12, justifyContent: 'center'}}>{resource.title}, {(resource.link === '') \r\n                                                                                ? <Text wrap style={{fontSize: 12, justifyContent: 'center'}}>No definido.</Text>\r\n                                                                                : <Link wrap style={{fontSize: 12, justifyContent: 'center', color:'#5564eb'}}>{resource.link}</Link>\r\n                                                                            }</Text>\r\n                                                                        }\r\n                                                                    </View>\r\n                                                                </div> \r\n                                                            ))\r\n                                                        }\r\n                                                    </View>\r\n                                                </View>\r\n                                            </View>\r\n                                        </View>\r\n                                    )}\r\n                                </View>\r\n                            )}\r\n                        </View>\r\n                        <View style = {{marginTop: 15}} wrap={false}>\r\n                            {(typeUserPDF === 'teacher' ) &&\r\n                                <Image\r\n                                    src={img}\r\n                                />\r\n                            }\r\n                        </View>\r\n                    </View>\r\n                    <Text style={styles.date} render={({ pageNumber }) => (\r\n                        (pageNumber === 1) && formatDate(new Date(selectedDate), true)\r\n                    )} fixed />\r\n                    <Text style={styles.pageNumber} render={({ pageNumber, totalPages }) => (\r\n                        `${pageNumber} / ${totalPages}`\r\n                    )} fixed />\r\n                </Page>\r\n            </Document>\r\n        </>\r\n    )\r\n}","import PropTypes from 'prop-types';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport const TabPanel = ({ children, value, index, ...other }) => {\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`full-width-tabpanel-${index}`}\r\n        aria-labelledby={`full-width-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n            <Typography component={'span'}>{children}</Typography>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n};\r\n","import { Accordion, AccordionDetails, AccordionSummary, Avatar, Box, Checkbox, FormControl, FormControlLabel, Grid, Typography, makeStyles } from '@material-ui/core'\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { useBetween } from 'use-between';\r\nimport { MiniContext } from './MiniContext';\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker, } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { formatName, getUserInitials } from 'utils/textFormatters';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport types from 'types';\r\n  \r\nconst useStyles = makeStyles((theme) => ({\r\n    author: {\r\n        padding: '15px 10px 15px 20px',\r\n        display: 'flex',\r\n        justifyContent: 'start',\r\n        alignItems: 'center',\r\n        textDecoration: 'none',\r\n    },\r\n}));\r\n\r\nexport const ConfigurationData = () => {\r\n    const classes = useStyles();\r\n    const { uiState, dispatch } = useUiState();\r\n    const {\r\n        selectedDate, \r\n        setSelectedDate, \r\n        privileges,\r\n        setPrivileges,\r\n    } = useBetween(MiniContext);\r\n    const [ expanded, setExpanded] = useState(false);\r\n    const isMounted = useRef(true);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, []);\r\n    \r\n    const handleDateChange = (date) => {\r\n        if (isMounted.current){\r\n            setSelectedDate(date);\r\n        }\r\n    };\r\n\r\n    const handleChangeSelectAuthor = (event, index) => {\r\n        if (isMounted.current){\r\n            const newState = JSON.parse(JSON.stringify(privileges));\r\n            newState[index].selected = !newState[index].selected;\r\n            setPrivileges(newState);\r\n            dispatch({\r\n                type: types.ui.setPDFConfig,\r\n                payload: {\r\n                    field: 'privileges',\r\n                    value: newState\r\n                }\r\n            })\r\n        }\r\n    };\r\n\r\n    const handleChangePanel = (panel, /*isChecked*/) =>(event, isExpanded) =>{\r\n        if (isMounted.current){\r\n            setExpanded(isExpanded ? panel : false);\r\n        }\r\n        //if (panel === 'panel1') {\r\n            //if(isChecked){\r\n            //    setDateConfiguration(event.target.checked);\r\n            //} else {\r\n            //    if(!confirmDateConfiguration){\r\n            //        setDateConfiguration(true)\r\n            //    }else if(confirmDateConfiguration){\r\n            //        setDateConfiguration(false)\r\n            //    }\r\n            //}\r\n        //    dispatch({\r\n        //        type: types.ui.setPDFConfig,\r\n        //        payload: {\r\n        //            field: 'confirmDateConfiguration',\r\n        //            value: confirmDateConfiguration\r\n        //        }\r\n        //    })\r\n            //dispatch({\r\n            //    type: types.ui.setPDFConfig,\r\n            //    payload: {\r\n            //        field: 'expanded',\r\n            //        value: isExpanded\r\n            //    }\r\n            //})\r\n        //}\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Box>\r\n                <Accordion expanded={expanded === 'panel1'} onChange={handleChangePanel('panel1', false)}>\r\n                    <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                    id=\"panel1bh-header\"\r\n                    >\r\n                    <Typography >Definir fecha que se mostrará en el documento PDF generado.</Typography>\r\n                    {/*<FormControlLabel\r\n                        aria-label=\"Acknowledge\"\r\n                        onClick={(event) => event.stopPropagation()}\r\n                        onFocus={(event) => event.stopPropagation()}\r\n                        control={<Switch\r\n                            checked = {confirmDateConfiguration}\r\n                           onChange={ handleChangePanel('panel1', true) }\r\n                        />}\r\n                        label=\"Desea la fecha en su PDF?\"\r\n                        />*/\r\n                    }\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                        <div>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                <Grid container>\r\n                                    <KeyboardDatePicker\r\n                                    disableToolbar\r\n                                    variant=\"inline\"\r\n                                    format=\"dd/MM/yyyy\"\r\n                                    margin=\"normal\"\r\n                                    id=\"date-picker-inline\"\r\n                                    label=\"Definir fecha\"\r\n                                    value={selectedDate}\r\n                                    onChange={handleDateChange}\r\n                                    KeyboardButtonProps={{\r\n                                        'aria-label': 'change date',\r\n                                    }}\r\n                                    />\r\n                                </Grid>\r\n                            </MuiPickersUtilsProvider>\r\n                        </div>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n                <Accordion expanded={expanded === 'panel2'} onChange={handleChangePanel('panel2')}>\r\n                    <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel2bh-content\"\r\n                    id=\"panel2bh-header\"\r\n                    >\r\n                    <Typography >Definir autores en el documento</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                        <div style={{marginTop: 10}}>\r\n                            <FormControl component=\"fieldset\">\r\n                                    { uiState.pdf.privileges.map((author, i) => \r\n                                        <div key = {`authors-${i}`} style={{marginTop: 10}}>\r\n                                        {(author.type === 0) &&\r\n                                            <div>\r\n                                                <div className={classes.author}>\r\n                                                    <FormControlLabel \r\n                                                        control={\r\n                                                        <Checkbox\r\n                                                            checked = {author.selected}\r\n                                                            onChange={(e) => handleChangeSelectAuthor(e, i)}\r\n                                                            />\r\n                                                        } \r\n                                                    />\r\n                                                    <Avatar\r\n                                                        alt={formatName(author.user.name, author.user.lastname)}\r\n                                                        src={author.user.img ?? ''}\r\n                                                    >\r\n                                                        {getUserInitials(author.user.name, author.user.lastname)}\r\n                                                    </Avatar>\r\n                                                    <Typography style ={{marginLeft: 10, marginRight: 10}}>{author.user.name + ' ' + author.user.lastname}</Typography>\r\n                                                    \r\n                                                </div>\r\n                                            </div>    \r\n                                        }\r\n                                    </div>\r\n                                    )\r\n                                }\r\n                            </FormControl>\r\n                        </div>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </Box>    \r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { PDFViewer, PDFDownloadLink } from '@react-pdf/renderer';\r\nimport { DocumentPDF } from './DocumentPDF';\r\nimport { Backdrop, Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, makeStyles, Tab, Tabs, Typography, useTheme } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport html2canvas from 'html2canvas';\r\nimport { TabPanel } from 'components/TabPanel';\r\nimport { ConfigurationData } from './ConfigurationData';\r\nimport { useBetween } from 'use-between';\r\nimport { MiniContext } from './MiniContext';\r\nimport { PictureAsPdf } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    spaceInit: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n    menu: {\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    tabBar: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    container: {\r\n        display: \"flex\",\r\n        height: \"100%\",\r\n        width: \"100%\"\r\n    },\r\n    panel: {\r\n        width: \"100%\"\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    },\r\n    loadingFile: {\r\n        '-webkit-backface-visibility': 'hidden',\r\n        animation: `$scaleAnimation 1000ms ${theme.transitions.easing.easeInOut}`,\r\n        animationIterationCount: 'infinite',\r\n        animationDirection: 'alternate',\r\n    },\r\n    \"@keyframes scaleAnimation\": {\r\n        from: {\r\n            height: 300,\r\n            width: 300,\r\n            //transform: 'rotate(0deg)',\r\n        },\r\n        to: {\r\n            height: 150,\r\n            width: 150,\r\n            //transform: 'rotate(360deg)',\r\n        }\r\n    },\r\n}));\r\n\r\nconst a11yProps = (index) => {\r\n    return {\r\n        id: `full-width-tab-${index}`,\r\n        'aria-controls': `full-width-tabpanel-${index}`,\r\n    };\r\n}\r\n\r\nexport const ViewAndDownloadPDFModal = ({ imgGraphic, setPdfView }) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const { uiState, dispatch } = useUiState();\r\n    const { typeUserPDF } = uiState.pdf;\r\n    const { designState } = useDesignState();\r\n    const { design } = designState;\r\n    const [img, setImg] = useState(null);\r\n    const [tabIndex, setTabIndex] = useState(0);\r\n    const { setPrivileges } = useBetween(MiniContext);\r\n    const [pdfDocument, setPdfDocument] = useState(null);\r\n    const isMounted = useRef(true);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current){\r\n            const privileges = [];\r\n            design.privileges.forEach(privilege => {\r\n                const p = JSON.parse(JSON.stringify(privilege));\r\n                p.selected = false;\r\n                privileges.push(p);\r\n            })\r\n            setPrivileges(privileges);\r\n            dispatch({\r\n                type: types.ui.setPDFConfig,\r\n                payload: {\r\n                    field: 'privileges',\r\n                    value: privileges\r\n                }\r\n    \r\n            })\r\n        }\r\n    }, [design.privileges, dispatch, setPrivileges]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current){\r\n            if(img && design && typeUserPDF) setPdfDocument(<DocumentPDF design={design} img={img} typeUserPDF={typeUserPDF} />);\r\n        }\r\n    }, [design, img, typeUserPDF, setPdfDocument]);\r\n\r\n    const defineImage = async () => {\r\n        if (isMounted.current){\r\n            const canvas = await html2canvas(imgGraphic.current, {\r\n                width: 800,\r\n                height: 700,\r\n                scrollX: 279\r\n            })\r\n            setImg(canvas.toDataURL('image/jpeg'));\r\n        }\r\n    }\r\n\r\n    const handleClose = () => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'PDF',\r\n        });\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: types.ui.setPDF,\r\n                payload: null\r\n            });\r\n            setPdfView(false);\r\n        }, theme.transitions.duration.enteringScreen);\r\n    };\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setTabIndex(newValue);\r\n    };\r\n\r\n    if (!img) {\r\n        defineImage();\r\n    }\r\n\r\n    if (!img || !pdfDocument){\r\n        return (\r\n            <Backdrop className={classes.backdrop} open={true}>\r\n                <Box style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                    <Box width={300} height={300} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                        <PictureAsPdf className={classes.loadingFile} />\r\n                    </Box>\r\n                    <Typography>Generando archivo pdf...</Typography>\r\n                </Box>\r\n            </Backdrop>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Dialog onClose={handleClose} open={uiState.isPDFModalOpen} fullScreen>\r\n                <DialogTitle className={classes.titleMargin} >\r\n                    Exportar diseño\r\n                    <Tabs\r\n                        value={tabIndex}\r\n                        onChange={handleChange}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        aria-label=\"full width tabs\"\r\n                        centered\r\n                    >\r\n                        <Tab label=\"CONFIGURACIÓN\" {...a11yProps(0)} />\r\n                        <Tab label=\"VISTA PREVIA\" {...a11yProps(1)} />\r\n                    </Tabs>\r\n                </DialogTitle>\r\n                <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\r\n                    <CloseIcon />\r\n                </IconButton>\r\n                <DialogContent dividers>\r\n                    <Box className={classes.container}>\r\n                        <TabPanel value={tabIndex} index={0} className={classes.panel}>\r\n                            <ConfigurationData />\r\n                        </TabPanel>\r\n                        <TabPanel value={tabIndex} index={1} className={classes.panel} >\r\n                            <PDFViewer width={'100%'} height={'100%'} >\r\n                                {(imgGraphic && pdfDocument) &&\r\n                                    pdfDocument\r\n                                }\r\n                            </PDFViewer>\r\n                        </TabPanel>\r\n                    </Box>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose}>\r\n                        Cancelar\r\n                    </Button>\r\n                    <div className={classes.spaceInit}>\r\n                        <PDFDownloadLink style={{ textDecoration: 'none' }} document={pdfDocument} fileName=\"designdata.pdf\">\r\n                            {({ blob, url, loading, error }) =>\r\n                                <Button variant={'contained'} disabled={loading}> Descargar </Button>\r\n                            }\r\n                        </PDFDownloadLink>\r\n                    </div>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n","import { Box, Divider, Grid, IconButton, makeStyles, TextField, Tooltip } from '@material-ui/core'\r\nimport React, { useEffect, useRef } from 'react'\r\nimport { Delete } from '@material-ui/icons';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    spaceResource:{\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n    tooltip: {\r\n        maxHeight: \"25px\",\r\n        minHeight: \"25px\",\r\n        minWidth: \"25px\",\r\n        maxWidth: \"25px\",\r\n    },\r\n    icon:{\r\n        maxHeight: \"25px\",\r\n        minHeight: \"25px\",\r\n        minWidth: \"25px\",\r\n        maxWidth: \"25px\",\r\n    },\r\n    resourceLinkGrid:{\r\n        display: 'grid',\r\n        gridTemplateColumns: '95% 5%',\r\n    },\r\n}));\r\n\r\nexport const ResourceLink = ({index, resource, newResource, setNewResource}) => {\r\n    const classes = useStyles();\r\n    \r\n    const { uiState, dispatch } = useUiState();\r\n    \r\n    const isMounted = useRef(true);\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        }\r\n    }, []);\r\n\r\n    const changeTitle = (event) => {\r\n        const newTitle = event.target.value;\r\n        if (isMounted.current) setNewResource( newResource => newResource.map((resource, i) => {\r\n            if ( i === index ) {\r\n                resource.title = newTitle;\r\n            }\r\n            return resource;\r\n        }));\r\n        if(uiState.userSaveDesign){\r\n            dispatch({\r\n                type: types.ui.setUserSaveDesign,\r\n                payload: false,\r\n            })\r\n        };\r\n    };\r\n\r\n    const changeLink = (event) => {\r\n        const newLink = event.target.value;\r\n        if (isMounted.current) setNewResource( newResource => newResource.map((resource, i) => {\r\n            if ( i === index ) {\r\n                resource.link = newLink;\r\n            }\r\n            return resource;\r\n        }));\r\n        if(uiState.userSaveDesign){\r\n            dispatch({\r\n                type: types.ui.setUserSaveDesign,\r\n                payload: false,\r\n            })\r\n        };\r\n    };\r\n    \r\n    const handleDeleteResourceLink = (index) =>{\r\n        if (index === newResource.length - 1) {\r\n            if (isMounted.current) setNewResource([\r\n                ...newResource.slice(0, index),\r\n            ])\r\n        } else {\r\n            if (isMounted.current) setNewResource([\r\n                ...newResource.slice(0, index),\r\n                ...newResource.slice(index + 1, newResource.length)\r\n            ])\r\n        };\r\n        if(uiState.userSaveDesign){\r\n            dispatch({\r\n                type: types.ui.setUserSaveDesign,\r\n                payload: false,\r\n            })\r\n        };\r\n    };\r\n\r\n    const resourceLink = () =>{\r\n        return (\r\n            <div key={index} className={classes.spaceResource}>\r\n                <Grid >\r\n                    <div className={classes.resourceLinkGrid}>\r\n                        <div >\r\n                            <TextField\r\n                                variant='outlined'\r\n                                margin='dense' \r\n                                name='title' \r\n                                value={ resource.title } \r\n                                onChange={ (e) => changeTitle(e) } \r\n                                label='Título' \r\n                                type='text' \r\n                                fullWidth \r\n                            />\r\n                            <TextField\r\n                                variant='outlined'\r\n                                margin='dense' \r\n                                name='link' \r\n                                value={ resource.link } \r\n                                onChange={ (e)=>changeLink(e)} \r\n                                label='Enlace' \r\n                                type='text' \r\n                                fullWidth \r\n                            />\r\n                        </div>\r\n                        <div>\r\n                        <Box display=\"flex\" flexDirection=\"row-reverse\">\r\n                                    <Box>\r\n                                        <Tooltip title=\"Eliminar recurso\" className= {classes.tooltip}>\r\n                                            <IconButton onClick={() => handleDeleteResourceLink(index)}>\r\n                                                <Delete className={classes.icon} />\r\n                                            </IconButton>\r\n                                        </Tooltip>\r\n                                    </Box>\r\n                                </Box>\r\n                        </div>\r\n                    </div>\r\n                <Divider style={{marginTop: 10}}/>\r\n                </Grid>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                resourceLink()\r\n            }\r\n        </>\r\n    )\r\n}\r\n","import { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, Grid, IconButton, makeStyles, useTheme } from '@material-ui/core';\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport types from 'types';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { ResourceLink } from './ResourceLink';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    spaceInit:{\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },buttonZone: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        [theme.breakpoints.down('xs')]: {\r\n            flexWrap: 'wrap',\r\n        },\r\n    },resourceZone: {\r\n        height: 'auto',\r\n        [theme.breakpoints.up('xs')]: {\r\n            height: '90%',\r\n            overflow: 'auto',\r\n            overflowX: 'hidden',\r\n        },\r\n    },contentSpace:{\r\n        height: 'auto',\r\n        paddingBottom: theme.spacing(6),\r\n        [theme.breakpoints.up('xs')]: {\r\n            height: 'calc(100vh - 500px)',\r\n            overflow: 'auto'\r\n        },\r\n    }\r\n}));\r\n\r\nexport const ResourceLinksModal = () => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const isMounted = useRef(true);\r\n    const { uiState, dispatch } = useUiState();\r\n    const { learningActivityIndex, taskIndex } = uiState.resourceLink;\r\n    const { designState } = useDesignState();\r\n    const { design } = designState;\r\n    const [newResource, setNewResource] = useState([...design.data.learningActivities[learningActivityIndex].tasks[taskIndex].resourceLinks]);\r\n    const { socket, emitWithTimeout } = useSocketState();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        }\r\n    }, []);\r\n\r\n    const handleClose = () => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'Resource',\r\n        });\r\n        setTimeout(() => {\r\n            if (isMounted.current) setNewResource([...design.data.learningActivities[learningActivityIndex].tasks[taskIndex].resourceLinks]);\r\n            dispatch({\r\n                type: types.ui.setResourceLink,\r\n                payload: {\r\n                    learningActivityIndex: null,\r\n                    taskIndex: null,\r\n                }\r\n            });\r\n        }, theme.transitions.duration.enteringScreen);\r\n    };\r\n    \r\n    const handleAddResource = () =>{\r\n        const newLinks = {\r\n            title: '',\r\n            link: '',\r\n        }\r\n        if (isMounted.current) setNewResource([...newResource, newLinks]);\r\n        if(uiState.userSaveDesign){\r\n            dispatch({\r\n                type: types.ui.setUserSaveDesign,\r\n                payload: false,\r\n            })\r\n        };\r\n    };\r\n\r\n    const handleAddResourceInDesign = () =>{\r\n        socket?.emit('change-resource-in-task', { designId: design._id, learningActivityIndex, taskIndex, resources: [...newResource] }, emitWithTimeout(\r\n            (resp) => {\r\n                enqueueSnackbar(resp.message, { variant: resp.ok ? 'success' : 'error', autoHideDuration: 2000 });\r\n            },\r\n            () => enqueueSnackbar('Error al modificar los recursos en la tarea. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n        ));\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'Resource'\r\n        });\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <Dialog onClose={handleClose} open={uiState.isResourceModalOpen} fullWidth={true} maxWidth={'md'} >\r\n                <DialogTitle >\r\n                    Administrar Recursos\r\n                </DialogTitle>\r\n                <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\r\n                    <CloseIcon/>\r\n                </IconButton>\r\n                <DialogContent dividers >\r\n                    <Grid className={classes.contentSpace}>\r\n                        <div className={classes.buttonZone}>\r\n                            <Button variant={'outlined'} color = {'primary'} onClick = {handleAddResource}>Agregar recurso</Button>\r\n                        </div>\r\n                        <Box className={classes.resourceZone}>\r\n                            <Box >\r\n                            {\r\n                                newResource.map((resource, i) => <ResourceLink key={`resource-${i}-task-${taskIndex}-learningActivity-${learningActivityIndex}`} index={i} resource = {resource} newResource={newResource} setNewResource={setNewResource}/>)\r\n                            }\r\n                            </Box>\r\n                        </Box>\r\n                        \r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions >\r\n                    <Button onClick={handleClose}>\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button variant='contained' color='primary' onClick={handleAddResourceInDesign}>\r\n                        Guardar recursos\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","import { Box, Divider, FormControl, Grid, IconButton, InputLabel, makeStyles, MenuItem, Select, TextField, Tooltip } from '@material-ui/core'\r\nimport React from 'react'\r\nimport { Delete } from '@material-ui/icons';\r\nimport types from 'types';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    spaceResource:{\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n    tooltip: {\r\n        maxHeight: \"25px\",\r\n        minHeight: \"25px\",\r\n        minWidth: \"25px\",\r\n        maxWidth: \"25px\",\r\n    },\r\n    icon:{\r\n        maxHeight: \"25px\",\r\n        minHeight: \"25px\",\r\n        minWidth: \"25px\",\r\n        maxWidth: \"25px\",\r\n    },\r\n    resourceEvaluationGrid:{\r\n        display: 'grid',\r\n        gridTemplateColumns: '95% 5%',\r\n    },\r\n}));\r\n\r\nexport const Evaluation = ({index, evaluation, newEvaluation, setNewEvaluation, learningActivityIndex}) => {\r\n    const classes = useStyles();\r\n    const { uiState, dispatch } = useUiState();\r\n\r\n    const changeType = (event) => {\r\n        const newType = event.target.value;\r\n        setNewEvaluation( newEvaluation => newEvaluation.map((evaluation, i) => {\r\n            if ( i === index ) {\r\n                evaluation.type = newType;\r\n            }\r\n            return evaluation;\r\n        }));\r\n        if(uiState.userSaveDesign){\r\n            dispatch({\r\n                type: types.ui.setUserSaveDesign,\r\n                payload: false,\r\n            })\r\n        };\r\n    };\r\n\r\n    const changeDescription = (event) => {\r\n        const newDescription = event.target.value;\r\n        setNewEvaluation( newEvaluation => newEvaluation.map((evaluation, i) => {\r\n            if ( i === index ) {\r\n                evaluation.description = newDescription;\r\n            }\r\n            return evaluation;\r\n        }));\r\n        if(uiState.userSaveDesign){\r\n            dispatch({\r\n                type: types.ui.setUserSaveDesign,\r\n                payload: false,\r\n            })\r\n        };\r\n    };\r\n    \r\n    const handleDeleteResourceEvaluation = (index) =>{\r\n        if (index === newEvaluation.length - 1) {\r\n            setNewEvaluation([\r\n                ...newEvaluation.slice(0, index),\r\n            ])\r\n        } else {\r\n            setNewEvaluation([\r\n                ...newEvaluation.slice(0, index),\r\n                ...newEvaluation.slice(index + 1, newEvaluation.length)\r\n            ])\r\n        };\r\n        if(uiState.userSaveDesign){\r\n            dispatch({\r\n                type: types.ui.setUserSaveDesign,\r\n                payload: false,\r\n            })\r\n        };\r\n    };\r\n\r\n    const evaluationActivity= () =>{\r\n        return (\r\n            <div key={index} className={classes.spaceResource}>\r\n                <Grid >\r\n                    <div className={classes.resourceEvaluationGrid}>\r\n                        <div>\r\n                            <FormControl fullWidth variant='outlined'>\r\n                                <InputLabel id={`evaluation-${index}-learningActivity-${learningActivityIndex}`}> Tipo de evaluación </InputLabel>\r\n                                <Select\r\n                                    labelId={`evaluationtype-${index}-learningActivity-${learningActivityIndex}`}\r\n                                    label='Tipo de evaluación'\r\n                                    name='type'\r\n                                    value={ evaluation.type }\r\n                                    onChange ={ (e) => changeType(e) }\r\n                                >\r\n                                    <MenuItem value = {'Seleccionar'}> Seleccionar </MenuItem>\r\n                                    <MenuItem value = {'Diagnostico'}> Diagnostico</MenuItem>\r\n                                    <MenuItem value = {'Formativa'}> Formativa</MenuItem>\r\n                                    <MenuItem value = {'Sumativa'}> Sumativa</MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                            <TextField\r\n                                variant='outlined'\r\n                                margin='dense' \r\n                                name='description' \r\n                                value={ evaluation.description } \r\n                                onChange={ (e) => changeDescription(e) } \r\n                                label='Descripción' \r\n                                type = 'text'\r\n                                fullWidth\r\n                                multiline \r\n                                rows = {4}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                        <Box display=\"flex\" flexDirection=\"row-reverse\">\r\n                                    <Box>\r\n                                        <Tooltip title=\"Eliminar evaluación\" className= {classes.tooltip}>\r\n                                            <IconButton onClick={() => handleDeleteResourceEvaluation(index)}>\r\n                                                <Delete className={classes.icon} />\r\n                                            </IconButton>\r\n                                        </Tooltip>\r\n                                    </Box>\r\n                                </Box>\r\n                        </div>\r\n                    </div>\r\n                <Divider style={{marginTop: 10}}/>\r\n                </Grid>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                evaluationActivity()\r\n            }\r\n        </>\r\n    )\r\n}\r\n","import { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, Grid, IconButton, makeStyles, Typography, useTheme } from '@material-ui/core'\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\nimport React, { useState } from 'react'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Evaluation } from './Evaluation';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    spaceInit:{\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },buttonZone: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        [theme.breakpoints.down('xs')]: {\r\n            flexWrap: 'wrap',\r\n        },\r\n    },resourceZone: {\r\n        height: 'auto',\r\n        [theme.breakpoints.up('xs')]: {\r\n            height: '100%',\r\n            overflow: 'auto',\r\n            overflowX: 'hidden',\r\n        },\r\n    },contentSpace:{\r\n        height: 'auto',\r\n        paddingBottom: theme.spacing(6),\r\n        [theme.breakpoints.up('xs')]: {\r\n            height: 'calc(100vh - 500px)',\r\n            overflow: 'auto'\r\n        },\r\n    }\r\n}));\r\n\r\nexport const EvaluationModal = () => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const { uiState, dispatch } = useUiState();\r\n    const { designState } = useDesignState();\r\n    const { design } = designState;\r\n    const { socket, emitWithTimeout } = useSocketState();\r\n    const { learningActivityIndex } = uiState.evaluationData;\r\n    const [ newEvaluation, setNewEvaluation ] = useState([...design.data.learningActivities[learningActivityIndex].evaluation]);\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const handleClose = () => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'Evaluation',\r\n        });\r\n        setTimeout(() => {\r\n            setNewEvaluation(design.data.learningActivities[learningActivityIndex].evaluation);\r\n            dispatch({\r\n                type: types.ui.setEvaluation,\r\n                payload: {\r\n                    learningActivityIndex: null,\r\n                }\r\n            });\r\n        }, theme.transitions.duration.enteringScreen);\r\n    };\r\n\r\n    const handleAddEvaluation = () =>{\r\n        const newEvaluationInArray = {\r\n            type: 'Seleccionar',\r\n            description: '',\r\n        }\r\n        setNewEvaluation([...newEvaluation, newEvaluationInArray]);\r\n        if(uiState.userSaveDesign){\r\n            dispatch({\r\n                type: types.ui.setUserSaveDesign,\r\n                payload: false,\r\n            })\r\n        };\r\n    };\r\n\r\n    const handleAddEvaluationInDesign = () =>{\r\n        socket?.emit('add-evaluation-in-activity', \r\n            { designId: design._id, learningActivityID: design.data.learningActivities[learningActivityIndex].id, evaluation: [...newEvaluation]}, \r\n            emitWithTimeout(\r\n                (resp) => {\r\n                    if(resp.ok && uiState.userSaveDesign){\r\n                        dispatch({\r\n                            type: types.ui.setUserSaveDesign,\r\n                            payload: false,\r\n                        });\r\n                    }\r\n                    enqueueSnackbar(resp.message, { variant: resp.ok ? 'success' : 'error', autoHideDuration: 2000 });\r\n                },\r\n                () => enqueueSnackbar('Error al modificar las evaluaciones de la actividad de aprendizaje. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n            )\r\n        );\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Dialog onClose={handleClose} open={uiState.isEvaluationModalOpen} fullWidth={true} maxWidth={'md'} >\r\n                <DialogTitle >\r\n                    Evaluación de la actividad.\r\n                </DialogTitle>\r\n                <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\r\n                    <CloseIcon/>\r\n                </IconButton>\r\n                <DialogContent dividers >\r\n                    <Typography color='textSecondary' style={{marginBottom: 10}}> En el siguiente apartado el docente deberá definir las evaluaciones que el estudiante deberá realizar en cada actividad, se tienen 3 tipos de evaluaciones. La primera evaluación es de tipo diagnostico. La segunda de tipo Formativa. La tercera será de tipo sumativa.</Typography>\r\n                    <div className={classes.buttonZone}>\r\n                        <Button variant={'outlined'} color = {'primary'} onClick = {handleAddEvaluation}>Agregar evaluación</Button>\r\n                    </div>\r\n                    <Grid className={classes.contentSpace}>\r\n                        <Box className={classes.resourceZone}>\r\n                            <Box >\r\n                            {\r\n                                newEvaluation.map((evaluation, i) => <Evaluation key={`evaluation-${i}-learningActivity-${learningActivityIndex}`} index={i} evaluation = {evaluation} newEvaluation={newEvaluation} setNewEvaluation={setNewEvaluation} learningActivityIndex = {learningActivityIndex}/>)\r\n                            }\r\n                            </Box>\r\n                        </Box>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions >\r\n                    <Button onClick={handleClose}>\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button variant='contained' color='primary' onClick={handleAddEvaluationInDesign}>\r\n                        Guardar evaluación.\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, makeStyles, Typography, useTheme } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport types from 'types';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport { Reorder } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n    root: {\r\n        margin: 10,\r\n        height: 400,\r\n    },\r\n    dndZone: {\r\n        width: '100%',\r\n        padding: 10,\r\n        backgroundColor: theme.palette.background.default,\r\n    },\r\n    ellipsis: {\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n    draggable: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        height: 55,\r\n        width: '100%',\r\n        marginBottom: 5,\r\n        border: `1px solid ${theme.palette.divider}`,\r\n        borderRadius: theme.shape.borderRadius,\r\n        padding: '5px 10px',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n}));\r\n\r\nconst reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n\r\n    return result;\r\n};\r\n\r\nexport const ReorderActivitiesModal = () => {\r\n    const theme = useTheme();\r\n    const classes = useStyles();\r\n    const isMounted = useRef(true);\r\n    const { uiState, dispatch } = useUiState();\r\n    const { designState } = useDesignState();\r\n    const { design } = designState;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { socket, emitWithTimeout } = useSocketState();\r\n    const [newOrder, setNewOrder] = useState([...design.data.learningActivities]);\r\n    // console.log(newOrder);\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) setNewOrder([...design.data.learningActivities]);\r\n    }, [design.data.learningActivities]);\r\n\r\n    const handleClose = () => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'ReorderActivities'\r\n        });\r\n        setTimeout(() => {\r\n            if (isMounted.current) setNewOrder([...design.data.learningActivities]);\r\n        }, theme.transitions.duration.enteringScreen);\r\n    };\r\n\r\n    const handleReorder = () => {\r\n        console.log(newOrder.map(la => la.id));\r\n        socket?.emit('reorder-activities', { designId: design._id, newOrder: newOrder.map(la => la.id) }, emitWithTimeout(\r\n            (resp) => {\r\n                if (resp.ok && uiState.userSaveDesign) {\r\n                    dispatch({\r\n                        type: types.ui.setUserSaveDesign,\r\n                        payload: false,\r\n                    });\r\n                }\r\n                return enqueueSnackbar(resp.message, { variant: resp.ok ? 'success' : 'error', autoHideDuration: 2000 });\r\n            },\r\n            () => enqueueSnackbar('Error la cambiar el orden de las actividades. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n        ));\r\n        handleClose();\r\n    };\r\n\r\n    if (!design) {\r\n        return (<Typography>Cargando...</Typography>);\r\n    };\r\n\r\n    const handleDragEnd = (result) => {\r\n        if (!result.destination) return;\r\n        const items = reorder(\r\n            newOrder,\r\n            result.source.index,\r\n            result.destination.index\r\n        );\r\n        if (isMounted.current) setNewOrder(items);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Dialog\r\n                open={uiState.isReorderActivitiesModalOpen}\r\n                onClose={handleClose}\r\n                maxWidth={'sm'}\r\n                fullWidth\r\n            >\r\n                <DialogTitle >\r\n                    Ordenar Actividades\r\n                </DialogTitle>\r\n                <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\r\n                    <CloseIcon />\r\n                </IconButton>\r\n                <DialogContent dividers style={{ padding: 0 }}>\r\n                    <Box className={classes.root}>\r\n                        <Typography variant='body2' gutterBottom style={{ marginLeft: 10, marginRight: 10 }}>\r\n                            En la siguiente lista puede ordenar las actividades de aprendizaje como desee.\r\n                            Para hacer esto, arrastre y suelte las actividades.\r\n                        </Typography>\r\n                        <Typography variant='body2' gutterBottom style={{ paddingLeft: 10, paddingRight: 10, fontSize: '0.75rem' }}>\r\n                            IMPORTANTE: Esta funcionalidad solo se encuentra disponible cuando hay un solo usuario conectado al diseño de aprendizaje.\r\n                        </Typography>\r\n                        {\r\n                            designState.users.length > 1 && <Alert severity='warning' variant='outlined' style={{display: 'flex', alignItems: 'center'}}>\r\n                                Esta funcionalidad está habilitada cuando hay un solo usuario conectado al diseño.\r\n                                Por lo tanto, no podrá guardar los cambios. \r\n                                Por favor inténtelo más tarde, cuando solo usted esté conectado al diseño.\r\n                            </Alert>\r\n                        }\r\n                        {\r\n                            newOrder.length > 0\r\n                                ? <DragDropContext onDragEnd={handleDragEnd}>\r\n                                    <Droppable droppableId=\"reorder-activities\">\r\n                                        {(provided, snapshot) => (\r\n                                            <Box\r\n                                                {...provided.droppableProps}\r\n                                                ref={provided.innerRef}\r\n                                                className={classes.dndZone}\r\n                                            >\r\n                                                {newOrder.map((la, index) => (\r\n                                                    <Draggable key={la.id} draggableId={la.id} index={index}>\r\n                                                        {(provided, snapshot) => (\r\n                                                            <div\r\n                                                                ref={provided.innerRef}\r\n                                                                {...provided.draggableProps}\r\n                                                                {...provided.dragHandleProps}\r\n                                                                className={classes.draggable}\r\n                                                            >\r\n                                                                <Reorder style={{ marginRight: 10 }} />\r\n                                                                <Box className={classes.ellipsis}>\r\n                                                                    <Typography className={classes.ellipsis} color='textPrimary' title={!!la.title ? la.title : 'Actividad sin título'}>{!!la.title ? la.title : 'Actividad sin título'}</Typography>\r\n                                                                    <Typography className={classes.ellipsis} color='textSecondary' variant='caption' title={!!la.description ? la.description : 'Actividad sin Descripción'}>{!!la.description ? la.description : 'Actividad sin Descripción'}</Typography>\r\n                                                                </Box>\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </Draggable>\r\n                                                ))}\r\n                                                {provided.placeholder}\r\n                                            </Box>\r\n                                        )}\r\n                                    </Droppable>\r\n                                </DragDropContext>\r\n                                : <Box fontSize='caption.fontSize' fontStyle='italic' textAlign='center' marginTop='50px'>\r\n                                    No se han registrado actividades para este diseño de aprendizaje.\r\n                                </Box>\r\n                        }\r\n\r\n                    </Box>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose}>\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button variant='contained' color='primary' disabled={designState.users.length > 1} onClick={handleReorder}>\r\n                        Guardar\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useRef } from 'react'\r\nimport { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, makeStyles, Typography, useTheme } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport types from 'types';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport { Reorder } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n    root: {\r\n        margin: 10,\r\n        height: 400,\r\n    },\r\n    dndZone: {\r\n        width: '100%',\r\n        padding: 10,\r\n        backgroundColor: theme.palette.background.default,\r\n    },\r\n    ellipsis: {\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n    draggable: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        height: 55,\r\n        width: '100%',\r\n        marginBottom: 5,\r\n        border: `1px solid ${theme.palette.divider}`,\r\n        borderRadius: theme.shape.borderRadius,\r\n        padding: '5px 10px',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n}));\r\n\r\nconst reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n\r\n    return result;\r\n};\r\n\r\nexport const ReorderTasksModal = () => {\r\n    const theme = useTheme();\r\n    const classes = useStyles();\r\n    const isMounted = useRef(true);\r\n    const { uiState, dispatch } = useUiState();\r\n    const { designState } = useDesignState();\r\n    const { design } = designState;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { socket, emitWithTimeout } = useSocketState();\r\n    const { reorderTaskModalState } = uiState;\r\n    const { learningActivityId, tasks } = reorderTaskModalState;\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        }\r\n    }, []);\r\n\r\n    const handleClose = () => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'ReorderTasks'\r\n        });\r\n        setTimeout(() => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.ui.setReorderTasksModalState,\r\n                    payload: {\r\n                        learningActivityId: null,\r\n                        tasks: [],\r\n                    }\r\n                });\r\n            }\r\n        }, theme.transitions.duration.enteringScreen);\r\n    };\r\n\r\n    const handleReorder = () => {\r\n        socket?.emit('reorder-tasks', { designId: design._id, learningActivityId, newOrder: tasks.map(la => la.id) }, emitWithTimeout(\r\n            (resp) => {\r\n                if (resp.ok && uiState.userSaveDesign) {\r\n                    dispatch({\r\n                        type: types.ui.setUserSaveDesign,\r\n                        payload: false,\r\n                    });\r\n                }\r\n                return enqueueSnackbar(resp.message, { variant: resp.ok ? 'success' : 'error', autoHideDuration: 2000 });\r\n            },\r\n            () => enqueueSnackbar('Error la cambiar el orden de las tareas. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n        ));\r\n        handleClose();\r\n    };\r\n\r\n    if (!design) {\r\n        return (<Typography>Cargando...</Typography>);\r\n    };\r\n\r\n    const handleDragEnd = (result) => {\r\n        if (!result.destination) return;\r\n        const items = reorder(\r\n            tasks,\r\n            result.source.index,\r\n            result.destination.index\r\n        );\r\n        if (isMounted.current) {\r\n            dispatch({\r\n                type: types.ui.setReorderTasksModalState,\r\n                payload: {\r\n                    learningActivityId,\r\n                    tasks: items,\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Dialog\r\n                open={uiState.isReorderTasksModalOpen}\r\n                onClose={handleClose}\r\n                maxWidth={'sm'}\r\n                fullWidth\r\n            >\r\n                <DialogTitle >\r\n                    Ordenar Tareas\r\n                </DialogTitle>\r\n                <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\r\n                    <CloseIcon />\r\n                </IconButton>\r\n                <DialogContent dividers style={{ padding: 0 }}>\r\n                    <Box className={classes.root}>\r\n                        <Typography variant='body2' gutterBottom style={{ marginLeft: 10, marginRight: 10 }}>\r\n                            En la siguiente lista puede ordenar las tareas como desee.\r\n                            Para hacer esto, arrastre y suelte las tareas.\r\n                        </Typography>\r\n                        <Typography variant='body2' gutterBottom style={{ paddingLeft: 10, paddingRight: 10, fontSize: '0.75rem' }}>\r\n                            IMPORTANTE: Esta funcionalidad solo se encuentra disponible cuando hay un solo usuario conectado al diseño de aprendizaje.\r\n                        </Typography>\r\n                        {\r\n                            designState.users.length > 1 && <Alert severity='warning' variant='outlined' style={{display: 'flex', alignItems: 'center'}}>\r\n                                Esta funcionalidad está habilitada cuando hay un solo usuario conectado al diseño.\r\n                                Por lo tanto, no podrá guardar los cambios. \r\n                                Por favor inténtelo más tarde, cuando solo usted esté conectado al diseño.\r\n                            </Alert>\r\n                        }\r\n                        {\r\n                            tasks.length > 0\r\n                                ? <DragDropContext onDragEnd={handleDragEnd}>\r\n                                    <Droppable droppableId=\"reorder-activities\">\r\n                                        {(provided, snapshot) => (\r\n                                            <Box\r\n                                                {...provided.droppableProps}\r\n                                                ref={provided.innerRef}\r\n                                                className={classes.dndZone}\r\n                                            >\r\n                                                {tasks.map((task, index) => (\r\n                                                    <Draggable key={task.id} draggableId={task.id} index={index}>\r\n                                                        {(provided, snapshot) => (\r\n                                                            <div\r\n                                                                ref={provided.innerRef}\r\n                                                                {...provided.draggableProps}\r\n                                                                {...provided.dragHandleProps}\r\n                                                                className={classes.draggable}\r\n                                                            >\r\n                                                                <Reorder style={{ marginRight: 10 }} />\r\n                                                                <Box className={classes.ellipsis}>\r\n                                                                    <Typography className={classes.ellipsis} color='textPrimary' title={!!task.description ? task.description : 'Actividad sin descripción'}>{!!task.description ? task.description : 'Actividad sin descripción'}</Typography>\r\n                                                                    <Typography className={classes.ellipsis} color='textSecondary' variant='caption' title={!!task.learningType ? task.learningType : 'Actividad sin tipo'}>{!!task.learningType ? task.learningType : 'Actividad sin tipo'}</Typography>\r\n                                                                </Box>\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </Draggable>\r\n                                                ))}\r\n                                                {provided.placeholder}\r\n                                            </Box>\r\n                                        )}\r\n                                    </Droppable>\r\n                                </DragDropContext>\r\n                                : <Box fontSize='caption.fontSize' fontStyle='italic' textAlign='center' marginTop='50px'>\r\n                                    No se han registrado tareas para esta actividad de aprendizaje.\r\n                                </Box>\r\n\r\n                        }\r\n                    </Box>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose}>\r\n                        Cancelar\r\n                    </Button>\r\n                    <Button variant='contained' color='primary' disabled={designState.users.length > 1} onClick={handleReorder}>\r\n                        Guardar\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n","import React, { createRef, useRef, useState } from 'react';\r\nimport { Avatar, Box, Button, ButtonGroup, Card, CardActionArea, Divider, Fab, Grid, makeStyles, Menu, MenuItem, Tooltip, Typography, useMediaQuery } from '@material-ui/core';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport { LearningActivity } from 'pages/DesignPage/Workspace/LearningActivity';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { StackedBar } from 'components/StackedBar';\r\nimport { PieGraphic } from 'components/PieGraphic';\r\nimport { itemsLearningType, itemsFormat, itemsModality, itemsLearningTypePie } from 'assets/resource/items'\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport { ShareModal } from './ShareModal';\r\nimport types from 'types';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Add, Description, Reorder } from '@material-ui/icons';\r\nimport ObjectID from 'bson-objectid';\r\nimport { ViewAndDownloadPDFModal } from 'pages/DesignPage/PDF/ViewAndDownloadPDFModal';\r\nimport { useUserConfigState } from 'contexts/UserConfigContext';\r\nimport { ResourceLinksModal } from './ResourceLinksModal';\r\nimport { EvaluationModal } from './EvaluationModal';\r\nimport { exportJsonToFile } from 'utils/files';\r\nimport { formatName, getUserInitials } from 'utils/textFormatters';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { ReorderActivitiesModal } from './ReorderActivitiesModal';\r\nimport { useMemo } from 'react';\r\nimport { ReorderTasksModal } from './ReorderTaskModal';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        background: theme.palette.background.workSpace,\r\n        minHeight: 'calc(100vh - 412px)',\r\n    },\r\n    leftPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n        background: theme.palette.background.paper,\r\n    },\r\n    workspace: {\r\n        paddingLeft: 15,\r\n        paddingRight: 15,\r\n        position: 'relative',\r\n        background: theme.palette.background.workSpace,\r\n        height: 'auto',\r\n        paddingBottom: theme.spacing(6),\r\n        [theme.breakpoints.up('md')]: {\r\n            height: 'calc(100vh - 212px)',\r\n            paddingBottom: theme.spacing(4),\r\n        },\r\n    },\r\n    rightPanel: {\r\n        display: 'flex',\r\n        position: 'relative',\r\n        flexDirection: 'column',\r\n        borderLeft: `1px solid ${theme.palette.divider}`,\r\n        background: theme.palette.background.paper\r\n    },\r\n    buttonGroupWorkSpace: {\r\n        height: 'auto',\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    textLeftPanel: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1)\r\n    },\r\n    spaceData: {\r\n        marginBottom: theme.spacing(1),\r\n        borderBottom: `2px solid ${theme.palette.divider}`\r\n    },\r\n    LeftPanelMetadata: {\r\n        marginTop: theme.spacing(1),\r\n        paddingLeft: theme.spacing(2),\r\n        paddingRight: theme.spacing(2),\r\n        height: 'auto',\r\n        paddingBottom: theme.spacing(1),\r\n        [theme.breakpoints.up('xs')]: {\r\n            height: 'calc(100vh - 235px)',\r\n            overflow: 'auto'\r\n        },\r\n    },\r\n    textLeftPanelMetadata: {\r\n        marginTop: theme.spacing(3)\r\n    },\r\n    graphicsSpacing: {\r\n        marginLeft: theme.spacing(2),\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    betweenGraphics: {\r\n        marginTop: theme.spacing(2),\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n    workSpaceUnits: {\r\n        width: '100%',\r\n        height: 'auto',\r\n        [theme.breakpoints.up('md')]: {\r\n            height: '85%',\r\n            overflow: 'auto',\r\n            overflowX: 'hidden',\r\n        },\r\n    },\r\n    buttonZone: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        marginBottom: 15,\r\n        [theme.breakpoints.down('md')]: {\r\n            flexWrap: 'wrap',\r\n        },\r\n    },\r\n    fab: {\r\n        position: 'absolute',\r\n        bottom: 5,\r\n        right: theme.spacing(2),\r\n    },\r\n    origin: {\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        border: `1px solid ${theme.palette.divider}`,\r\n        borderRadius: 4,\r\n        cursor: 'pointer',\r\n        userSelect: 'none',\r\n        backgroundColor: theme.palette.background.design,\r\n        '&:hover': {\r\n            boxShadow: '0px 0px 10px 0 #bcc3d6',\r\n            background: theme.palette.background.designHover,\r\n        },\r\n    }\r\n}));\r\n\r\nexport const DesignWorkspace = () => {\r\n    const classes = useStyles();\r\n    const { designState } = useDesignState();\r\n    const { authState } = useAuthState();\r\n    const history = useHistory();\r\n    const { design } = designState;\r\n    const { metadata } = design;\r\n    const { socket, emitWithTimeout } = useSocketState();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const theme = useTheme();\r\n    const isMediumDevice = useMediaQuery(theme.breakpoints.down('md'));\r\n    const { uiState, dispatch } = useUiState();\r\n    const [openMenuPDF, setOpenMenuPDF] = useState(null);\r\n    const imgGraphic = useRef();\r\n    const { userConfig } = useUserConfigState();\r\n    const [pdfView, setPdfView] = useState(false);\r\n    let showGraphicLearningType = false;\r\n    let showGraphicFormat = false;\r\n    let showGraphicModality = false;\r\n    let sumHours = 0;\r\n    let sumMinutes = 0;\r\n\r\n    const refs = useMemo(() => {\r\n        return design.data.learningActivities.reduce((activity, value) => {\r\n            activity[value.id] = createRef();\r\n            return activity;\r\n        }, {});\r\n    }, [design.data.learningActivities]);\r\n\r\n    const handleSaveDesign = (e) => {\r\n        socket?.emit('save-design', { designId: design._id }, emitWithTimeout(\r\n            (resp) => {\r\n                if (resp.ok && !uiState.userSaveDesign) {\r\n                    dispatch({\r\n                        type: types.ui.setUserSaveDesign,\r\n                        payload: true,\r\n                    })\r\n                }\r\n                enqueueSnackbar(resp.message, { variant: 'success', autoHideDuration: 2000 });\r\n            },\r\n            () => enqueueSnackbar('Error al intentar guardar el diseño. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n        ));\r\n    };\r\n\r\n    const handleNewUA = () => {\r\n        const id = ObjectID().toString();\r\n        socket?.emit('new-learningActivity', { designId: design._id, id }, emitWithTimeout(\r\n            (resp) => {\r\n                if (!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n                if (uiState.userSaveDesign) {\r\n                    dispatch({\r\n                        type: types.ui.setUserSaveDesign,\r\n                        payload: false,\r\n                    });\r\n                }\r\n\r\n            },\r\n            () => enqueueSnackbar('Error al agregar la nueva actividad de aprendizaje. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n        ));\r\n        dispatch({\r\n            type: types.ui.setScrollToNewActivity,\r\n            payload: true\r\n        });\r\n    };\r\n\r\n    const handleOpenModal = () => {\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Share'\r\n        })\r\n    };\r\n\r\n    const handleOpenReorderActivitiesModal = () => {\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'ReorderActivities'\r\n        })\r\n    };\r\n\r\n    const handleOpenModalPDF = (type) => {\r\n        setPdfView(true);\r\n        handleCloseMenu();\r\n        dispatch({\r\n            type: types.ui.setPDF,\r\n            payload: type,\r\n        });\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'PDF'\r\n        });\r\n    };\r\n\r\n    const resetItems = () => {\r\n        itemsLearningType.forEach((item) => {\r\n            item.value = 0;\r\n        });\r\n        itemsLearningTypePie.forEach((item) => {\r\n            item.value = 0;\r\n        });\r\n\r\n        itemsFormat.forEach((item) => {\r\n            item.value = 0;\r\n        });\r\n        itemsModality.forEach((item) => {\r\n            item.value = 0;\r\n        });\r\n    };\r\n\r\n    const handleOpenMenu = (event) => {\r\n        setOpenMenuPDF(event.currentTarget);\r\n    };\r\n\r\n    const handleCloseMenu = () => {\r\n        setOpenMenuPDF(null);\r\n    };\r\n\r\n    const handleExportToFile = (e) => {\r\n        const designToExport = JSON.parse(JSON.stringify(design));\r\n        designToExport.comments = [];\r\n        designToExport.assessments = [];\r\n        designToExport.folder = '';\r\n        designToExport.origin = designToExport._id;\r\n        designToExport.privileges = [];\r\n        designToExport.owner = '';\r\n        designToExport.metadata.scoreMean = 0;\r\n        for (const learningActivity of designToExport.data.learningActivities) {\r\n            learningActivity.id = ObjectID().toString();\r\n            for (const task of learningActivity.tasks) {\r\n                task.id = ObjectID().toString();\r\n            }\r\n        }\r\n        delete designToExport._id;\r\n        delete designToExport.createdAt;\r\n        delete designToExport.updatedAt;\r\n        delete designToExport.readOnlyLink;\r\n        exportJsonToFile(designToExport, `${design.metadata.name.trim().length === 0 ? 'Diseño sin nombre' : design.metadata.name.trim()}.json`);\r\n        handleCloseMenu();\r\n    };\r\n\r\n    const handleOpenDesign = (design) => {\r\n        const inDesign = design.privileges.find(privilege => authState.user.uid === privilege.user._id);\r\n        if (inDesign) {\r\n            const typePrivilegeEditor = design.privileges.find(privilege => authState.user.uid === privilege.user && privilege.type === 0);\r\n            if (typePrivilegeEditor) {\r\n                history.push(`/designs/${design._id}`);\r\n            } else {\r\n                history.push(`/designs/reader/${design._id}`);\r\n            }\r\n        } else if (design.metadata.isPublic) {\r\n            history.push(`/designs/reader/${design._id}`);\r\n        } else {\r\n            enqueueSnackbar('Usted no tiene acceso a este diseño.', { variant: 'error', autoHideDuration: 2000 });\r\n        }\r\n    };\r\n\r\n    design.data.learningActivities.forEach((activities) => {\r\n        if (activities.tasks !== undefined) {\r\n            activities.tasks.forEach(task => {\r\n                if (task.learningType !== '' && task.learningType !== 'Seleccionar') {\r\n                    showGraphicLearningType = true;\r\n                }\r\n                if (task.format !== '' && task.format !== 'Seleccionar') {\r\n                    showGraphicFormat = true;\r\n                }\r\n                if (task.modality !== '' && task.modality !== 'Seleccionar') {\r\n                    showGraphicModality = true;\r\n                }\r\n            })\r\n        }\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <Grid container className={classes.root}>\r\n                <Grid item xs={12} md={3} lg={2} className={classes.leftPanel}>\r\n                    <Grid container alignItems='center' justify='center'>\r\n                        <Typography className={classes.textLeftPanel}> INFORMACIÓN DISEÑO </Typography>\r\n                    </Grid>\r\n                    <Divider className={classes.spaceData} />\r\n                    <Grid className={classes.LeftPanelMetadata}>\r\n                        <Grid>\r\n                            {metadata && metadata.name && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary'> Nombre </Typography>\r\n                                    <Typography variant='body2'>{metadata.name}</Typography>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            {metadata && metadata.category && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}>Tema</Typography>\r\n                                    <Typography variant='body2'> {metadata.category.name} </Typography>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            {metadata && metadata.workingTime && (\r\n                                <>\r\n                                    <Typography variant=\"body2\" color='textSecondary' className={classes.textLeftPanelMetadata}> Tiempo de trabajo </Typography>\r\n                                    <Typography variant=\"body2\"> {metadata.workingTime.hours} (hrs) : {metadata.workingTime.minutes} (min)</Typography>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            {metadata && metadata.workingTimeDesign && (\r\n                                <>\r\n                                    <Typography variant=\"body2\" color='textSecondary' className={classes.textLeftPanelMetadata}>Tiempo de trabajo Diseño</Typography>\r\n                                    <Typography variant=\"body2\"> {metadata.workingTimeDesign.hours} (hrs) : {metadata.workingTimeDesign.minutes} (min)</Typography>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            {metadata && metadata.classSize !== null && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Tamaño de la clase </Typography>\r\n                                    <Typography variant='body2'> {metadata.classSize} </Typography>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            {metadata && metadata.priorKnowledge && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Conocimiento Previo </Typography>\r\n                                    <Typography variant='body2' component={Box}> <pre style={{ fontFamily: 'inherit', margin: 0, wordBreak: 'break-word', whiteSpace: 'pre-wrap' }}>\r\n                                        {metadata.priorKnowledge}\r\n                                    </pre></Typography>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            {metadata && metadata.description && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Descripción </Typography>\r\n                                    <Typography variant='body2' component={Box}> <pre style={{ fontFamily: 'inherit', margin: 0, wordBreak: 'break-word', whiteSpace: 'pre-wrap' }}>\r\n                                        {metadata.description}\r\n                                    </pre> </Typography>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            {metadata && metadata.evaluation && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Evaluación </Typography>\r\n                                    <Typography variant='body2' component={Box}> <pre style={{ fontFamily: 'inherit', margin: 0, wordBreak: 'break-word', whiteSpace: 'pre-wrap' }}>\r\n                                        {metadata.evaluation}\r\n                                    </pre> </Typography>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        {/*<Grid>\r\n                            {metadata && metadata.objective && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Objetivos </Typography>\r\n                                    <Typography variant='body2' component={Box}> <pre style={{ fontFamily: 'inherit', margin: 0, wordBreak: 'break-word', whiteSpace: 'pre-wrap' }}>\r\n                                        {metadata.objective}\r\n                                    </pre> </Typography>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        */}\r\n                        <Grid>\r\n                            {metadata && metadata.scoreMean !== null && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Valoración media (0 - 5) </Typography>\r\n                                    <Box display='flex' justifyContent='flex-start' alignItems='center'>\r\n                                        {metadata.scoreMean}\r\n                                    </Box>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            {metadata && metadata.results && (\r\n                                <div className={classes.textLeftPanelMetadata}>\r\n                                    {metadata.results.map((result, i) =>\r\n                                        <div key={`learning-result-${i}`} >\r\n                                            <Typography variant='body2' color={'textSecondary'}>Aprendizaje esperado {i + 1}</Typography>\r\n                                            <Typography variant='body2' gutterBottom >{result.verb + ' ' + result.description}</Typography>\r\n                                        </div>\r\n                                    )}\r\n                                    <Divider />\r\n                                </div>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            {design.origin && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Derivado del diseño: </Typography>\r\n                                    <Card className={classes.origin} elevation={0}>\r\n                                        <CardActionArea onClick={() => handleOpenDesign(design.origin)}>\r\n                                            <Box style={{ display: 'flex', alignItems: 'center', padding: 5 }}>\r\n                                                <Description style={{ marginBottom: 5 }} />\r\n                                                <Typography style={{ marginLeft: 10 }} variant='body2'>{design.origin.metadata.name}</Typography>\r\n                                            </Box>\r\n                                        </CardActionArea>\r\n                                        <Divider />\r\n                                        <CardActionArea component={Link} to={`/profile/${design.origin.owner._id}`}>\r\n                                            <Box style={{ display: 'flex', alignItems: 'center', padding: 5 }}>\r\n                                                <Avatar\r\n                                                    style={{ width: 25, height: 25, fontSize: 15 }}\r\n                                                    alt={formatName(design.origin.owner.name, design.origin.owner.lastname)}\r\n                                                    src={design.origin.owner.img && design.origin.owner.img.length > 0 ? `${process.env.REACT_APP_URL}uploads/users/${design.origin.owner.img}` : ''}\r\n                                                >\r\n                                                    {getUserInitials(design.origin.owner.name, design.origin.owner.lastname)}\r\n                                                </Avatar>\r\n                                                <Typography style={{ marginLeft: 10 }} variant='body2'>{formatName(design.origin.owner.name, design.origin.owner.lastname)}</Typography>\r\n                                            </Box>\r\n                                        </CardActionArea>\r\n\r\n                                    </Card>\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item xs={12} md={6} lg={8} className={classes.workspace}>\r\n                    <div className={classes.buttonZone}>\r\n                        <Menu\r\n                            variant={'selectedMenu'}\r\n                            anchorEl={openMenuPDF}\r\n                            keepMounted\r\n                            open={Boolean(openMenuPDF)}\r\n                            onClose={handleCloseMenu}\r\n                        >\r\n                            <MenuItem onClick={() => handleOpenModalPDF('teacher')}>PDF Docente</MenuItem>\r\n                            <MenuItem onClick={() => handleOpenModalPDF('student')}>PDF Estudiante</MenuItem>\r\n                            <MenuItem onClick={handleExportToFile}>Respaldar Diseño</MenuItem>\r\n                        </Menu>\r\n                        <ButtonGroup fullWidth={isMediumDevice} className={classes.buttonGroupWorkSpace}>\r\n                            <Button onClick={handleOpenMenu}>Exportar</Button>\r\n                            <Button onClick={handleOpenModal}>Compartir</Button>\r\n                            <Button onClick={handleSaveDesign}>Guardar</Button>\r\n                        </ButtonGroup>\r\n                        {\r\n                            designState.users.length > 1\r\n                                ? <Tooltip title='Esta función no esta disponible de manera colaborativa, debe haber 1 solo usuario conectado.' arrow>\r\n                                    <Box>\r\n                                        <Button\r\n                                            size='small'\r\n                                            fullWidth={isMediumDevice}\r\n                                            style={{ height: 36 }}\r\n                                            variant='outlined'\r\n                                            disabled={designState.users.length > 1}\r\n                                            onClick={handleOpenReorderActivitiesModal}\r\n                                            >\r\n                                            <Reorder style={{ marginRight: 10 }} /> Ordenar Actividades\r\n                                        </Button>\r\n                                    </Box>\r\n                                </Tooltip>\r\n                                : <Button\r\n                                    size='small'\r\n                                    fullWidth={isMediumDevice}\r\n                                    style={{ height: 36 }}\r\n                                    variant='outlined'\r\n                                    disabled={designState.users.length > 1}\r\n                                    onClick={handleOpenReorderActivitiesModal}\r\n                                >\r\n                                    <Reorder style={{ marginRight: 10 }} /> Ordenar Actividades\r\n                                </Button>\r\n                        }\r\n                    </div>\r\n                    <Box id='learningActivities' className={classes.workSpaceUnits}>\r\n                        <Box>\r\n                            <Grid className={classes.workSpaceUnits}>\r\n                                <Grid >\r\n                                    {\r\n                                        design.data.learningActivities && design.data.learningActivities.map((learningActivity, index) =>\r\n                                            <LearningActivity key={`learningActivity-${learningActivity.id}-${index}`} refActivity={refs[learningActivity.id]} index={index} learningActivity={learningActivity} sumHours={sumHours} sumMinutes={sumMinutes} />\r\n                                        )}\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Box>\r\n                    </Box>\r\n                    <Tooltip title='Agregar actividad de aprendizaje' arrow>\r\n                        <Fab color=\"primary\" className={classes.fab} onClick={handleNewUA}>\r\n                            <Add />\r\n                        </Fab>\r\n                    </Tooltip>\r\n                </Grid>\r\n                <Grid item xs={12} md={3} lg={2} className={classes.rightPanel}>\r\n                    {resetItems()}\r\n                    <div style={{ position: 'absolute', zIndex: 1, width: '100%' }}>\r\n                        <Grid className={classes.graphicsSpacing} >\r\n                            {\r\n                                design.data.learningActivities && design.data.learningActivities.map((learningActivity) =>\r\n                                    learningActivity.tasks && learningActivity.tasks.forEach((task) => {\r\n                                        itemsLearningType.forEach((item) => {\r\n                                            if (item.title === task.learningType) {\r\n                                                item.minutes = (task.duration.hours * 60) + task.duration.minutes;\r\n                                                item.value = item.value + item.minutes;\r\n                                            }\r\n                                        });\r\n                                        itemsLearningTypePie.forEach((item) => {\r\n                                            if (item.title === task.learningType) {\r\n                                                item.minutes = (task.duration.hours * 60) + task.duration.minutes;\r\n                                                item.value = item.value + item.minutes;\r\n                                            }\r\n                                        });\r\n                                        itemsFormat.forEach((item) => {\r\n                                            if (item.title === task.format) {\r\n                                                item.minutes = (task.duration.hours * 60) + task.duration.minutes;\r\n                                                item.value = item.value + item.minutes;\r\n                                            }\r\n                                        });\r\n                                        itemsModality.forEach((item) => {\r\n                                            if (item.title === task.modality) {\r\n                                                item.minutes = (task.duration.hours * 60) + task.duration.minutes;\r\n                                                item.value = item.value + item.minutes;\r\n                                            }\r\n                                        });\r\n                                    }))\r\n                            }\r\n                            {showGraphicLearningType &&\r\n                                <div className={classes.betweenGraphics} >\r\n                                    <PieGraphic items={itemsLearningTypePie} colorGraphicToPdf={true}></PieGraphic>\r\n                                </div>\r\n                            }\r\n                            {showGraphicFormat &&\r\n                                <div className={classes.betweenGraphics}>\r\n                                    <Typography>Formato</Typography>\r\n                                    <StackedBar items={itemsFormat} type={'Format'} legends={true} colorGraphicToPdf={true} ></StackedBar>\r\n                                </div>\r\n                            }\r\n                            {showGraphicModality &&\r\n                                <div className={classes.betweenGraphics}>\r\n                                    <Typography>Modalidad</Typography>\r\n                                    <StackedBar items={itemsModality} type={'Modality'} legends={true} colorGraphicToPdf={true}></StackedBar>\r\n                                </div>\r\n                            }\r\n                        </Grid>\r\n                    </div>\r\n                    <div style={{ zIndex: 0, width: '100%' }}>\r\n                        <Grid className={classes.graphicsSpacing} ref={imgGraphic}>\r\n                            {\r\n                                design.data.learningActivities && design.data.learningActivities.map((learningActivity) =>\r\n                                    learningActivity.tasks && learningActivity.tasks.forEach((task) => {\r\n                                        itemsLearningType.forEach((item) => {\r\n                                            if (item.title === task.learningType) {\r\n                                                item.minutes = (task.duration.hours * 60) + task.duration.minutes;\r\n                                                item.value = item.value + item.minutes;\r\n                                            }\r\n                                        });\r\n                                        itemsLearningTypePie.forEach((item) => {\r\n                                            if (item.title === task.learningType) {\r\n                                                item.minutes = (task.duration.hours * 60) + task.duration.minutes;\r\n                                                item.value = item.value + item.minutes;\r\n                                            }\r\n                                        });\r\n                                        itemsFormat.forEach((item) => {\r\n                                            if (item.title === task.format) {\r\n                                                item.minutes = (task.duration.hours * 60) + task.duration.minutes;\r\n                                                item.value = item.value + item.minutes;\r\n                                            }\r\n                                        });\r\n                                        itemsModality.forEach((item) => {\r\n                                            if (item.title === task.modality) {\r\n                                                item.minutes = (task.duration.hours * 60) + task.duration.minutes;\r\n                                                item.value = item.value + item.minutes;\r\n                                            }\r\n                                        });\r\n                                    }))\r\n                            }\r\n                            {showGraphicLearningType &&\r\n                                <div className={classes.betweenGraphics}>\r\n                                    <PieGraphic items={itemsLearningTypePie} colorGraphicToPdf={false}></PieGraphic>\r\n                                </div>\r\n                            }\r\n                            {showGraphicFormat &&\r\n                                <div className={classes.betweenGraphics}>\r\n                                    {\r\n                                        userConfig.darkTheme ? <Typography style={{ color: '#000000' }}>Formato</Typography> : <Typography >Formato</Typography>\r\n                                    }\r\n\r\n                                    <StackedBar items={itemsFormat} type={'Format'} legends={true} colorGraphicToPdf={false}></StackedBar>\r\n                                </div>\r\n                            }\r\n                            {showGraphicModality &&\r\n                                <div className={classes.betweenGraphics}>\r\n                                    {\r\n                                        userConfig.darkTheme ? <Typography style={{ color: '#000000' }}>Modalidad</Typography> : <Typography >Modalidad</Typography>\r\n                                    }\r\n                                    <StackedBar items={itemsModality} type={'Modality'} legends={true} colorGraphicToPdf={false} ></StackedBar>\r\n                                </div>\r\n                            }\r\n                        </Grid>\r\n                    </div>\r\n                </Grid>\r\n                <ShareModal />\r\n                <ReorderActivitiesModal />\r\n                <ReorderTasksModal />\r\n                {\r\n                    (pdfView) &&\r\n                    <ViewAndDownloadPDFModal imgGraphic={imgGraphic} setPdfView={setPdfView} />\r\n                }\r\n                {\r\n                    (uiState.isResourceModalOpen) &&\r\n                    <ResourceLinksModal />\r\n                }\r\n                {\r\n                    (uiState.isEvaluationModalOpen) &&\r\n                    <EvaluationModal />\r\n                }\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n","\r\n\r\nexport const exportJsonToFile = (json='', filename = 'example.json') => {\r\n    if(typeof json === 'object') json = JSON.stringify(json);\r\n    let auxElement = document.createElement('a');\r\n    auxElement.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(json));\r\n    auxElement.setAttribute('download', filename);\r\n    auxElement.click();\r\n}","import React from 'react';\r\nimport { IconButton, makeStyles, Typography } from '@material-ui/core';\r\nimport { Delete, Edit } from '@material-ui/icons';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        padding: 20,\r\n        width: '49%',\r\n        marginBottom: 10,\r\n        borderRadius: 5,\r\n        border: `1px solid ${ theme.palette.divider }`,\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: '100%'\r\n        }\r\n    },\r\n    description: {\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        textAlign: 'justify',\r\n    },\r\n    actions: {\r\n        width: 96,\r\n        display: 'flex',\r\n        alignItems: 'flex-start'\r\n    }\r\n}));\r\n\r\nexport const LearningResult = ({ category, verb, description, index}) => {\r\n    const classes = useStyles();\r\n    const { uiState, dispatch: uiDispatch } = useUiState();\r\n    const { designState, dispatch: designDispatch } = useDesignState();\r\n    const { design } = designState;\r\n\r\n    const handleEdit = () => {\r\n        designDispatch({\r\n            type: types.design.setCurrentLearningResult,\r\n            payload: {\r\n                category,\r\n                verb,\r\n                description,\r\n                editing: true,\r\n                index,\r\n            }\r\n        });\r\n        uiDispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'LearningResult',\r\n        });\r\n    };\r\n\r\n    const handleDelete = () => {\r\n        uiDispatch({\r\n            type: types.ui.setConfirmData,\r\n            payload: {\r\n                type: 'resultado de aprendizaje',\r\n                args: { designId: design._id, index },\r\n                actionMutation: null,\r\n            }\r\n        });\r\n        uiDispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Confirmation',\r\n        });\r\n        if(uiState.userSaveDesign){\r\n            uiDispatch({\r\n                type: types.ui.setUserSaveDesign,\r\n                payload: false,\r\n            })\r\n        };\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <div style={{width: '100%'}}>\r\n                <Typography color=\"textSecondary\" gutterBottom variant='caption'>Resultado</Typography>\r\n                <Typography variant='body2'>{verb} {description}</Typography>\r\n            </div>\r\n            <div className={classes.actions}>\r\n                <IconButton className={classes.deleteIcon} onClick={handleEdit} >\r\n                    <Edit />\r\n                </IconButton>\r\n                <IconButton className={classes.deleteIcon} onClick={handleDelete} >\r\n                    <Delete />\r\n                </IconButton>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport types from 'types';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        height: 300,\r\n        clipPath: 'polygon(50% 0, 0 100%, 100% 100%)',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    option: {\r\n        backgroundColor: theme.palette.secondary.main,\r\n        marginBottom: 10,\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        color: theme.palette.getContrastText(theme.palette.secondary.main),\r\n        '&:hover': {\r\n            transition: 'box-shadow .3s',\r\n            cursor: 'pointer',\r\n            boxShadow: '0 0px 8px 0 rgba(0, 0, 0, 0.2), 0 0px 20px 0 rgba(0, 0, 0, 0.19)'\r\n        }\r\n    },\r\n    crear: {\r\n        paddingTop: 30,\r\n        height: '25%'\r\n    },\r\n    evaluar: {\r\n        height: '16.6%'\r\n    },\r\n    analizar: {\r\n        height: '16.6%'\r\n    },\r\n    aplicar: {\r\n        height: '16.6%'\r\n    },\r\n    comprender: {\r\n        height: '16.6%'\r\n    },\r\n    recordar: {\r\n        height: '16.6%'\r\n    },\r\n    active: {\r\n        boxShadow: '0 0px 8px 0 rgba(0, 0, 0, 0.2), 0 0px 20px 0 rgba(0, 0, 0, 0.19)',\r\n        backgroundColor: theme.palette.primary.main,\r\n        color: theme.palette.getContrastText(theme.palette.primary.main),\r\n    }\r\n}));\r\n\r\nexport const BloomPiramid = () => {\r\n    const classes = useStyles();\r\n    const { designState, dispatch } = useDesignState();\r\n    const active = designState.currentLearningResult.category;\r\n    const { bloomCategories } = designState;\r\n\r\n    const handleSelectOption = ( value ) => {\r\n        dispatch({\r\n            type: types.design.setCurrentLearningResultField,\r\n            payload: {\r\n                field: 'category',\r\n                value,\r\n            }\r\n        });\r\n    };\r\n\r\n    const createOptionList = () => {\r\n        return bloomCategories.map( option => {\r\n            const isActive = active._id === option._id;\r\n            return (\r\n                <div \r\n                    key={option._id}\r\n                    onClick={()=> handleSelectOption(isActive ? null : option)}\r\n                    className={`${classes.option} ${classes[option.name.toLowerCase()]} ${isActive && classes.active}`}\r\n                >\r\n                    { option.name }\r\n                </div>\r\n            );\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            { createOptionList() }\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { FormControlLabel, makeStyles, Radio } from '@material-ui/core';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport types from 'types';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        width: '100%',\r\n        justifyContent: 'center',\r\n    },\r\n    option: {\r\n        minWidth: '25%'\r\n    }\r\n}));\r\n\r\nexport const BloomVerbList = () => {\r\n    const classes = useStyles();\r\n    const { designState, dispatch } = useDesignState();\r\n    const category = designState.currentLearningResult.category;\r\n    const active = designState.currentLearningResult.verb;\r\n    const { bloomVerbs } = designState;\r\n    \r\n    const handleSelectOption = ( value ) => {\r\n        dispatch({\r\n            type: types.design.setCurrentLearningResultField,\r\n            payload: {\r\n                field: 'verb',\r\n                value,\r\n            }\r\n        });\r\n    };\r\n\r\n    const createOptionList = () => {\r\n        return bloomVerbs.filter((verb) => verb.category === category._id).map(option => {\r\n            const isActive = active === option.name;\r\n            return (\r\n            <FormControlLabel \r\n                className={classes.option}\r\n                key={option._id}\r\n                value={option.name}\r\n                control={<Radio\r\n                    checked={isActive}\r\n                    onChange={(e)=> handleSelectOption(option.name)}\r\n                    value={option.name}\r\n                />}\r\n                label={option.name}\r\n            />\r\n        )});\r\n    }\r\n    return (\r\n        <div className={classes.root}>\r\n            {createOptionList()}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, InputAdornment, makeStyles, Step, StepLabel, Stepper, TextField, Typography, useTheme } from '@material-ui/core';\r\nimport { Close } from '@material-ui/icons';\r\nimport { BloomPiramid } from 'pages/DesignPage/Metadata/BloomPiramid';\r\nimport { BloomVerbList } from 'pages/DesignPage/Metadata/BloomVerbList';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport types from 'types';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    closeButton: {\r\n        color: theme.palette.grey[500],\r\n    },\r\n    title: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    adornament: {\r\n        display: 'flex',\r\n        alignItems: 'flex-start'\r\n    },\r\n    steps: {\r\n        padding: 0,\r\n        marginTop: 30,\r\n        marginBottom: 30,\r\n    },\r\n    stepContent: {\r\n        margin: 20,\r\n        [theme.breakpoints.down('xs')]: {\r\n            margin: 10\r\n        },\r\n    }\r\n}));\r\n\r\nexport const LearningResultModal = ({ design, isOpen }) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { socket/*, online*/, emitWithTimeout } = useSocketState();\r\n    const { designState, dispatch: designDispatch } = useDesignState();\r\n    const { uiState, dispatch: uiDispatch } = useUiState();\r\n    const { category, verb, editing, index } = designState.currentLearningResult;\r\n    const [ description, setDescription ] = useState(designState.currentLearningResult.description ?? '');\r\n    const [activeStep, setActiveStep] = useState(0);\r\n    const steps = ['Selecciona una categoría de bloom', 'Selecciona un verbo', 'Proporciona una descripción'];\r\n\r\n    const isMounted = useRef(true);\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if(isMounted.current) setDescription(designState.currentLearningResult.description);\r\n    }, [setDescription, designState.currentLearningResult.description]);\r\n\r\n    const handleNext = () => {\r\n        if(activeStep === 0 && category._id === null && category.name === null) return console.log('No ha seleccionado una categoría de bloom.');\r\n        else if (activeStep === 1 && (verb === '' || !verb)) return console.log('No ha seleccionado un verbo de bloom.');\r\n        if (isMounted.current) setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n    };\r\n\r\n    const handleBack = () => {\r\n        if (isMounted.current) setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n    };\r\n\r\n    const handleClose = (e) => {\r\n        uiDispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'LearningResult',\r\n        });\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        handleClose();\r\n        setTimeout(() => {\r\n            if (isMounted.current) setActiveStep(0);\r\n            setDescription('');\r\n            designDispatch({ type: types.design.clearCurrentLearningResult });\r\n        }, theme.transitions.duration.enteringScreen);\r\n    };\r\n    \r\n    const handleFinish = () => {\r\n        if(!description || (description && description.trim() === '')) return console.log('No se ha ingresado una descripción.');\r\n        designDispatch({\r\n            type: types.design.setCurrentLearningResultField,\r\n            payload: {\r\n                field: 'description',\r\n                value: description,\r\n            }\r\n        });\r\n        if(!editing) socket?.emit('add-learning-result', { designId: design._id, learningResult: { category: category, verb, description } }, emitWithTimeout(\r\n            (resp) => {\r\n                if(!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n                if(uiState.userSaveDesign){\r\n                    uiDispatch({\r\n                        type: types.ui.setUserSaveDesign,\r\n                        payload: false,\r\n                    });\r\n                };\r\n                handleCloseModal();\r\n            },\r\n            () => enqueueSnackbar('Error al agregar el aprendizaje esperado. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n        ));\r\n        else if (editing){\r\n            socket?.emit('edit-learning-result', { designId: design._id, index, learningResult: { category: category, verb, description } }, emitWithTimeout(\r\n                (resp) => {\r\n                    if(!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n                    if(uiState.userSaveDesign){\r\n                        uiDispatch({\r\n                            type: types.ui.setUserSaveDesign,\r\n                            payload: false,\r\n                        });\r\n                    };\r\n                    handleCloseModal();\r\n                },\r\n                () => enqueueSnackbar('Error al editar el aprendizaje esperado. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n            ));\r\n        };\r\n        \r\n    };\r\n\r\n    return (\r\n        <Dialog fullWidth open={isOpen} onClose={handleCloseModal} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle style={{padding: '5px 5px 5px 16px'}}>\r\n                <Box className={classes.title}>\r\n                    <Box className={classes.ellipsis}>\r\n                        {\r\n                            !editing ? 'Nuevo aprendizaje esperado' : 'Editar aprendizaje esperado'\r\n                        }\r\n                    </Box>\r\n                    <IconButton aria-label='close' className={classes.closeButton} onClick={handleCloseModal}>\r\n                        <Close />\r\n                    </IconButton>\r\n                </Box>\r\n            </DialogTitle>\r\n            <DialogContent dividers style={{padding: 0}}>\r\n                <Stepper \r\n                    classes={{root: classes.steps}}\r\n                    activeStep={activeStep} \r\n                    alternativeLabel\r\n                >\r\n                    {steps.map((label) => (\r\n                        <Step key={label}>\r\n                            <StepLabel>{label}</StepLabel>\r\n                        </Step>\r\n                    ))}\r\n                </Stepper>\r\n                {\r\n                    (activeStep === 0)\r\n                        ? <Box className={classes.stepContent}>\r\n                            <Typography style={{marginLeft: 10, marginRight: 10, marginBottom:10}} align='justify'>\r\n                                En la siguiente pirámide se encuentran las distintas categorías o habilidades de pensamiento descritas según la taxonomía de Benjamín Bloom.\r\n                            </Typography>\r\n                            <Typography style={{marginLeft: 10, marginRight: 10, marginBottom:10}} align='justify'>\r\n                                Por favor seleccione la categoría que más sentido tenga con el aprendizaje esperado que desea crear.\r\n                            </Typography>\r\n                            <BloomPiramid />\r\n                        </Box>\r\n                        : (activeStep === 1)\r\n                            ? <Box className={classes.stepContent}>\r\n                                <Typography style={{marginLeft: 10, marginRight: 10, marginBottom:10}} align='justify'>\r\n                                    En la siguiente lista se encuentran los distintos verbos descritos por la taxonomía de Bloom disponibles para la categoría \"{designState.bloomCategories.find(bc => bc._id === category._id).name }\". \r\n                                </Typography>\r\n                                <Typography style={{marginLeft: 10, marginRight: 10, marginBottom:10}} align='justify'>\r\n                                    Por favor seleccione el verbo que más sentido tenga con el aprendizaje esperado que desea crear.\r\n                                </Typography>\r\n                                <BloomVerbList />\r\n                            </Box>\r\n                            : <Box className={classes.stepContent}>\r\n                                <Typography style={{marginLeft: 10, marginRight: 10, marginBottom:10}} align='justify'>\r\n                                    Usted ha seleccionado el verbo \"{verb}\" correspondiente a la categoría \"{designState.bloomCategories.find(bc => bc._id === category._id).name }\".\r\n                                </Typography>\r\n                                <Typography style={{marginLeft: 10, marginRight: 10, marginBottom:10}} align='justify'>\r\n                                    Por favor complete la descripción del resultado de aprendizaje.\r\n                                </Typography>\r\n                                <TextField\r\n                                    multiline\r\n                                    classes={{}}\r\n                                    rows={6}\r\n                                    variant=\"outlined\"\r\n                                    name=\"description\"\r\n                                    value={description ?? ''}\r\n                                    onChange={({target})=> setDescription(target.value)}\r\n                                    label=\"Descripción\"\r\n                                    type=\"text\"\r\n                                    InputProps={{\r\n                                        style: {display: 'flex', alignItems: 'flex-start'},\r\n                                        startAdornment: <InputAdornment \r\n                                            position=\"start\" \r\n                                            style={{height: '100%'}}\r\n                                            classes={{root: classes.adornament}}\r\n                                        >\r\n                                            <div style={{width: '100%', height: '100%'}}>\r\n                                                {verb}\r\n                                            </div>\r\n                                        </InputAdornment>,\r\n                                    }}\r\n                                    fullWidth\r\n                                />\r\n                            </Box>\r\n                }\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button\r\n                    disabled={activeStep === 0}\r\n                    onClick={handleBack}\r\n                >\r\n                    Volver\r\n                </Button>\r\n                {\r\n                    (activeStep === steps.length - 1)\r\n                        ? <Button variant=\"contained\" color=\"primary\" disabled = {activeStep === 2 && (description === null || description === '')} onClick={handleFinish}>\r\n                            Finalizar\r\n                        </Button>\r\n                        : <Button variant=\"contained\" color=\"primary\" disabled = {activeStep === 0 ? category._id === null : activeStep === 1 && verb === null} onClick={handleNext}>\r\n                            Siguiente\r\n                        </Button>\r\n                }\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}","import React, { forwardRef, useCallback, useEffect, useImperativeHandle, useState } from 'react';\r\nimport { IconButton, TextField } from '@material-ui/core';\r\nimport { Edit, Save } from '@material-ui/icons';\r\n\r\nexport const TextEditable = forwardRef(({ name, value, onSave, ...rest }, ref) => {\r\n    const [editing, setEditing] = useState(false);\r\n    const [text, setText] = useState(value);\r\n\r\n    useEffect(() => {\r\n        setText(value);\r\n    }, [value, setText]);\r\n\r\n    const handleSave = useCallback(\r\n        () => {\r\n            const e  = {\r\n                target: { name, value: text }\r\n            };\r\n            if(onSave) onSave(e);\r\n            setEditing(false);\r\n        },\r\n        [name, onSave, text],\r\n    );\r\n\r\n    useImperativeHandle(\r\n        ref,\r\n        () => ({\r\n            editing,\r\n            handleSave\r\n        }),\r\n    );\r\n\r\n    const handleEdit = () => {\r\n        setEditing(true);\r\n    };\r\n\r\n    const handleChange = ({target}) => {\r\n        setText(target.value);\r\n    };\r\n\r\n    return (\r\n        <TextField\r\n            name={name}\r\n            disabled={!editing}\r\n            value={text}\r\n            onChange={handleChange}\r\n            InputProps={{\r\n                readOnly: !editing,\r\n                endAdornment:\r\n                    <IconButton\r\n                        onClick={editing ? handleSave : handleEdit }\r\n                        onMouseDown={(e) => e.preventDefault()}\r\n                    >\r\n                        {editing ? <Save /> : <Edit />}\r\n                    </IconButton>\r\n            }}\r\n            {...rest}\r\n        />\r\n    )\r\n})\r\n","import React, { forwardRef, useCallback, useEffect, useImperativeHandle, useRef } from 'react';\r\nimport { Box, Button, Divider, FormControl, FormControlLabel, Grid, InputLabel, Link, makeStyles, MenuItem, Select, Switch, TextField, Typography } from '@material-ui/core'\r\nimport { useQuery } from 'react-query';\r\nimport { Alert, Skeleton } from '@material-ui/lab';\r\nimport { useForm } from 'hooks/useForm';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { getCategories } from 'services/CategoryService';\r\nimport { LearningResult } from 'pages/DesignPage/Metadata/LearningResult';\r\nimport { LearningResultModal } from 'pages/DesignPage/Metadata/LearningResultModal';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { MemorizedSharedTextfieldTipTapEditor } from 'components/SharedTextFieldTipTapEditor';\r\nimport { useSnackbar } from 'notistack';\r\nimport { KeywordManager } from 'components/KeywordManager';\r\nimport { Star } from '@material-ui/icons';\r\nimport { TextEditable } from 'components/TextEditable';\r\nimport { useSharedDocContext } from 'contexts/SharedDocContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    leftPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    workspace: {\r\n        paddingTop: 15,\r\n        paddingLeft: 30,\r\n        paddingRight: 30,\r\n        background: theme.palette.background.workSpace,\r\n        minHeight: 'calc(100vh - 177px)',\r\n    },\r\n    rightPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderLeft: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    title: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    sectionAction: {\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: '100%',\r\n        }\r\n    },\r\n    content: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-between',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n    },\r\n    grid: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    category: {\r\n        width: '100%',\r\n    },\r\n    categoryPopOver: {\r\n        maxHeight: 400,\r\n    },\r\n    timeField: {\r\n        marginRight: 10,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    clickHere: {\r\n        textDecoration: 'none',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            textDecoration: 'underline'\r\n        }\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    },\r\n    learningResults: {\r\n        flexWrap: 'wrap',\r\n    }\r\n}));\r\n\r\nexport const DesignMetadata = forwardRef(({ evaluationPatternRef }, ref) => {\r\n    const classes = useStyles();\r\n    const { socket, online, emitWithTimeout } = useSocketState();\r\n    const { connected } = useSharedDocContext();\r\n    const { authState } = useAuthState();\r\n    const isMounted = useRef(true);\r\n    const { uiState, dispatch } = useUiState();\r\n    const { designState } = useDesignState();\r\n    const { design } = designState;\r\n    const { metadata } = design;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const nameRef = useRef();\r\n    const classSizeRef = useRef();\r\n    const hoursRef = useRef();\r\n    const minutesRef = useRef();\r\n    const priorKnowledgeRef = useRef();\r\n    const descriptionRef = useRef();\r\n    const objectiveRef = useRef();\r\n    const evaluationRef = useRef();\r\n\r\n\r\n    const [form, handleInputChange, , setValues] = useForm({\r\n        name: metadata.name,\r\n        category: metadata.category.name ?? 'Sin categoría',\r\n        classSize: metadata.classSize,\r\n        workingTimeDesignHours: metadata.workingTimeDesign.hours ?? 0,\r\n        workingTimeDesignMinutes: metadata.workingTimeDesign.minutes ?? 0,\r\n        workingTimeHours: metadata.workingTime.hours ?? 0,\r\n        workingTimeMinutes: metadata.workingTime.minutes ?? 0,\r\n        priorKnowledge: metadata.priorKnowledge,\r\n        description: metadata.description,\r\n        objective: metadata.objective,\r\n        isPublic: metadata.isPublic,\r\n        evaluation: metadata.evaluation,\r\n        evaluationPattern: metadata.evaluationPattern,\r\n        keywords: design.keywords ?? [],\r\n    });\r\n\r\n    useImperativeHandle(\r\n        ref,\r\n        () => ({\r\n            clearEditors: () => {\r\n                nameRef?.current?.clearText();\r\n                classSizeRef?.current?.clearText();\r\n                hoursRef?.current?.clearText();\r\n                minutesRef?.current?.clearText();\r\n                priorKnowledgeRef?.current?.clearText();\r\n                descriptionRef?.current?.clearText();\r\n                objectiveRef?.current?.clearText();\r\n            }\r\n        }),\r\n    );\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, []);\r\n\r\n    const setKeywords = useCallback(\r\n        (keywords) => {\r\n            if (isMounted.current) handleInputChange({ target: { name: 'keywords', value: keywords } });\r\n        },\r\n        [handleInputChange],\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (JSON.stringify(form.keywords) !== JSON.stringify(design.keywords)) {\r\n                setKeywords([...design.keywords]);\r\n            }\r\n        }\r\n    }, [design.keywords, form.keywords, setKeywords]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.category !== metadata.category.name) {\r\n                handleInputChange({ target: { name: 'category', value: metadata.category.name ?? 'Sin categoría' } });\r\n            }\r\n        }\r\n    }, [metadata.category, form.category, setValues, handleInputChange]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.evaluation !== metadata.evaluation) {\r\n                handleInputChange({ target: { name: 'evaluation', value: metadata.evaluation ?? '' } });\r\n            }\r\n        }\r\n    }, [metadata.evaluation, form.evaluation, setValues, handleInputChange]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.name !== metadata.name) {\r\n                handleInputChange({ target: { name: 'name', value: metadata.name } });\r\n            }\r\n        }\r\n    }, [metadata.name, form.name, setValues, handleInputChange]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.classSize !== metadata.classSize) {\r\n                handleInputChange({ target: { name: 'classSize', value: metadata.classSize } });\r\n            }\r\n        }\r\n    }, [metadata.classSize, form.classSize, setValues, handleInputChange]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.description !== metadata.description) {\r\n                handleInputChange({ target: { name: 'description', value: metadata.description } });\r\n            }\r\n        }\r\n    }, [metadata.description, form.description, setValues, handleInputChange]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.workingTimeDesignHours !== metadata.workingTimeDesign.hours) {\r\n                handleInputChange({ target: { name: 'workingTimeDesignHours', value: metadata.workingTimeDesign.hours } });\r\n            }\r\n        }\r\n    }, [metadata.workingTimeDesign, form.workingTimeDesignHours, setValues, handleInputChange]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.workingTimeDesignMinutes !== metadata.workingTimeDesign.minutes) {\r\n                handleInputChange({ target: { name: 'workingTimeDesignMinutes', value: metadata.workingTimeDesign.minutes ?? 0 } });\r\n            }\r\n        }\r\n    }, [metadata.workingTimeDesign, form.workingTimeDesignMinutes, setValues, handleInputChange]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.workingTimeHours !== metadata.workingTime.hours) {\r\n                handleInputChange({ target: { name: 'workingTimeHours', value: metadata.workingTime.hours ?? 0 } });\r\n            }\r\n        }\r\n    }, [metadata.workingTime.hours, form.workingTimeHours, setValues, handleInputChange]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.workingTimeMinutes !== metadata.workingTime.minutes) {\r\n                handleInputChange({ target: { name: 'workingTimeMinutes', value: metadata.workingTime.minutes ?? 0 } });\r\n            }\r\n        }\r\n    }, [metadata.workingTime.minutes, form.workingTimeMinutes, setValues, handleInputChange]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.priorKnowledge !== metadata.priorKnowledge) {\r\n                handleInputChange({ target: { name: 'priorKnowledge', value: metadata.priorKnowledge } });\r\n            }\r\n        }\r\n    }, [metadata.priorKnowledge, form.priorKnowledge, setValues, handleInputChange]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.objective !== metadata.objective) {\r\n                handleInputChange({ target: { name: 'objective', value: metadata.objective } });\r\n            }\r\n        }\r\n    }, [metadata.objective, form.objective, setValues, handleInputChange]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.isPublic !== metadata.isPublic) {\r\n                handleInputChange({ target: { name: 'isPublic', value: metadata.isPublic } });\r\n            }\r\n        }\r\n    }, [metadata.isPublic, form.isPublic, setValues, handleInputChange]);\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            if (form.evaluationPattern !== metadata.evaluationPattern) {\r\n                handleInputChange({ target: { name: 'evaluationPattern', value: metadata.evaluationPattern } });\r\n            }\r\n        }\r\n    }, [metadata.evaluationPattern, form.evaluationPattern, setValues, handleInputChange]);\r\n\r\n    const { name,\r\n        category,\r\n        classSize,\r\n        workingTimeDesignHours,\r\n        workingTimeDesignMinutes,\r\n        workingTimeHours,\r\n        workingTimeMinutes,\r\n        priorKnowledge,\r\n        description,\r\n        //objective,\r\n        isPublic,\r\n        keywords,\r\n        evaluation,\r\n        evaluationPattern\r\n    } = form;\r\n\r\n    const { isLoading, isError, data, error } = useQuery('categories', async () => {\r\n        return await getCategories();\r\n    }, { refetchOnWindowFocus: false });\r\n\r\n    if (isError) {\r\n        return (<Typography>{error.message}</Typography>);\r\n    }\r\n\r\n    const createCategoryList = () => {\r\n        if (data == null || data.categories.length === 0) return (<MenuItem value='Sin categoría'>Sin categoría</MenuItem>);\r\n        return data.categories.map(c => <MenuItem key={c._id} value={c.name}>{c.name}</MenuItem>);\r\n    };\r\n\r\n    const handleChangeMetadataField = ({ target }) => {\r\n        let { name: field, value } = target;\r\n        value = (target.type === 'number' && !isNaN(target.value)) ? parseInt(target.value) : (target.type === 'checkbox') ? target.checked : target.value;\r\n        let e = { target: { name: target.name, value } };\r\n        let subfield = null;\r\n        switch (field) {\r\n            case 'workingTimeHours':\r\n                field = 'workingTime';\r\n                subfield = 'hours';\r\n                value = isNaN(value) ? 0 : value;\r\n                break;\r\n            case 'workingTimeMinutes':\r\n                field = 'workingTime';\r\n                subfield = 'minutes';\r\n                value = isNaN(value) ? 0 : value;\r\n                break;\r\n            case 'category':\r\n                value = data.categories.find(c => c.name === value);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        socket?.emit('edit-metadata-field', { designId: design._id, field, value, subfield }, emitWithTimeout(\r\n            (resp) => {\r\n                if (!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n                if (uiState.userSaveDesign) {\r\n                    dispatch({\r\n                        type: types.ui.setUserSaveDesign,\r\n                        payload: false,\r\n                    });\r\n                }\r\n            },\r\n            () => { if (!online || !connected) enqueueSnackbar('Error al editar el diseño. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }); },\r\n        ));\r\n        // handleInputChange(e);\r\n        if (subfield) {\r\n            if (\r\n                (metadata[field] === undefined || metadata[field] === null) ||\r\n                (metadata[field][subfield] === undefined || metadata[field][subfield] === null)\r\n                || metadata[field][subfield].toString() !== value.toString()\r\n            ) {\r\n                if (isMounted.current) handleInputChange(e);\r\n            }\r\n        } else {\r\n            if (\r\n                (metadata[field] === undefined || metadata[field] === null) ||\r\n                metadata[field].toString() !== value.toString()\r\n            ) {\r\n                if (isMounted.current) handleInputChange(e);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleSaveDesign = (e) => {\r\n        if (evaluationPatternRef.current.editing) evaluationPatternRef.current.handleSave();\r\n        socket?.emit('save-design', { designId: design._id }, emitWithTimeout(\r\n            (resp) => {\r\n                if (resp.ok && !uiState.userSaveDesign) {\r\n                    dispatch({\r\n                        type: types.ui.setUserSaveDesign,\r\n                        payload: true,\r\n                    })\r\n                }\r\n                enqueueSnackbar(resp.message, { variant: resp.ok ? 'success' : 'error', autoHideDuration: 2000 });\r\n            },\r\n            () => enqueueSnackbar('Error al intentar guardar el diseño. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n        ));\r\n    };\r\n\r\n    const handleOpenLearningResultmodal = () => dispatch({\r\n        type: types.ui.openModal,\r\n        payload: 'LearningResult',\r\n    });\r\n\r\n    const handleChangeKeywords = (keywords, type, targetKeyword) => {\r\n        if (type === 'add') socket?.emit('add-design-keyword', { designId: design._id, keyword: targetKeyword }, emitWithTimeout(\r\n            (resp) => {\r\n                if (!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n            },\r\n            () => enqueueSnackbar('Error al agregar la palabra clave. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n        ));\r\n        else if (type === 'remove') socket?.emit('remove-design-keyword', { designId: design._id, keyword: targetKeyword }, emitWithTimeout(\r\n            (resp) => {\r\n                if (!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n            },\r\n            () => enqueueSnackbar('Error al eliminar la palabra clave. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n        ));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Grid container key={design._id}>\r\n                <Grid item xs={12} md={3} lg={2} className={classes.leftPanel}></Grid>\r\n                <Grid item xs={12} md={6} lg={8} className={classes.workspace}>\r\n                    <div className={classes.title}>\r\n                        {\r\n                            isLoading\r\n                                ? (<>\r\n                                    <Skeleton width={300} height={50} />\r\n                                    <Skeleton width={150} height={50} />\r\n                                </>)\r\n                                : (<>\r\n                                    <Typography variant='h4'>Información Diseño</Typography>\r\n                                    <Button className={classes.sectionAction} variant='outlined' color='default' onClick={handleSaveDesign}>Guardar Información</Button>\r\n                                </>)\r\n                        }\r\n                    </div>\r\n                    <Divider />\r\n                    <Grid container spacing={3} className={classes.content}>\r\n                        <Grid item className={classes.grid} xs={12} sm={12} md={6} lg={8}>\r\n                            {\r\n                                isLoading ? (<Skeleton width={'100%'} height={70} />)\r\n                                    : (<TextField\r\n                                        label='Nombre'\r\n                                        InputLabelProps={{ shrink: true }}\r\n                                        fullWidth\r\n                                        margin='none'\r\n                                        variant='outlined'\r\n                                        color='primary'\r\n                                        InputProps={{\r\n                                            inputComponent: MemorizedSharedTextfieldTipTapEditor,\r\n                                            inputProps: {\r\n                                                ref: nameRef,\r\n                                                name: 'name',\r\n                                                placeholder: 'Nombre',\r\n                                                initialvalue: name,\r\n                                                onChange: handleChangeMetadataField,\r\n                                                // onSynced: (text, setText) => {\r\n                                                //     console.log(text);\r\n                                                //     if(text === ''){\r\n                                                //         setText(name);\r\n                                                //     }   \r\n                                                // }\r\n                                            }\r\n                                        }}\r\n                                    />)\r\n                            }\r\n\r\n                        </Grid>\r\n                        <Grid item className={classes.grid} xs={6} sm={6} md={3} lg={2}>\r\n                            <div style={{ width: '100%' }}>\r\n                                {\r\n                                    isLoading\r\n                                        ? (<>\r\n                                            <Skeleton width={80} height={20} />\r\n                                            <div style={{ display: 'flex', width: '100%', alignItems: 'center' }}>\r\n                                                <Skeleton width={40} height={20} style={{ marginRight: 10 }} />\r\n                                                <Skeleton width={'100%'} height={20} />\r\n                                            </div>\r\n                                        </>)\r\n                                        : (<>\r\n                                            <Typography variant='body2'>Visibilidad</Typography>\r\n                                            <FormControlLabel\r\n                                                control={<Switch\r\n                                                    name='isPublic'\r\n                                                    checked={isPublic}\r\n                                                    onChange={handleChangeMetadataField}\r\n                                                    disabled={!(design.owner === authState.user.uid)}\r\n                                                />}\r\n                                                label={isPublic ? 'Público' : 'Privado'}\r\n                                            />\r\n                                        </>)\r\n                                }\r\n\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item className={classes.grid} xs={6} sm={6} md={3} lg={2}>\r\n                            <div style={{ width: '100%', display: 'flex', alignItems: 'flex-start' }}>\r\n                                {\r\n                                    isLoading\r\n                                        ? (<>\r\n                                            <Skeleton width={80} height={20} />\r\n                                            <div style={{ display: 'flex', width: '100%', alignItems: 'center' }}>\r\n                                                <Skeleton width={40} height={20} style={{ marginRight: 10 }} />\r\n                                                <Skeleton width={'100%'} height={20} />\r\n                                            </div>\r\n                                        </>)\r\n                                        : (<Box style={{ marginTop: -10 }}>\r\n                                            <Typography variant='body2' gutterBottom>Valoración media </Typography>\r\n                                            <Box display='flex' >\r\n                                                <Star style={{ marginRight: 10 }} /> {metadata.scoreMean}\r\n                                            </Box>\r\n                                        </Box>)\r\n                                }\r\n\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item className={classes.grid} xs={12} md={12} lg={6}>\r\n                            {\r\n                                isLoading ? (<Skeleton width={'100%'} height={70} />)\r\n                                    : (<FormControl className={classes.category} variant='outlined' >\r\n                                        <InputLabel id=\"category-label\">Categoría</InputLabel>\r\n                                        <Select\r\n                                            labelId=\"category-label\"\r\n                                            name='category'\r\n                                            label='Categoría'\r\n                                            value={category}\r\n                                            onChange={handleChangeMetadataField}\r\n                                            MenuProps={{ classes: { paper: classes.categoryPopOver } }}\r\n                                        >\r\n                                            {createCategoryList()}\r\n                                        </Select>\r\n                                    </FormControl>)\r\n                            }\r\n\r\n                        </Grid>\r\n                        <Grid item className={classes.grid} xs={12} md={12} lg={6}>\r\n                            {\r\n                                isLoading ? (<Skeleton width={'100%'} height={70} />)\r\n                                    : (<TextField\r\n                                        label='Tamaño de la clase'\r\n                                        InputLabelProps={{ shrink: true }}\r\n                                        fullWidth\r\n                                        margin='none'\r\n                                        variant='outlined'\r\n                                        color='primary'\r\n                                        InputProps={{\r\n                                            inputComponent: MemorizedSharedTextfieldTipTapEditor,\r\n                                            inputProps: {\r\n                                                ref: classSizeRef,\r\n                                                name: 'classSize',\r\n                                                placeholder: 'Tamaño de la clase',\r\n                                                initialvalue: classSize ?? 0,\r\n                                                type: \"number\",\r\n                                                min: 0,\r\n                                                onChange: handleChangeMetadataField,\r\n                                            }\r\n                                        }}\r\n                                    />)\r\n                            }\r\n\r\n                        </Grid>\r\n                        <Grid item className={classes.grid} xs={12} md={12} lg={6}>\r\n                            <div style={{ width: '100%' }}>\r\n                                {\r\n                                    isLoading ? (<Skeleton width={150} height={20} />)\r\n                                        : <Typography > Tiempo de trabajo </Typography>\r\n                                }\r\n                                <div className={classes.timeField}>\r\n                                    {\r\n                                        isLoading ? (<Skeleton width={'100%'} height={70} />)\r\n                                            : (<TextField\r\n                                                label='Horas'\r\n                                                InputLabelProps={{ shrink: true }}\r\n                                                fullWidth\r\n                                                margin='none'\r\n                                                variant='outlined'\r\n                                                color='primary'\r\n                                                InputProps={{\r\n                                                    inputComponent: MemorizedSharedTextfieldTipTapEditor,\r\n                                                    inputProps: {\r\n                                                        ref: hoursRef,\r\n                                                        name: 'workingTimeHours',\r\n                                                        placeholder: 'Horas',\r\n                                                        initialvalue: workingTimeHours,\r\n                                                        type: \"number\",\r\n                                                        min: 0,\r\n                                                        onChange: handleChangeMetadataField,\r\n                                                    }\r\n                                                }}\r\n                                            />)\r\n                                    }\r\n                                    <Typography style={{ marginLeft: 10, marginRight: 10 }}> : </Typography>\r\n                                    {\r\n                                        isLoading ? (<Skeleton width={'100%'} height={70} />)\r\n                                            : (<TextField\r\n                                                label='Minutos'\r\n                                                InputLabelProps={{ shrink: true }}\r\n                                                fullWidth\r\n                                                margin='none'\r\n                                                variant='outlined'\r\n                                                color='primary'\r\n                                                InputProps={{\r\n                                                    inputComponent: MemorizedSharedTextfieldTipTapEditor,\r\n                                                    inputProps: {\r\n                                                        ref: minutesRef,\r\n                                                        name: 'workingTimeMinutes',\r\n                                                        placeholder: 'Minutos',\r\n                                                        initialvalue: workingTimeMinutes,\r\n                                                        type: \"number\",\r\n                                                        min: 0,\r\n                                                        max: 59,\r\n                                                        onChange: handleChangeMetadataField,\r\n                                                    }\r\n                                                }}\r\n                                            />)\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item className={classes.grid} xs={12} md={12} lg={6}>\r\n                            <div style={{ width: '100%' }}>\r\n                                {\r\n                                    isLoading ? (<Skeleton width={150} height={20} />)\r\n                                        : <Typography > Tiempo diseñado </Typography>\r\n                                }\r\n                                <div className={classes.timeField}>\r\n                                    {\r\n                                        isLoading ? (<Skeleton width={'100%'} height={70} />)\r\n                                            : <TextField\r\n                                                //margin=\"dense\"\r\n                                                variant=\"outlined\"\r\n                                                InputLabelProps={{ shrink: true }}\r\n                                                name=\"workingTimeDesignHours\"\r\n                                                value={workingTimeDesignHours}\r\n                                                label=\"Horas\"\r\n                                                type=\"number\"\r\n                                                disabled\r\n                                                fullWidth\r\n                                            />\r\n                                    }\r\n                                    <Typography style={{ marginLeft: 10, marginRight: 10 }}> : </Typography>\r\n                                    {\r\n                                        isLoading ? (<Skeleton width={'100%'} height={70} />)\r\n                                            : <TextField\r\n                                                //margin=\"dense\"\r\n                                                variant=\"outlined\"\r\n                                                InputLabelProps={{ shrink: true }}\r\n                                                name=\"workingTimeDesignMinutes\"\r\n                                                value={workingTimeDesignMinutes}\r\n                                                label=\"Minutos\"\r\n                                                type=\"number\"\r\n                                                disabled\r\n                                                fullWidth\r\n                                            />\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item className={classes.grid} xs={12}>\r\n                            {\r\n                                isLoading ? (<Skeleton width={'100%'} height={70} />)\r\n                                    : <TextField\r\n                                        label='Descripción'\r\n                                        InputLabelProps={{ shrink: true }}\r\n                                        fullWidth\r\n                                        margin='none'\r\n                                        variant='outlined'\r\n                                        color='primary'\r\n                                        InputProps={{\r\n                                            inputComponent: MemorizedSharedTextfieldTipTapEditor,\r\n                                            inputProps: {\r\n                                                ref: descriptionRef,\r\n                                                name: 'description',\r\n                                                placeholder: 'Descripción',\r\n                                                initialvalue: description ?? '',\r\n                                                rowMax: 5,\r\n                                                onChange: handleChangeMetadataField,\r\n                                                multiline: true,\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                            }\r\n                        </Grid>\r\n                        <Grid item className={classes.grid} xs={12} /*md={12} lg={6}*/>\r\n                            {\r\n                                isLoading ? (<Skeleton width={'100%'} height={70} />)\r\n                                    : <TextField\r\n                                        label='Conocimiento previo'\r\n                                        InputLabelProps={{ shrink: true }}\r\n                                        fullWidth\r\n                                        margin='none'\r\n                                        variant='outlined'\r\n                                        color='primary'\r\n                                        InputProps={{\r\n                                            inputComponent: MemorizedSharedTextfieldTipTapEditor,\r\n                                            inputProps: {\r\n                                                ref: priorKnowledgeRef,\r\n                                                name: 'priorKnowledge',\r\n                                                placeholder: 'Conocimiento previo',\r\n                                                initialvalue: priorKnowledge ?? '',\r\n                                                rowMax: 5,\r\n                                                onChange: handleChangeMetadataField,\r\n                                                multiline: true,\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                            }\r\n                        </Grid>\r\n                        {/*\r\n                        <Grid item className={classes.grid} xs={12} md={12} lg={6}>\r\n                            {\r\n                                isLoading ? (<Skeleton width={'100%'} height={70} />)\r\n                                    : <TextField\r\n                                        label='Objetivos'\r\n                                        InputLabelProps={{ shrink: true }}\r\n                                        fullWidth\r\n                                        margin='none'\r\n                                        variant='outlined'\r\n                                        color='primary'\r\n                                        InputProps={{\r\n                                            inputComponent: MemorizedSharedTextfieldTipTapEditor,\r\n                                            inputProps: {\r\n                                                ref: objectiveRef,\r\n                                                name: 'objective',\r\n                                                placeholder: 'Objetivos',\r\n                                                initialvalue: objective ?? '',\r\n                                                rowMax: 5,\r\n                                                onChange: handleChangeMetadataField,\r\n                                                multiline: true,\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                            }\r\n                        </Grid>\r\n                        */}\r\n                        <Grid item className={classes.grid} xs={12}>\r\n                            {\r\n                                isLoading ? (<Skeleton width={'100%'} height={70} />)\r\n                                    : <TextField\r\n                                        label='Evaluación'\r\n                                        InputLabelProps={{ shrink: true }}\r\n                                        fullWidth\r\n                                        margin='none'\r\n                                        variant='outlined'\r\n                                        color='primary'\r\n                                        InputProps={{\r\n                                            inputComponent: MemorizedSharedTextfieldTipTapEditor,\r\n                                            inputProps: {\r\n                                                ref: evaluationRef,\r\n                                                name: 'evaluation',\r\n                                                placeholder: 'Evaluación',\r\n                                                initialvalue: evaluation ?? '',\r\n                                                rowMax: 5,\r\n                                                onChange: handleChangeMetadataField,\r\n                                                multiline: true,\r\n                                            }\r\n                                        }}\r\n                                    />\r\n                            }\r\n                        </Grid>\r\n                        <Grid item className={classes.grid} xs={12}>\r\n                            {\r\n                                isLoading ? (<Skeleton width={'100%'} height={70} />)\r\n                                    : <TextEditable\r\n                                        ref={evaluationPatternRef}\r\n                                        label='Pauta/Rúbrica de evaluación'\r\n                                        name='evaluationPattern'\r\n                                        InputLabelProps={{ shrink: true }}\r\n                                        fullWidth\r\n                                        margin='none'\r\n                                        variant='outlined'\r\n                                        value={evaluationPattern}\r\n                                        onSave={handleChangeMetadataField}\r\n                                        //onSave={handleChangeMetadataField}\r\n                                        //onChange={handleInputChange}\r\n                                        //value={value}\r\n                                        //onChange={handleChange}\r\n                                        color='primary'\r\n                                    />\r\n                            }\r\n                        </Grid>\r\n                    </Grid>\r\n                    {\r\n                        isLoading ? (<>\r\n                            <div style={{ display: 'flex', width: '100%' }}>\r\n                                <Skeleton width={'100%'} height={70} style={{ marginRight: 10 }} />\r\n                                <Skeleton width={'10%'} height={70} />\r\n                            </div>\r\n                            <Skeleton width={'100%'} height={30} />\r\n                        </>)\r\n                            : <KeywordManager keywords={keywords} onChangeKeywords={handleChangeKeywords} />\r\n                    }\r\n                    {\r\n                        !isLoading ? (<>\r\n                            <div className={classes.title}>\r\n                                <Typography variant='h4'>Aprendizajes esperados</Typography>\r\n                                <Button className={classes.sectionAction} variant='outlined' color='default' onClick={handleOpenLearningResultmodal}>Agregar</Button>\r\n                            </div>\r\n                            <Divider />\r\n                            <div className={`${classes.content} ${classes.learningResults}`}>\r\n                                {\r\n                                    metadata.results.length === 0\r\n                                        ? <Alert severity=\"info\" variant='outlined' style={{ width: '100%', display: 'flex', justifyContent: 'center' }}>\r\n                                            Este diseño aún no tiene aprendizajes esperados. Agrega el primer aprendizaje esperado haciendo click {' '}\r\n                                            {<Link className={classes.clickHere} onClick={handleOpenLearningResultmodal}>aquí</Link>}\r\n                                            !\r\n                                        </Alert>\r\n                                        : metadata.results.map((result, index) => (\r\n                                            <LearningResult key={`learning-result-${index}`} index={index} {...result} />\r\n                                        ))\r\n\r\n                                }\r\n                            </div></>)\r\n                            : (<div></div>)\r\n                    }\r\n                </Grid>\r\n                <Grid item xs={12} md={3} lg={2} className={classes.rightPanel}></Grid>\r\n            </Grid>\r\n            <LearningResultModal design={design} isOpen={uiState.isLearningResultModalOpen} />\r\n        </>\r\n    )\r\n})\r\n","import { fetchWithToken } from \"utils/fetch\";\r\n\r\nexport const getBloomCategories = async () => {\r\n    const resp = await fetchWithToken('bloom/category');\r\n    if(!resp.ok){\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};\r\n\r\nexport const getBloomVerbs = async ( category ) => {\r\n    const resp = await fetchWithToken('bloom/verb', { category }, 'POST');\r\n    if(!resp.ok){\r\n        throw new Error(resp.message);\r\n    }\r\n    return resp.data;\r\n};","import React from 'react'\r\nimport { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, makeStyles, Typography } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport { useHistory } from 'react-router-dom';\r\nimport types from 'types';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n    titleMargin: {\r\n        margin: 'auto',\r\n    },\r\n    bodyMargin: {\r\n        marginLeft: theme.spacing(5),\r\n        marginRight: theme.spacing(5)\r\n    }\r\n}));\r\n\r\nexport const CheckSaveDesignModal = () => {\r\n    const classes = useStyles();\r\n    const { uiState, dispatch } = useUiState();\r\n    const { url } = uiState.historyData;\r\n    const history = useHistory();\r\n\r\n    const handleClose = () => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'CheckSaveDesign',\r\n        });\r\n    };\r\n\r\n    const handleHistoryPush = () =>{\r\n        dispatch({\r\n            type: types.ui.setUserSaveDesign,\r\n            payload: true,\r\n        });\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'CheckSaveDesign',\r\n        });\r\n        history.push(`${url}`);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Dialog onClose={handleClose} open={uiState.isCheckSaveDesignModalOpen}>\r\n                <DialogTitle className={classes.titleMargin} >\r\n                    Está apunto de salir del diseño\r\n                </DialogTitle>\r\n                <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\r\n                    <CloseIcon />\r\n                </IconButton>\r\n                <DialogContent dividers>\r\n                    <Typography align = 'center' style ={{marginTop: 15, marginBottom: 25}}>\r\n                        Usted está intentando salir del diseño actual, pero existen cambios que no han sido guardados. ¿Desea continuar sin guardar?\r\n                    </Typography>\r\n                    <Typography  variant = 'caption'>\r\n                        IMPORTANTE: Al aceptar realizar esta acción los cambios no se guardaran.\r\n                    </Typography>\r\n                    <Box>\r\n                        <Typography  variant = 'caption'>\r\n                            RECOMENDACIÓN: Guarde sus cambios antes de salir de esta página.\r\n                        </Typography>\r\n                    </Box>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose}>\r\n                        Cancelar\r\n                        </Button>\r\n                    <Button onClick={handleHistoryPush}>\r\n                        Aceptar\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n","import { Avatar, Box, Button, Card, CardContent, CardHeader, makeStyles, TextField, Typography } from '@material-ui/core';\r\nimport { Delete, Edit } from '@material-ui/icons';\r\nimport { CustomMenu } from 'components/CustomMenu';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport { useSnackbar } from 'notistack';\r\nimport React, { useState } from 'react';\r\nimport types from 'types';\r\nimport { formatDate, formatTime } from 'utils/dateTimeFormatter';\r\nimport { formatName, getUserInitials } from 'utils/textFormatters';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: ({ editing }) => ({\r\n        marginBottom: 10,\r\n        boxShadow: editing ? '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)': 'none',\r\n    }),\r\n    header: {\r\n        paddingBottom: 0,\r\n    }\r\n}));\r\n\r\nexport const Commentary = ({ data }) => {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { authState } = useAuthState();\r\n    const { dispatch } = useUiState();\r\n    const { designState } = useDesignState();\r\n    const { socket, online, emitWithTimeout } = useSocketState();\r\n    const { design } = designState;\r\n    const { user, date, commentary } = data;\r\n    const [ editing, setEditing] = useState(false);\r\n    const [ commentaryInput, setCommentaryInput ] = useState(commentary);\r\n    const classes = useStyles({editing});\r\n\r\n    const handleEditCommentary = ( e ) => {\r\n        e.preventDefault();\r\n        console.log();\r\n        if(commentary.trim() !== commentaryInput.trim()){\r\n            if(online){\r\n                socket?.emit('comment-design', { \r\n                    designId: design._id, \r\n                    commentary: {\r\n                        ...data,\r\n                        commentary: commentaryInput.trim()\r\n                    }\r\n                }, emitWithTimeout(\r\n                    (resp) => {\r\n                        if(!resp.ok){\r\n                            enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n                        }\r\n                    },\r\n                    () => {\r\n                        setCommentaryInput(commentary);\r\n                        enqueueSnackbar('Error al editar el comentario. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 });\r\n                    },\r\n                ));\r\n            }\r\n        }\r\n        setEditing(false);\r\n        \r\n    };\r\n\r\n    const handleDeleteCommentary = () => {\r\n        dispatch({\r\n            type: types.ui.setConfirmData,\r\n            payload: {\r\n                type: 'comentario',\r\n                args: { \r\n                    designId: design._id, \r\n                    commentaryId: data._id,\r\n                },\r\n                actionMutation: null,\r\n            }\r\n        });\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Confirmation',\r\n        });\r\n    };\r\n\r\n    const getOptions = () => {\r\n        if (authState.user.uid === user._id) {\r\n            return <CustomMenu\r\n                options={[\r\n                    { icon: <Edit />, label: 'Editar', onSelect: () => setEditing(true) },\r\n                    { icon: <Delete />, label: 'Eliminar', onSelect: handleDeleteCommentary },\r\n                ]}\r\n            />;\r\n        } else if (authState.user.uid === design.owner) {\r\n            return <CustomMenu\r\n                options={[\r\n                    { icon: <Delete />, label: 'Eliminar', onSelect: handleDeleteCommentary },\r\n                ]}\r\n            />;\r\n        } else return <div></div>;\r\n    };\r\n\r\n    return (\r\n        <Card className={classes.root} elevation={0}>\r\n            <CardHeader\r\n                className={classes.header}\r\n                avatar={\r\n                    <Avatar\r\n                        alt={formatName(user.name, user.lastname)}\r\n                        src={user.img && user.img.length > 0 ? `${process.env.REACT_APP_URL}uploads/users/${user.img}` : ''}\r\n                    >\r\n                        {getUserInitials(user.name, user.lastname)}\r\n                    </Avatar>\r\n                }\r\n                action={\r\n                    authState.user ? getOptions() : null\r\n                }\r\n                title={user.name + ' ' + user.lastname}\r\n                subheader={formatDate(new Date(date)) + ' a las ' + formatTime(new Date(date))}\r\n            />\r\n            <CardContent>\r\n                {\r\n                    editing\r\n                        ? <form onSubmit={handleEditCommentary} noValidate>\r\n                            <TextField\r\n                                multiline\r\n                                rowsMax={6}\r\n                                variant=\"outlined\"\r\n                                name=\"commentary\"\r\n                                value={commentaryInput ?? ''}\r\n                                onChange={({ target }) => setCommentaryInput(target.value)}\r\n                                label=\"Editar Comentario\"\r\n                                type=\"text\"\r\n                                fullWidth\r\n                            />\r\n                            <Box style={{ display: 'flex', justifyContent: 'flex-end', marginTop: 10 }}>\r\n                                <Button type='submit' variant='contained' color='primary' disabled={!commentaryInput.length} disableElevation>\r\n                                    Guardar\r\n                                </Button>\r\n                            </Box>\r\n                        </form>\r\n                        : <Typography >{commentary}</Typography>\r\n                }\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Avatar, Box, Button, Card, CardContent, Link, makeStyles, TextField, Typography, useMediaQuery, useTheme } from '@material-ui/core';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { formatName, getUserInitials } from 'utils/textFormatters';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nconst useStyles = makeStyles({\r\n    clickHere: {\r\n        textDecoration: 'none',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            textDecoration: 'underline'\r\n        }\r\n    }\r\n});\r\n\r\nexport const CommentaryInput = () => {\r\n    const classes = useStyles();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const theme = useTheme();\r\n    const isXSDevice = useMediaQuery(theme.breakpoints.down('xs'));\r\n    const { dispatch } = useUiState();\r\n    const { authState } = useAuthState();\r\n    const { designState } = useDesignState();\r\n    const { socket, online, emitWithTimeout } = useSocketState();\r\n    const [commentary, setCommentary] = useState('');\r\n    const { design } = designState;\r\n    const { user } = authState;\r\n\r\n    const handleComment = (e) => {\r\n        e.preventDefault();\r\n        if(online){\r\n            socket?.emit('comment-design', {\r\n                designId: design._id,\r\n                commentary: {\r\n                    user: {\r\n                        _id: user.uid,\r\n                        name: user.name,\r\n                        lastname: user.lastname,\r\n                        img: user.img,\r\n                    },\r\n                    date: new Date().toJSON(),\r\n                    commentary: commentary.trim(),\r\n                }\r\n            }, emitWithTimeout(\r\n                (resp) => {\r\n                    if(!resp.ok){\r\n                        enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 2000 });\r\n                    }\r\n                },\r\n                () => enqueueSnackbar('Error al agregar el comentario. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n            ));\r\n            reset();\r\n        }\r\n    };\r\n\r\n    const reset = () => {\r\n        setCommentary('');\r\n    };\r\n\r\n    const handleOpenLoginModal = () => {\r\n        dispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Login',\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Card elevation={0} style={{ marginBottom: 10 }}>\r\n            <CardContent>\r\n                {\r\n                    authState.user\r\n                        ? (<form onSubmit={handleComment} noValidate>\r\n                            <Box style={{ display: 'flex', marginBottom: 10 }}>\r\n                                {\r\n                                    !isXSDevice && <Avatar\r\n                                        style={{ marginRight: 10, marginTop: 5 }}\r\n                                        alt={formatName(user.name, user.lastname)}\r\n                                        src={user.img && user.img.length > 0 ? `${process.env.REACT_APP_URL}uploads/users/${user.img}` : ''}\r\n                                    >\r\n                                        {getUserInitials(user.name, user.lastname)}\r\n                                    </Avatar>\r\n                                }\r\n                                <TextField\r\n                                    multiline\r\n                                    variant=\"outlined\"\r\n                                    name=\"commentary\"\r\n                                    InputLabelProps={{ shrink: true }}\r\n                                    placeholder='Ingresa tu comentario'\r\n                                    value={commentary}\r\n                                    onChange={({ target }) => setCommentary(target.value)}\r\n                                    label=\"Nuevo Comentario\"\r\n                                    type=\"text\"\r\n                                    fullWidth\r\n                                />\r\n                            </Box>\r\n                            <Box style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n                                <Button type='submit' variant='contained' color='primary' disabled={!commentary.length} disableElevation>\r\n                                    Comentar\r\n                                </Button>\r\n                            </Box>\r\n                        </form>)\r\n                        : <Typography align='center'>Para poder comentar este diseño debes <Link className={classes.clickHere} onClick={handleOpenLoginModal}>ingresar sesión</Link>.</Typography>\r\n                }\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Commentary } from './Commentary';\r\nimport { CommentaryInput } from './CommentaryInput';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\n\r\nexport const DesignComments = () => {\r\n    const { designState } = useDesignState();\r\n    const { design } = designState;\r\n\r\n    return (<div>\r\n        {\r\n            design.comments.length !== 0 && design.comments.map((commentary) => <Commentary key={commentary._id} data={commentary}/>)\r\n        }\r\n        <CommentaryInput />\r\n    </div>)\r\n}\r\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Grid, makeStyles, Avatar, Tabs, Tab, Typography, Backdrop, Box, useTheme, useMediaQuery, Divider } from '@material-ui/core';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { formatName, getUserInitials } from 'utils/textFormatters';\r\nimport { DesignWorkspace } from 'pages/DesignPage/Workspace/DesignWorkspace';\r\nimport { DesignMetadata } from 'pages/DesignPage/Metadata/DesignMetadata';\r\nimport { TabPanel } from 'components/TabPanel';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { getBloomCategories, getBloomVerbs } from 'services/BloomService';\r\nimport types from 'types';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { useSharedDocContext } from 'contexts/SharedDocContext';\r\nimport { Description, Group } from '@material-ui/icons';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport { CheckSaveDesignModal } from './Workspace/CheckSaveDesignModal';\r\nimport { DesignComments } from 'components/DesignComments';\r\nimport { CustomMenu } from 'components/CustomMenu';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    leftPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    workspace: {\r\n        paddingLeft: 30,\r\n        paddingRight: 30,\r\n        background: theme.palette.background.workSpace,\r\n        minHeight: 'calc(100vh - 128px)',\r\n    },\r\n    rightPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderLeft: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    menu: {\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    menuLetters: {\r\n        marginLeft: theme.spacing(2),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    menuLettersSelected: {\r\n        marginLeft: theme.spacing(2),\r\n        borderBottom: `2px solid ${theme.palette.divider}`\r\n    },\r\n    tabBarGrid: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        [theme.breakpoints.down('xs')]: {\r\n            justifyContent: 'center'\r\n        }\r\n    },\r\n    usersConnecteds: {\r\n        display: 'flex',\r\n    },\r\n    error: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        padding: 20,\r\n        alignItems: 'start',\r\n        minHeight: 'calc(100vh - 128px)',\r\n    },\r\n    backdrop: {\r\n        zIndex: 1000,\r\n        color: '#fff',\r\n    },\r\n    loadingFile: {\r\n        '-webkit-backface-visibility': 'hidden',\r\n        animation: `$spinAndScale 3000ms ${theme.transitions.easing.easeInOut}`,\r\n        animationIterationCount: 'infinite',\r\n        animationDirection: 'alternate',\r\n    },\r\n    comments: {\r\n        paddingTop: 10,\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        background: theme.palette.background.workSpace,\r\n        minHeight: 'calc(100vh - 177px)',\r\n    },\r\n    user: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginTop: 10,\r\n    },\r\n    \"@keyframes spinAndScale\": {\r\n        from: {\r\n            height: 300,\r\n            width: 300,\r\n            transform: 'rotate(0deg)',\r\n        },\r\n        to: {\r\n            height: 150,\r\n            width: 150,\r\n            transform: 'rotate(360deg)',\r\n        }\r\n    },\r\n}));\r\n\r\nconst a11yProps = (index) => {\r\n    return {\r\n        id: `full-width-tab-${index}`,\r\n        'aria-controls': `full-width-tabpanel-${index}`,\r\n    };\r\n}\r\n\r\nexport const DesignPage = () => {\r\n    const classes = useStyles();\r\n    const { id } = useParams();\r\n    const theme = useTheme();\r\n    const isSmDevice = useMediaQuery(theme.breakpoints.down('sm'));\r\n    const isXsDevice = useMediaQuery(theme.breakpoints.down('xs'));\r\n    const { doc, provider, connectToDesign, clearDoc, connected, user } = useSharedDocContext();\r\n    const { authState } = useAuthState();\r\n    const { socket, online, emitWithTimeout } = useSocketState();\r\n    const { designState, dispatch } = useDesignState();\r\n    const { uiState } = useUiState();\r\n    const [users, setUsersList] = useState([]);\r\n    const [tabIndex, setTabIndex] = useState(0);\r\n    const [error, setError] = useState(null);\r\n    const { design } = designState;\r\n    const isMounted = useRef(true);\r\n    const metadataRef = useRef();\r\n    const evaluationPatternRef = useRef();\r\n    const tabsRef = useRef();\r\n    const gridWorkspaceRef = useRef();\r\n\r\n    const prefetchBloomCategories = useCallback(async () => {\r\n        const data = await getBloomCategories();\r\n        dispatch({\r\n            type: types.design.setBloomCategories,\r\n            payload: data.bloomCategories,\r\n        });\r\n    }, [dispatch]);\r\n\r\n    const prefetchBloomVerbs = useCallback(async () => {\r\n        const data = await getBloomVerbs('');\r\n        dispatch({\r\n            type: types.design.setBloomVerbs,\r\n            payload: data.bloomVerbs,\r\n        });\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        prefetchBloomCategories();\r\n        prefetchBloomVerbs();\r\n    }, [prefetchBloomCategories, prefetchBloomVerbs]);\r\n\r\n    useEffect(() => {\r\n        let metadataComponent = metadataRef.current;\r\n        return () => {\r\n            metadataComponent?.clearEditors();\r\n            clearDoc();\r\n            isMounted.current = false;\r\n            dispatch({\r\n                type: types.design.updateDesign,\r\n                payload: null,\r\n            });\r\n        };\r\n    }, [clearDoc, dispatch]);\r\n    \r\n    useEffect(() => {\r\n        if (online) {\r\n            socket?.emit('join-to-design', { user: authState.user, designId: id, public: false }, emitWithTimeout(\r\n                (res) => {\r\n                    if (res.ok) {\r\n                        const userInPrivileges = res.data.design.privileges.find(privilege => privilege.user._id === authState.user.uid);\r\n                        if (userInPrivileges && userInPrivileges.type === 0) {\r\n                            if (isMounted.current) {\r\n                                dispatch({\r\n                                    type: types.design.updateDesign,\r\n                                    payload: res.data.design,\r\n                                });\r\n                                connectToDesign(id);\r\n                            }\r\n                        } else {\r\n                            setError('Ha ocurrido un error, el diseño no existe o usted no tiene privilegios para editar este diseño.');\r\n                        };\r\n    \r\n                    } else {\r\n                        setError(res.message);\r\n                    };\r\n                },\r\n                () => {\r\n                    setError('Error al intentar ingresar al diseño. Por favor revise su conexión. Tiempo de espera excedido.');\r\n                },\r\n            ));\r\n        }\r\n    }, [socket, authState.user, online, id, dispatch, connectToDesign, emitWithTimeout]);\r\n\r\n    useEffect(() => {\r\n        socket?.on('update-design', (newDesign) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.updateDesign,\r\n                    payload: newDesign\r\n                });\r\n            }\r\n        });\r\n        socket?.on('add-design-keyword', (keyword) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.addDesignKeyword,\r\n                    payload: keyword,\r\n                });\r\n            }\r\n        });\r\n        socket?.on('remove-design-keyword', (keyword) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.removeDesignKeyword,\r\n                    payload: keyword,\r\n                });\r\n            }\r\n        });\r\n        socket?.on('edit-metadata-field', ({ field, value, subfield }) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.changeMetadataField,\r\n                    payload: { field, value, subfield },\r\n                });\r\n            }\r\n        });\r\n        socket?.on('reorder-activities', (newOrder) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.reorderActivities,\r\n                    payload: newOrder,\r\n                });\r\n            }\r\n        });\r\n        socket?.on('reorder-tasks', ({learningActivityId, newOrder}) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.reorderTasks,\r\n                    payload: { learningActivityId, newOrder },\r\n                });\r\n            }\r\n        });\r\n        socket?.on('edit-task-field', ({ learningActivityID, taskID, field, value, subfield }) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.changeTaskField,\r\n                    payload: { learningActivityID, taskID, field, value, subfield },\r\n                });\r\n            }\r\n        });\r\n        socket?.on('users', (users) => {\r\n            if (isMounted.current) {\r\n                setUsersList(users);\r\n                dispatch({\r\n                    type: types.design.setConnectedUsers,\r\n                    payload: users,\r\n                });\r\n            }\r\n        });\r\n        socket?.on('change-design-privileges', (privileges) => {\r\n            dispatch({\r\n                type: types.design.setDesignPrivileges,\r\n                payload: privileges\r\n            });\r\n        });\r\n        socket?.on('change-read-only-link', (newLink) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.updateReadOnlyLink,\r\n                    payload: newLink\r\n                });\r\n            }\r\n        });\r\n        socket?.on('update-design-rate', ({ assessments, mean }) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.setAssessments,\r\n                    payload: assessments,\r\n                });\r\n                dispatch({\r\n                    type: types.design.setScoreMean,\r\n                    payload: mean,\r\n                });\r\n            }\r\n        });\r\n        socket?.on('comment-design', (commentary) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.commentDesign,\r\n                    payload: commentary,\r\n                });\r\n            }\r\n        });\r\n\r\n        socket?.on('delete-comment', (commentaryId) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.deleteComment,\r\n                    payload: commentaryId,\r\n                });\r\n            }\r\n        });\r\n        return () => {\r\n            socket?.emit('leave-from-design', { user: authState.user, designId: id });\r\n            socket?.off('updateDesign');\r\n            socket?.off('edit-metadata-field');\r\n            socket?.off('add-design-keyword');\r\n            socket?.off('remove-design-keyword');\r\n            socket?.off('change-read-only-link');\r\n            socket?.off('edit-task-field');\r\n            socket?.off('users');\r\n            socket?.off('update-design-rate');\r\n            socket?.off('comment-design');\r\n            socket?.off('reorder-tasks');\r\n            socket?.off('reorder-activities');\r\n            socket?.off('delete-comment');\r\n        };\r\n    }, [socket, authState.user, id, dispatch]);\r\n\r\n    const handleChange = (event, newValue) => {\r\n        if (evaluationPatternRef.current && evaluationPatternRef?.current.editing) evaluationPatternRef.current.handleSave();\r\n        setTabIndex(newValue);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!uiState.userSaveDesign) {\r\n            window.onbeforeunload = function (e) {\r\n                return '¿Seguro que quieres salir?'\r\n            };\r\n        }\r\n        return () => window.onbeforeunload = null;\r\n    }, [uiState]);\r\n\r\n    if (error) {\r\n        return (\r\n            <div className={classes.error}>\r\n                <Alert severity='error' variant='outlined'>\r\n                    {error}\r\n                </Alert>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!design || !doc || !provider || !user) {\r\n        return (<Box className={classes.workspace}>\r\n            <Backdrop className={classes.backdrop} open={true}>\r\n                <Box style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                    <Box width={300} height={300} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                        <Description className={classes.loadingFile} />\r\n                    </Box>\r\n\r\n                    <Typography>Cargando Diseño de Aprendizaje...</Typography>\r\n                </Box>\r\n            </Backdrop>\r\n        </Box>);\r\n    }\r\n\r\n    const renderConnectedUsersButtonMenu = () => {\r\n        return <div className={classes.usersConnecteds}>\r\n            <CustomMenu Icon={<Group />} text={users.length}>\r\n                <Typography style={{ paddingLeft: 10, paddingTop: 5 }} gutterBottom>Usuarios conectados</Typography>\r\n                <Divider />\r\n                <Box style={{ padding: 10 }}>\r\n                    {renderConnectedUserList()}\r\n                </Box>\r\n            </CustomMenu>\r\n        </div>;\r\n    };\r\n\r\n    const renderConnectedUserList = () => {\r\n        return users.map((user, index) => {\r\n            return <Box key={user.uid + index} className={classes.user}>\r\n                <Avatar\r\n                    style={{ border: `3px solid ${user.color}`, backgroundColor: user.color, marginRight: 10 }}\r\n                    alt={formatName(user.name, user.lastname)}\r\n                    src={user.img && user.img.length > 0 ? `${process.env.REACT_APP_URL}uploads/users/${user.img}` : ''}\r\n                >\r\n                    {getUserInitials(user.name, user.lastname)}\r\n                </Avatar>\r\n                <Box>\r\n                    <Typography color='textPrimary'>{user.name + ' ' + user.lastname}</Typography>\r\n                    <Typography color=\"textSecondary\">{user.privilege}</Typography>\r\n                </Box>\r\n            </Box>;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Grid container className={classes.menu} key={design._id}>\r\n                <Grid item xs={12} >\r\n                    <Box width='100%' height='100%' display='flex' justifyContent='flex-end' alignItems='center'>\r\n                        {\r\n                            isXsDevice && renderConnectedUsersButtonMenu()\r\n                        }\r\n                    </Box>\r\n                </Grid>\r\n                <Grid item xs={12} md={3} lg={2} />\r\n                <Grid ref={gridWorkspaceRef} item xs={12} md={6} lg={8} className={classes.tabBarGrid}>\r\n                    <Tabs\r\n                        ref={tabsRef}\r\n                        value={tabIndex}\r\n                        onChange={handleChange}\r\n                        aria-label=\"full width tabs example\"\r\n                    >\r\n                        <Tab label=\"METADATOS\" {...a11yProps(0)} />\r\n                        <Tab label=\"DISEÑO\" {...a11yProps(1)} />\r\n                        <Tab label=\"COMENTARIOS\" {...a11yProps(2)} />\r\n                    </Tabs>\r\n                    {\r\n                        !isXsDevice && isSmDevice && renderConnectedUsersButtonMenu()\r\n                    }\r\n                </Grid>\r\n                <Grid item xs={12} md={3} lg={2}>\r\n                    <Box width='100%' height='100%' display='flex' justifyContent='flex-end' alignItems='center'>\r\n                        {\r\n                            !isXsDevice && !isSmDevice && renderConnectedUsersButtonMenu()\r\n                        }\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n            <TabPanel value={tabIndex} index={0}>\r\n                <DesignMetadata ref={metadataRef} evaluationPatternRef={evaluationPatternRef} />\r\n            </TabPanel>\r\n            <TabPanel value={tabIndex} index={1}>\r\n                <DesignWorkspace />\r\n            </TabPanel>\r\n            <TabPanel value={tabIndex} index={2}>\r\n                <Grid container>\r\n                    <Grid item xs={12} md={3} lg={2} className={classes.leftPanel}></Grid>\r\n                    <Grid item xs={12} md={6} lg={8} className={classes.comments}>\r\n                        <DesignComments />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={3} lg={2} className={classes.rightPanel}></Grid>\r\n                </Grid>\r\n            </TabPanel>\r\n            {\r\n                (uiState.isCheckSaveDesignModalOpen) && <CheckSaveDesignModal />\r\n            }\r\n            <Backdrop className={classes.backdrop} open={!online || !connected}>\r\n                <Box style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                    <Box width={300} height={300} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                        <Description className={classes.loadingFile} />\r\n                    </Box>\r\n\r\n                    <Typography align='center'>Se ha perdido la conexión con el servidor. Intentando reconectar...</Typography>\r\n                </Box>\r\n            </Backdrop>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, makeStyles, Typography, useTheme, } from '@material-ui/core';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n    titleMargin: {\r\n        margin: 'auto',\r\n    },\r\n    bodyMargin: {\r\n        marginLeft: theme.spacing(5),\r\n        marginRight: theme.spacing(5)\r\n    }\r\n}));\r\n\r\nexport const ConfirmationModal = () => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const { uiState, dispatch } = useUiState();\r\n    const { type, args, actionMutation } = uiState.confirmModalData;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { socket, emitWithTimeout } = useSocketState();\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        if(type === 'carpeta') setMessage(`¿Estás realmente seguro de que deseas eliminar tu carpeta? `);\r\n        else setMessage(`¿Estás realmente seguro de que deseas eliminar tu ${type}?`);\r\n    }, [type]);\r\n    \r\n    const handleClose = () => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'Confirmation',\r\n        });\r\n        setTimeout(() => dispatch({\r\n            type: types.ui.setConfirmData,\r\n            payload: {\r\n                type: null,\r\n                args: null,\r\n                actionMutation: null,\r\n            }\r\n        }), theme.transitions.duration.enteringScreen);\r\n    };\r\n\r\n    const confirmResult = async () => {\r\n        let socketEvent = null;\r\n        let errorMessage = null;\r\n        if (type === 'diseño' || type === 'carpeta') {\r\n            await actionMutation.mutate(args);\r\n        } else if (type === 'actividad') {\r\n            socketEvent = 'delete-learningActivity';\r\n            errorMessage = 'Error al eliminar la actividad.';\r\n        } else if (type === 'tarea') {\r\n            socketEvent = 'delete-task';\r\n            errorMessage = 'Error al eliminar la tarea.';\r\n        } else if (type === 'comentario') {\r\n            socketEvent = 'delete-comment';\r\n            errorMessage = 'Error al eliminar el comentario.';\r\n        } else if (type === 'resultado de aprendizaje') {\r\n            socketEvent = 'delete-learning-result';\r\n            errorMessage = 'Error al eliminar el resultado de aprendizaje.';\r\n        }\r\n        if(socketEvent){\r\n            socket?.emit(socketEvent, args, emitWithTimeout(\r\n                (resp) => {\r\n                    if(resp.ok && uiState.userSaveDesign){\r\n                        dispatch({\r\n                            type: types.ui.setUserSaveDesign,\r\n                            payload: false,\r\n                        });\r\n                    }\r\n                    return enqueueSnackbar(resp.message, { variant: resp.ok ? 'success': 'error', autoHideDuration: 2000 });\r\n                },\r\n                () => enqueueSnackbar(errorMessage + ' Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n            ));\r\n        }\r\n        handleClose();\r\n    };\r\n\r\n    const renderConfirmationModal = () => {\r\n        return (\r\n            <Dialog onClose={handleClose} open={uiState.isConfirmationModalOpen}>\r\n                <DialogTitle className={classes.titleMargin} >\r\n                    Eliminar {type}\r\n                    </DialogTitle>\r\n                <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\r\n                    <CloseIcon />\r\n                </IconButton>\r\n                <DialogContent dividers>\r\n                    <Typography align = 'center' style ={{marginTop: 15, marginBottom: 25}}>\r\n                        {message}    \r\n                    </Typography>\r\n                    <Typography align = 'center' variant = 'caption'>\r\n                        { (type !== 'carpeta') \r\n                            ? 'IMPORTANTE: Este proceso no se podrá deshacer luego de haber elegido la opción de eliminar.'\r\n                            : 'IMPORTANTE: Recuerda que se eliminarán también las carpetas y diseños de aprendizaje que se encuentren al interior de esta o de sus carpetas hijas y este proceso no se podrá deshacer luego de haber elegido la opción de eliminar.' }  \r\n                    </Typography>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose}>\r\n                        Cancelar\r\n                        </Button>\r\n                    <Button variant='contained' color='primary' onClick={confirmResult}>\r\n                        Eliminar\r\n                        </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                renderConfirmationModal()\r\n            }\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles, Typography, Paper, Box, } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    trashIcon: {\r\n        display: 'flex',\r\n    },\r\n    tasksSpacing: {\r\n        position: 'relative',\r\n        width: '100%',\r\n        height: '100%',\r\n        marginTop: theme.spacing(1),\r\n        background: theme.palette.background.workSpace\r\n    },\r\n    taskBody: {\r\n        padding: 10,\r\n        position: 'relative',\r\n        left: '5%',\r\n        width: '95%',\r\n        height: '100%',\r\n    },\r\n    taskSpacingDescription: {\r\n        marginLeft: theme.spacing(2),\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    taskSpacingDescriptionBD: {\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    colorLearningType: {\r\n        position: 'absolute',\r\n        width: '5%',\r\n        height: '100%',\r\n    },\r\n    timeField: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginRight: 10,\r\n        [theme.breakpoints.down('md')]: {\r\n            marginRight: 0,\r\n        },\r\n    },\r\n    grid: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    gridContainer: {\r\n        display: 'grid',\r\n        gridTemplateColumns: '50% 50%',\r\n        gridTemplateRows: 'auto',\r\n        gridTemplateAreas: `\r\n            'learningType modality'\r\n            'workingTime format'\r\n            'description description'`,\r\n        [theme.breakpoints.down('md')]: {\r\n            gridTemplateAreas: `\r\n                'learningType learningType'\r\n                'modality modality'\r\n                'format format'\r\n                'workingTime workingTime'\r\n                'description description'`,\r\n        },\r\n    },\r\n    firstRow: {\r\n        display: 'grid',\r\n        gridTemplateColumns: 'auto auto 10%',\r\n        gridTemplateRows: 'auto',\r\n        gridTemplateAreas: `'learningType modality'`,\r\n    },\r\n    learningTypeContainer:{\r\n        gridArea: 'learningType',\r\n        width: '100%',\r\n        display: 'flex',\r\n    },\r\n    learningType:{\r\n        marginRight: 10,\r\n        [theme.breakpoints.down('md')]: {\r\n            marginRight: 0,\r\n            marginTop: 10,\r\n        },\r\n    },\r\n    modality: {\r\n        gridArea: 'modality',\r\n        width: '100%',\r\n        //display: 'flex',\r\n        [theme.breakpoints.down('md')]: {\r\n            marginTop: 10,\r\n        },\r\n    },\r\n    format: {\r\n        gridArea: 'format',\r\n        alignSelf: 'flex-end',\r\n        [theme.breakpoints.down('md')]: {\r\n            marginTop: 10,\r\n        },\r\n    },\r\n    \r\n}));\r\n\r\nexport const TaskReader = ({ index, task }) => {\r\n    const classes = useStyles();\r\n\r\n    const listTasksArray = () => {\r\n        return (\r\n            <Box key={index} style={{ height: '100%' }}>\r\n                <Paper square className={classes.tasksSpacing}>\r\n                    <Box>\r\n                        <Box style={{ display: 'flex', position: 'relative', height: '100%', width: '100%' }}>\r\n                            {(() => {\r\n                                if (task.learningType === 'Investigación') {\r\n                                    return (\r\n                                        <div className={classes.colorLearningType} style={{ backgroundColor: '#57A8E7' }}></div>\r\n                                    )\r\n                                } else if (task.learningType === 'Adquisición') {\r\n                                    return (\r\n                                        <div className={classes.colorLearningType} style={{ backgroundColor: '#E95D5D' }}></div>\r\n                                    )\r\n                                } else if (task.learningType === 'Producción') {\r\n                                    return (\r\n                                        <div className={classes.colorLearningType} style={{ backgroundColor: '#C8951F' }}></div>\r\n                                    )\r\n                                } else if (task.learningType === 'Discusión') {\r\n                                    return (\r\n                                        <div className={classes.colorLearningType} style={{ backgroundColor: '#087A4C' }}></div>\r\n                                    )\r\n                                } else if (task.learningType === 'Colaboración') {\r\n                                    return (\r\n                                        <div className={classes.colorLearningType} style={{ backgroundColor: '#DFDF3F' }}></div>\r\n                                    )\r\n                                } else if (task.learningType === 'Práctica') {\r\n                                    return (\r\n                                        <div className={classes.colorLearningType} style={{ backgroundColor: '#A75BCD' }}></div>\r\n                                    )\r\n                                }\r\n                            })()}\r\n\r\n                            <div className={classes.taskBody}>\r\n                                <div className={classes.gridContainer}>\r\n                                    <div className={classes.learningTypeContainer}>\r\n                                        <Box className={classes.learningType}>\r\n                                            <Typography variant=\"body2\" color=\"textSecondary\" > Aprendizaje </Typography>\r\n                                            <Typography>{task.learningType}</Typography>\r\n                                        </Box>\r\n                                    </div>\r\n                                    <div className={classes.modality}>\r\n                                        <Typography variant=\"body2\" color=\"textSecondary\" > Modalidad </Typography>\r\n                                        <Typography>{task.modality}</Typography>\r\n                                    </div>\r\n                                    <div style={{ width: '100%', gridArea: 'workingTime', marginTop: 3 }}>\r\n                                        <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom> Tiempo de trabajo </Typography>\r\n                                        <div className={classes.timeField}>\r\n                                            <Typography>{task.duration.hours}</Typography>\r\n                                            <Typography style={{ marginLeft: 10, marginRight: 10 }}> : </Typography>\r\n                                            <Typography>{task.duration.minutes} (hrs:mins)</Typography>\r\n                                        </div>\r\n                                    </div>\r\n                                    <Box className={classes.format}>\r\n                                        <Typography variant=\"body2\" color=\"textSecondary\" style={{ marginBottom: 4, marginRight: 5 }}> Formato </Typography>\r\n                                        <Typography>{task.format}</Typography>\r\n                                    </Box>\r\n                                    <Box style={{ gridArea: 'description', marginTop: 10, wordBreak: 'break-word'}}>\r\n                                        <Typography variant=\"body2\" color=\"textSecondary\" > Descripción </Typography>\r\n                                        <Box className={classes.taskSpacingDescriptionBD}>\r\n                                            <Typography>{task.description}</Typography>\r\n                                        </Box>\r\n                                    </Box>\r\n                                </div>\r\n                            </div>\r\n                        </Box>\r\n                    </Box>\r\n                </Paper>\r\n            </Box>\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                listTasksArray()\r\n            }\r\n        </>\r\n    )\r\n};\r\n","import React from 'react';\r\nimport { Box, Divider, Grid, makeStyles, Paper, Tooltip, Typography } from '@material-ui/core'\r\nimport { TaskReader } from 'pages/DesignPageReader/DesignReader/TaskReader';\r\nimport { StackedBar } from 'components/StackedBar';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { itemsLearningType } from 'assets/resource/items'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    unitSpacing: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    titleUnitSpacing: {\r\n        display: 'flex',\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    graphicUnitSpacing: {\r\n        width: '100%',\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    trashIcon: {\r\n        marginLeft: \"auto\",\r\n    },\r\n    spacingDescriptionlearningActivity: {\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    spacingDescription: {\r\n        marginRight: theme.spacing(2)\r\n    },\r\n    spacingLinkedResults: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    buttonPos: {\r\n        marginTop: theme.spacing(1),\r\n        marginLeft: \"auto\",\r\n    },\r\n    gridTask: {\r\n        marginTop: theme.spacing(1),\r\n        marginLeft: theme.spacing(1),\r\n    },\r\n    descriptionContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        padding: theme.spacing(1),\r\n    },\r\n    learningResultList: {\r\n        display: 'flex',\r\n        flexWrap: 'nowrap',\r\n        flexDirection: 'column',\r\n        paddingLeft: 15,\r\n        paddingRight: 15,\r\n        maxHeight: 200,\r\n        overflow: 'auto',\r\n        overflowX: true,\r\n    },\r\n    taskContainer: {\r\n        position: 'relative',\r\n    },\r\n    learningResult: {\r\n        marginBottom: 10,\r\n        userSelect: 'none',\r\n    },\r\n    ellipsis: {\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n}));\r\n\r\nexport const LearningActivityReader = ({ index, learningActivity }) => {\r\n    const classes = useStyles();\r\n    const { designState } = useDesignState();\r\n    const { design } = designState;\r\n\r\n    const resetItems = () =>{\r\n        itemsLearningType.forEach((item) =>{\r\n            item.value = 0;\r\n        });\r\n    };\r\n\r\n    const renderLinkedLearningResults = () => {\r\n        const linkedLearningResults = [];\r\n        design.metadata.results.forEach((result, index) => {\r\n            if(!!learningActivity.learningResults.find(lr=> lr.verb === result.verb && lr.description === result.description)) linkedLearningResults.push(result);\r\n        });\r\n        return linkedLearningResults.map((result, i) => (\r\n            <Box key={`learning-result-${i}-learning-activity-${index}`} className={classes.learningResult}>\r\n                <Tooltip title={result.verb + ' ' + result.description} arrow>\r\n                    <Typography className={classes.ellipsis}>{(i + 1)  + '. ' + result.verb + ' ' + result.description}</Typography>\r\n                </Tooltip>\r\n            </Box>\r\n        ));\r\n    };\r\n\r\n    const listLearningActivityArray = () => {\r\n        return (\r\n            <Grid key={index}>\r\n                <Paper className={classes.unitSpacing}>\r\n                    <Grid container>\r\n                        <Grid item xs={12} sm={5} className={classes.titleUnitSpacing}>\r\n                            <Typography>{learningActivity.title}</Typography>\r\n                        </Grid>\r\n                        {resetItems()}\r\n                        <Grid item xs={12} sm={7} className={classes.graphicUnitSpacing}>\r\n                            {   \r\n                                design.data.learningActivities[index] && design.data.learningActivities[index].tasks && design.data.learningActivities[index].tasks.forEach((task)=>\r\n                                {   \r\n                                    itemsLearningType.forEach((item) =>{ \r\n                                        if( item.title === task.learningType ){\r\n                                            item.value = item.value + 1;\r\n                                        }\r\n                                    });\r\n                                } \r\n                                )\r\n                            }\r\n                            <StackedBar items = {itemsLearningType} type = {'Activity'}/>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Divider />\r\n                    <Grid container spacing={2} >\r\n                        <Grid item xs={12} sm={8} className={classes.taskContainer}>\r\n                            <Grid className={classes.gridTask}>\r\n                                {\r\n                                    design.data.learningActivities[index] && design.data.learningActivities[index].tasks && design.data.learningActivities[index].tasks.map((task, i)=> <TaskReader key={`task-${i}-learningActivity-${index}`} index={i} task={task} learningActivityIndex={index}/> ) \r\n                                }\r\n                            </Grid>\r\n                            <Grid container>\r\n                                <Grid item />\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4} >\r\n                            <div className={classes.descriptionContainer}>\r\n                                <Typography variant=\"body2\" className={classes.spacingDescriptionlearningActivity} color=\"textSecondary\"> Descripción Unidad de aprendizaje </Typography>\r\n                                <Grid className={classes.spacingDescription}>\r\n                                    <Typography>{learningActivity.description}</Typography>\r\n                                </Grid>\r\n                                <Typography variant=\"body2\" className={classes.spacingLinkedResults} color=\"textSecondary\"> Resultados Vinculados </Typography>\r\n                                <div className={classes.learningResultList}>\r\n                                    { renderLinkedLearningResults() }\r\n                                </div>\r\n\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Paper>\r\n            </Grid>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                listLearningActivityArray()\r\n            }\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Avatar, Box, Button, ButtonGroup, Card, CardActionArea, Divider, Grid, makeStyles, Typography } from '@material-ui/core';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { StackedBar } from 'components/StackedBar';\r\nimport { PieGraphic } from 'components/PieGraphic';\r\nimport { itemsLearningType, itemsFormat, itemsModality, itemsLearningTypePie } from 'assets/resource/items'\r\nimport { LearningActivityReader } from './LearningActivityReader';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { duplicateDesign } from 'services/DesignService';\r\nimport { useMutation, useQueryClient } from 'react-query';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport { Description } from '@material-ui/icons';\r\nimport { formatName, getUserInitials } from 'utils/textFormatters';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root:{\r\n        background: theme.palette.background.workSpace,\r\n        minHeight: 'calc(100vh - 112px)',\r\n    },\r\n    leftPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n        height: 'auto',\r\n    },\r\n    workspace: {\r\n        paddingLeft: 15,\r\n        paddingRight: 15,\r\n        background: theme.palette.background.workSpace,\r\n        height: 'auto',\r\n        paddingBottom: theme.spacing(1),\r\n        [theme.breakpoints.up('md')]: {\r\n            height: 'calc(100vh - 112px)',\r\n        },\r\n    },\r\n    rightPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderLeft: `1px solid ${theme.palette.divider}`,\r\n        background: theme.palette.background.paper,\r\n    },\r\n    textLefPanel:{\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1)\r\n    },\r\n    spaceData:{\r\n        marginBottom: theme.spacing(1),\r\n        borderBottom: `2px solid ${theme.palette.divider}`\r\n    },\r\n    LeftPanelMetadata:{\r\n        marginTop: theme.spacing(1),\r\n        paddingLeft: theme.spacing(2),\r\n        paddingRight: theme.spacing(2),\r\n        height: 'auto',\r\n        paddingBottom: theme.spacing(1),\r\n        [theme.breakpoints.up('xs')]: {\r\n            height: 'calc(100vh - 200px)',\r\n            overflow: 'auto'\r\n        },\r\n    },\r\n    textLeftPanelMetadata:{\r\n        marginTop: theme.spacing(3)\r\n    },\r\n    graphicsSpacing:{\r\n        marginLeft: theme.spacing(2),\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    betweenGraphics:{\r\n        marginTop: theme.spacing(2),\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n    workSpaceUnits: {\r\n        height: 'auto',\r\n        [theme.breakpoints.up('md')]: {\r\n            height: '90%',\r\n            overflow: 'auto',\r\n            overflowX: 'hidden',\r\n        },\r\n    },\r\n    buttonGroupWorkSpace: {\r\n        height: 'auto',\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    origin: {\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        border: `1px solid ${theme.palette.divider}`,\r\n        borderRadius: 4,\r\n        cursor: 'pointer',\r\n        userSelect: 'none',\r\n        backgroundColor: theme.palette.background.design,\r\n        '&:hover': {\r\n            boxShadow: '0px 0px 10px 0 #bcc3d6',\r\n            background: theme.palette.background.designHover,\r\n        },\r\n    },\r\n    '@global': {\r\n        //Ancho del scrollbar    \r\n        '*::-webkit-scrollbar': {\r\n            width: '0.4em'\r\n        },\r\n        //Sombra del scrollbar\r\n        '*::-webkit-scrollbar-track': {\r\n            '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.2)'\r\n            \r\n        },\r\n        //Scrollbar\r\n        '*::-webkit-scrollbar-thumb': {\r\n            '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.2)',\r\n            borderRadius: '15px',\r\n            backgroundColor: 'rgba(0,0,0,.1)',\r\n        }\r\n    },\r\n      \r\n}));\r\n\r\nexport const DesignReader = ({ type }) => {\r\n    const classes = useStyles();\r\n    const { designState } = useDesignState();\r\n    const { authState } = useAuthState();\r\n    const urlparams = useParams();\r\n    const history = useHistory();\r\n    const queryClient = useQueryClient();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { design } = designState;\r\n    const { metadata } = design;\r\n    \r\n    let showGraphicLearningType = false;\r\n    let showGraphicFormat = false;\r\n    let showGraphicModality = false;\r\n\r\n    const duplicateDesignMutation = useMutation(duplicateDesign, {\r\n        onMutate: async () => {\r\n            await queryClient.cancelQueries('recent-designs');\r\n            await queryClient.cancelQueries(['designs', '/']);\r\n            await queryClient.cancelQueries([authState.user.id, 'user-public-designs']);\r\n        },\r\n        onSettled: () => {\r\n            queryClient.invalidateQueries('recent-designs');\r\n            queryClient.invalidateQueries(['designs', '/']);\r\n            queryClient.invalidateQueries([authState.user.id, 'user-public-designs']);\r\n        },\r\n        onError: (error) => {\r\n            enqueueSnackbar(error.message,  {variant: 'error', autoHideDuration: 2000});\r\n        },\r\n        onSuccess: data => {\r\n            history.push(`/designs/${data.newDesign._id}`);\r\n        }\r\n    });\r\n\r\n    const handleOpenDesign = (design) =>{\r\n        if(!authState.user) return enqueueSnackbar('Debe ingresar sesión para poder realizar esta acción.', { variant: 'error', autoHideDuration: 2000 });\r\n        const inDesign = design.privileges.find(privilege => authState.user.uid === privilege.user._id);\r\n        if (inDesign) {\r\n            const typePrivilegeEditor = design.privileges.find(privilege => authState.user.uid === privilege.user._id && privilege.type === 0);\r\n            if (typePrivilegeEditor) {\r\n                history.push(`/designs/${design._id}`);\r\n            } else {\r\n                history.push(`/designs/reader/${design._id}`);\r\n            }\r\n        } else if(design.metadata.isPublic){\r\n            history.push(`/designs/reader/${design._id}`);\r\n        } else {\r\n            enqueueSnackbar('Usted no tiene acceso a este diseño.', { variant: 'error', autoHideDuration: 2000 });\r\n        }\r\n    };\r\n\r\n    const handleOpenUserProfile = (design) => {\r\n        if(!authState.user) return enqueueSnackbar('Debe ingresar sesión para poder realizar esta acción.', { variant: 'error', autoHideDuration: 2000 });\r\n        history.push(`/profile/${design.owner._id}`);\r\n    };\r\n    \r\n    design.data.learningActivities.forEach((activities) => {\r\n        if (activities.tasks !== undefined) {\r\n            activities.tasks.forEach(task=>{\r\n                if (task.learningType !== '' && task.learningType !== 'Seleccionar' ) {\r\n                    showGraphicLearningType  = true;\r\n                }\r\n                if (task.format !== '' && task.format !== 'Seleccionar') {\r\n                    showGraphicFormat = true;\r\n                }\r\n                if (task.modality !== '' && task.modality !== 'Seleccionar') {\r\n                    showGraphicModality = true;\r\n                }\r\n            })\r\n        }\r\n    });\r\n\r\n    const resetItems = () =>{\r\n        itemsLearningType.forEach((item) =>{\r\n            item.value = 0;\r\n        });\r\n        itemsLearningTypePie.forEach((item) =>{\r\n            item.value = 0;\r\n        });\r\n        \r\n        itemsFormat.forEach((item) =>{\r\n            item.value = 0;\r\n        });\r\n        itemsModality.forEach((item) =>{\r\n            item.value = 0;\r\n        });\r\n    };\r\n\r\n    const handleDuplicateDesign = async (e) => {\r\n        await duplicateDesignMutation.mutate({ id: urlparams.id });\r\n    };\r\n    \r\n    return (\r\n        <>  \r\n            <Grid container className={classes.root}>\r\n                <Grid item xs={12} md={3} lg={2} className={classes.leftPanel}>\r\n                    <Grid container alignItems='center' justify='center'>\r\n                        <Typography className={classes.textLefPanel}> INFORMACIÓN DISEÑO </Typography>\r\n                    </Grid>\r\n                    <Divider className={classes.spaceData}/>\r\n                    <Grid className={classes.LeftPanelMetadata}>\r\n                        <Grid>\r\n                            { metadata && metadata.name &&(\r\n                                    <>\r\n                                        <Typography variant='body2' color='textSecondary'> Nombre </Typography>\r\n                                        <Typography variant='body2'>{ metadata.name }</Typography>\r\n                                        <Divider/>\r\n                                    </>\r\n                                )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            { metadata && metadata.category &&(\r\n                                <>\r\n                                        <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}>Tema</Typography>\r\n                                        <Typography variant='body2'> { metadata.category.name } </Typography>\r\n                                        <Divider/>\r\n                                    </>\r\n                                )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            { metadata && metadata.workingTime &&(\r\n                                    <>\r\n                                        <Typography variant=\"body2\" color='textSecondary' className={classes.textLeftPanelMetadata}> Tiempo de trabajo </Typography>\r\n                                        <Typography variant=\"body2\"> { metadata.workingTime.hours } (hrs) : {metadata.workingTime.minutes} (min)</Typography>\r\n                                        <Divider/>\r\n                                    </>\r\n                                )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            { metadata && metadata.workingTimeDesign &&(\r\n                                    <>\r\n                                        <Typography variant=\"body2\" color='textSecondary' className={classes.textLeftPanelMetadata}>Tiempo de trabajo Diseño</Typography>\r\n                                        <Typography variant=\"body2\"> {metadata.workingTimeDesign.hours} (hrs) : {metadata.workingTimeDesign.minutes} (min)</Typography>\r\n                                        <Divider/>\r\n                                    </>\r\n                                )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            { metadata && metadata.classSize &&(\r\n                                    <>\r\n                                        <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Tamaño de la clase </Typography>\r\n                                        <Typography variant='body2'> { metadata.classSize } </Typography>\r\n                                        <Divider/>\r\n                                    </>\r\n                                )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            {metadata && metadata.priorKnowledge && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Conocimiento Previo </Typography>\r\n                                    <Typography variant='body2' component={Box}> <pre style={{ fontFamily: 'inherit', margin: 0, wordBreak: 'break-word', whiteSpace: 'pre-wrap' }}>\r\n                                        {metadata.priorKnowledge}\r\n                                    </pre></Typography>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            {metadata && metadata.description && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Descripción </Typography>\r\n                                    <Typography variant='body2' component={Box}> <pre style={{ fontFamily: 'inherit', margin: 0, wordBreak: 'break-word', whiteSpace: 'pre-wrap' }}>\r\n                                        {metadata.description}\r\n                                    </pre> </Typography>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            {metadata && metadata.evaluation && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Evaluación </Typography>\r\n                                    <Typography variant='body2' component={Box}> <pre style={{ fontFamily: 'inherit', margin: 0, wordBreak: 'break-word', whiteSpace: 'pre-wrap' }}>\r\n                                        {metadata.evaluation}\r\n                                    </pre> </Typography>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        {/*<Grid>\r\n                            { metadata && metadata.objective &&(\r\n                                    <>\r\n                                        <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Objetivos </Typography>\r\n                                        <Typography variant='body2' component={Box}> <pre style={{ fontFamily: 'inherit', margin: 0, wordBreak: 'break-word', whiteSpace: 'pre-wrap' }}>\r\n                                            {metadata.objective}\r\n                                        </pre></Typography>\r\n                                        <Divider/>\r\n                                    </>\r\n                                )\r\n                            }\r\n                        </Grid>\r\n                        */}\r\n                        <Grid>\r\n                            {metadata && metadata.scoreMean !== null && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Valoración media (0 - 5) </Typography>\r\n                                    <Box display='flex' justifyContent='flex-start' alignItems='center'>\r\n                                        { metadata.scoreMean }\r\n                                    </Box>\r\n                                    <Divider />\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            { metadata && metadata.results &&(\r\n                                <div className={classes.textLeftPanelMetadata}>\r\n                                        { metadata.results.map((result, i) => \r\n                                            <div key={`learning-result-${i}`} > \r\n                                                <Typography variant='body2' color={'textSecondary'}>Aprendizaje esperado {i + 1}</Typography>\r\n                                                <Typography variant='body2' gutterBottom >{ result.verb + ' ' + result.description}</Typography>\r\n                                            </div>\r\n                                        )}\r\n                                        <Divider/>\r\n                                </div>\r\n                                )\r\n                            }\r\n                        </Grid>\r\n                        <Grid>\r\n                            {design.origin && (\r\n                                <>\r\n                                    <Typography variant='body2' color='textSecondary' className={classes.textLeftPanelMetadata}> Derivado del diseño: </Typography>\r\n                                    <Card className={classes.origin} elevation={0}>\r\n                                        <CardActionArea onClick={()=>handleOpenDesign(design.origin)}>\r\n                                            <Box style={{ display: 'flex', alignItems: 'center', padding: 5 }}>\r\n                                                <Description style={{ marginBottom: 5 }} />\r\n                                                <Typography style={{ marginLeft: 10 }} variant='body2'>{design.origin.metadata.name}</Typography>\r\n                                            </Box>\r\n                                        </CardActionArea>\r\n                                        <Divider />\r\n                                        <CardActionArea onClick={()=>handleOpenUserProfile(design.origin)}>\r\n                                            <Box style={{ display: 'flex', alignItems: 'center', padding: 5 }}>\r\n                                                <Avatar\r\n                                                    style={{ width: 25, height: 25, fontSize: 15 }}\r\n                                                    alt={formatName(design.origin.owner.name, design.origin.owner.lastname)}\r\n                                                    src={design.origin.owner.img && design.origin.owner.img.length > 0 ? `${process.env.REACT_APP_URL}uploads/users/${design.origin.owner.img}` : ''}\r\n                                                >\r\n                                                    {getUserInitials(design.origin.owner.name, design.origin.owner.lastname)}\r\n                                                </Avatar>\r\n                                                <Typography style={{ marginLeft: 10 }} variant='body2'>{formatName(design.origin.owner.name, design.origin.owner.lastname)}</Typography>\r\n                                            </Box>\r\n                                        </CardActionArea>\r\n\r\n                                    </Card>\r\n                                </>\r\n                            )\r\n                            }\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item xs={12} md={6} lg={8} className={classes.workspace}>\r\n                    { (!!authState.token) \r\n                        ? <div className={classes.buttonZone}>\r\n                            <ButtonGroup size='small' aria-label='outlined primary button group' className={classes.buttonGroupWorkSpace}>\r\n                                <Button onClick={handleDuplicateDesign}> Duplicar </Button>\r\n                            </ButtonGroup>\r\n                        </div> \r\n                        : <div></div>}\r\n                    <Grid className={classes.workSpaceUnits}>\r\n                        <Grid >\r\n                            {\r\n                                design.data.learningActivities && design.data.learningActivities.map((learningActivity, index) => <LearningActivityReader key={`learningActivity-${index}`} index={index} learningActivity={learningActivity}/> )\r\n                            }\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item xs={12} md={3} lg={2} className={classes.rightPanel}>\r\n                {resetItems()}\r\n                    <Grid className={classes.graphicsSpacing}>\r\n                        {   \r\n                            design.data.learningActivities && design.data.learningActivities.map((learningActivity) => \r\n                                learningActivity.tasks && learningActivity.tasks.forEach((task) => {\r\n                                    itemsLearningType.forEach((item) =>{\r\n                                        if( item.title === task.learningType){\r\n                                            item.value = item.value + 1;\r\n                                        }\r\n                                    });\r\n                                    itemsLearningTypePie.forEach((item) =>{\r\n                                        if( item.title === task.learningType){\r\n                                            item.value = item.value + 1;\r\n                                        }\r\n                                    });\r\n                                    itemsFormat.forEach((item) =>{ \r\n                                        if( item.title === task.format ){\r\n                                            item.value = item.value + 1;\r\n                                        }\r\n                                    });\r\n                                    itemsModality.forEach((item) =>{ \r\n                                        if( item.title === task.modality ){\r\n                                            item.value = item.value + 1;\r\n                                        }\r\n                                    });\r\n                                }))\r\n                            }\r\n                        { showGraphicLearningType && \r\n                            <div className={classes.betweenGraphics}>\r\n                                <PieGraphic items = { itemsLearningTypePie} colorGraphicToPdf={true}></PieGraphic>\r\n                            </div>\r\n                        }\r\n                        {   showGraphicFormat &&\r\n                            <div className={classes.betweenGraphics}>\r\n                                <Typography>Formato</Typography>\r\n                                <StackedBar items = {itemsFormat} type={'Format'} legends={true} colorGraphicToPdf={true}></StackedBar>\r\n                            </div>\r\n                        }\r\n                        {   showGraphicModality &&\r\n                            <div className={classes.betweenGraphics}>\r\n                                <Typography>Modalidad</Typography>\r\n                                <StackedBar items = {itemsModality} type={'Modality'} legends={true} colorGraphicToPdf={true}></StackedBar>\r\n                            </div>\r\n                        }\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, makeStyles, Typography, useTheme } from '@material-ui/core';\r\nimport { Close } from '@material-ui/icons';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport types from 'types';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { Rating } from '@material-ui/lab';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    closeButton: {\r\n        color: theme.palette.grey[500],\r\n    },\r\n    title: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    ellipsis: {\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n    bodyMargin: {\r\n        marginLeft: theme.spacing(5),\r\n        marginRight: theme.spacing(5)\r\n    },\r\n    ratingRoot: {\r\n        fontSize: 90,\r\n        [theme.breakpoints.down('xs')]: {\r\n            fontSize: 40,\r\n        },\r\n    },\r\n}));\r\n\r\nconst labels = {\r\n    0.5: 'Pésimo',\r\n    1:   'Muy malo',\r\n    1.5: 'Malo',\r\n    2:   'Menos que bueno',\r\n    2.5: 'Bueno',\r\n    3:   'Más que bueno',\r\n    3.5: 'Muy bueno',\r\n    4:   'Extraordinario',\r\n    4.5: 'Casi excelente',\r\n    5:   'Excelente',\r\n};\r\n\r\nconst getInitialScore = (assessments, uid) => {\r\n    const existentAssesment = assessments.find((a) => a.user === uid);\r\n    if(existentAssesment) return existentAssesment.score;\r\n    return null;\r\n};\r\n\r\nexport const AssessmentModal = () => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { socket, online, emitWithTimeout } = useSocketState();\r\n    const { authState } = useAuthState();\r\n    const { uiState, dispatch } = useUiState();\r\n    const { designState } = useDesignState();\r\n    const { design } = designState;\r\n    let initialScore = getInitialScore(design.assessments, authState.user.uid);\r\n    const [ assessment, setAssessment] = useState(initialScore);\r\n    const [hover, setHover] = useState(-1);\r\n\r\n    useEffect(() => {\r\n        setAssessment(getInitialScore(design.assessments, authState.user.uid));\r\n    }, [design.assessments, setAssessment, authState.user.uid]);\r\n\r\n    const handleClose = () => {\r\n        dispatch({\r\n            type: types.ui.closeModal,\r\n            payload: 'Assessment',\r\n        });\r\n        setTimeout(() => {\r\n            setAssessment(initialScore);\r\n            setHover(-1);\r\n        }, theme.transitions.duration.enteringScreen);\r\n    };\r\n\r\n    const handleRate = () => {\r\n        if(assessment){\r\n            if (assessment === initialScore) return handleClose();\r\n            if(online){\r\n                socket?.emit('rate-design', {\r\n                    designId: design._id,\r\n                    rate: {\r\n                        user: authState.user.uid,\r\n                        score: assessment,\r\n                    },\r\n                }, emitWithTimeout(\r\n                    (resp) => enqueueSnackbar(resp.message, { variant: resp.ok ? 'success' : 'error', autoHideDuration: 2000 }),\r\n                    () => enqueueSnackbar('Error al valorar el diseño. Por favor revise su conexión. Tiempo de espera excedido.', { variant: 'error', autoHideDuration: 2000 }),\r\n                ));\r\n                handleClose();\r\n            }\r\n        }\r\n    };\r\n    \r\n    return (\r\n        <Dialog style={{padding: 0}} open={uiState.isAssessmentModalOpen}>\r\n            <DialogTitle style={{padding: '5px 5px 5px 16px'}}>\r\n                <Box className={classes.title}>\r\n                    <Box className={classes.ellipsis}>\r\n                        Valorar diseño\r\n                    </Box>\r\n                    <IconButton aria-label='close' className={classes.closeButton} onClick={handleClose}>\r\n                        <Close />\r\n                    </IconButton>\r\n                </Box>\r\n            </DialogTitle>\r\n            <DialogContent dividers>\r\n                <Typography align='center' style={{marginBottom: 20}}>\r\n                    En esta ventana usted puede valorar o cambiar su valoración del diseño de aprendizaje que está visualizando\r\n                    haciendo click en alguna de las estrellas a continuación:\r\n                </Typography>\r\n                <Box style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\r\n                    <Rating\r\n                        classes={{root: classes.ratingRoot}}\r\n                        name=\"hover-feedback\"\r\n                        value={assessment}\r\n                        precision={0.5}\r\n                        onChange={(event, newValue) => {\r\n                            setAssessment(newValue);\r\n                        }}\r\n                        onChangeActive={(event, newHover) => {\r\n                            setHover(newHover);\r\n                        }}\r\n                    />\r\n                    <Box style={{minHeight: 50, marginTop: 20}}>\r\n                        <Typography>\r\n                            { hover !== -1 ? labels[hover] : assessment ? labels[assessment] : 'No valorado' }\r\n                        </Typography>\r\n                    </Box>\r\n                </Box>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleClose}> Cancelar </Button>\r\n                <Button variant='contained' color='primary' onClick={handleRate} disabled={!assessment}> Valorar </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Grid, makeStyles, Tabs, Tab, Typography, Backdrop, Box, Button } from '@material-ui/core';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { TabPanel } from 'components/TabPanel';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport types from 'types';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { DesignReader } from './DesignReader/DesignReader';\r\nimport { Description, Star } from '@material-ui/icons';\r\nimport { AssessmentModal } from 'components/AssessmentModal';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport { DesignComments } from 'components/DesignComments';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    leftPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    comments: {\r\n        paddingTop: 10,\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        background: theme.palette.background.workSpace,\r\n        minHeight: 'calc(100vh - 177px)',\r\n    },\r\n    rightPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderLeft: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    menu: {\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    tabBar: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    error: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        padding: 20,\r\n        alignItems: 'start',\r\n        minHeight: 'calc(100vh - 128px)',\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    },\r\n    loadingFile: {\r\n        '-webkit-backface-visibility': 'hidden',\r\n        animation: `$spinAndScale 3000ms ${theme.transitions.easing.easeInOut}`,\r\n        animationIterationCount: 'infinite',\r\n        animationDirection: 'alternate',\r\n    },\r\n    \"@keyframes spinAndScale\": {\r\n        from: {\r\n            height: 300,\r\n            width: 300,\r\n            transform: 'rotate(0deg)',\r\n        },\r\n        to: {\r\n            height: 150,\r\n            width: 150,\r\n            transform: 'rotate(360deg)',\r\n        }\r\n    },\r\n}));\r\n\r\nconst a11yProps = (index) => {\r\n    return {\r\n        id: `full-width-tab-${index}`,\r\n        'aria-controls': `full-width-tabpanel-${index}`,\r\n    };\r\n}\r\n\r\nexport const DesignPageReader = () => {\r\n    const classes = useStyles();\r\n    const { id } = useParams();\r\n    const isMounted = useRef(true);\r\n    const { socket, online, emitWithTimeout } = useSocketState();\r\n    const { authState } = useAuthState();\r\n    const { designState, dispatch } = useDesignState();\r\n    const { dispatch: uiDispatch } = useUiState();\r\n    const [ tabIndex, setTabIndex ] = useState(0);\r\n    const { design } = designState;\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (online) {\r\n            socket?.emit('join-to-design', { user: authState.user, designId: id, public: true }, emitWithTimeout(\r\n                (res) => {\r\n                    if (res.ok){\r\n                        if(isMounted.current) {\r\n                            dispatch({\r\n                                type: types.design.updateDesign,\r\n                                payload: res.data.design\r\n                            });\r\n                        }\r\n                    } \r\n                    else setError(res.message);\r\n                },\r\n                () => {\r\n                    setError('Error al intentar ingresar al diseño. Por favor revise su conexión. Tiempo de espera excedido.');\r\n                },\r\n            ));\r\n        }\r\n    }, [socket, authState.user, online, id, dispatch, emitWithTimeout]);\r\n\r\n    useEffect(() => {\r\n        socket?.on('update-design-rate', ({assessments, mean}) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.setAssessments,\r\n                    payload: assessments,\r\n                });\r\n                dispatch({\r\n                    type: types.design.setScoreMean,\r\n                    payload: mean,\r\n                });\r\n            }\r\n        });\r\n        socket?.on('comment-design', (commentary) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.commentDesign,\r\n                    payload: commentary,\r\n                });\r\n            }\r\n        });\r\n        socket?.on('delete-comment', (commentaryId) => {\r\n            if (isMounted.current) {\r\n                dispatch({\r\n                    type: types.design.deleteComment,\r\n                    payload: commentaryId,\r\n                });\r\n            }\r\n        });\r\n        return () => {\r\n            socket?.off('update-design-rate');\r\n            socket?.off('comment-design');\r\n            socket?.off('delete-comment');\r\n        };\r\n    }, [socket, dispatch]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            socket?.emit('leave-from-design', { user: authState.user, designId: id });\r\n        }\r\n    }, [socket, authState.user, id]);\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setTabIndex(newValue);\r\n    };\r\n    \r\n    if(error){\r\n        return (\r\n            <div className={classes.error}>\r\n                <Alert severity='error' variant='outlined'>\r\n                    { error }\r\n                </Alert>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!design) {\r\n        return (\r\n            <Backdrop className={classes.backdrop} open={true}>\r\n                <Box style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                    <Box width={300} height={300} style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n                        <Description className={classes.loadingFile} />\r\n                    </Box>\r\n                    <Typography>Cargando Diseño de Aprendizaje...</Typography>\r\n                </Box>\r\n            </Backdrop>\r\n        );\r\n    }\r\n\r\n    const handleOpenAssessmentModal = () => {\r\n        uiDispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Assessment',\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Grid container className={classes.menu} key={design._id}>\r\n                <Grid item xs={12} md={3} lg={2} />\r\n                <Grid item xs={12} md={6} lg={8} className={classes.tabBar}>\r\n                    <Tabs\r\n                        value={tabIndex}\r\n                        onChange={handleChange}\r\n                        aria-label=\"full width tabs example\"\r\n                    >\r\n                        <Tab label=\"DISEÑO\" {...a11yProps(0)} />\r\n                        <Tab label=\"COMENTARIOS\" {...a11yProps(1)} />\r\n                    </Tabs>\r\n                    { \r\n                        authState.user && authState.user.uid !== design.owner && <Button variant='outlined' color='default' onClick={handleOpenAssessmentModal}>\r\n                            <Star style={{marginRight: 10, marginTop: -3}}/> Valorar Diseño\r\n                        </Button>\r\n                    }\r\n                </Grid>\r\n                <Grid item xs={12} md={3} lg={2} ></Grid>\r\n            </Grid>\r\n            <TabPanel value={tabIndex} index={0} >\r\n                <DesignReader />\r\n            </TabPanel>\r\n            <TabPanel value={tabIndex} index={1} >\r\n                <Grid container>\r\n                    <Grid item xs={12} md={3} lg={2} className={classes.leftPanel}></Grid>\r\n                    <Grid item xs={12} md={6} lg={8} className={classes.comments}>\r\n                        <DesignComments />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={3} lg={2} className={classes.rightPanel}></Grid>\r\n                </Grid>\r\n            </TabPanel>\r\n            <AssessmentModal />\r\n        </>\r\n    )\r\n}","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Backdrop, Box, Button, Grid, makeStyles, Tab, Tabs, Typography } from '@material-ui/core';\r\nimport { useQuery } from 'react-query';\r\nimport { useParams } from 'react-router';\r\nimport { getDesignByLink } from 'services/DesignService';\r\nimport { DesignReader } from 'pages/DesignPageReader/DesignReader/DesignReader';\r\nimport { useDesignState } from 'contexts/design/DesignContext';\r\nimport { TabPanel } from 'components/TabPanel';\r\nimport types from 'types';\r\nimport { Alert } from '@material-ui/lab';\r\nimport { Description, Star } from '@material-ui/icons';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { AssessmentModal } from 'components/AssessmentModal';\r\nimport { useSocketState } from 'contexts/SocketContext';\r\nimport { useUiState } from 'contexts/ui/UiContext';\r\nimport { DesignComments } from 'components/DesignComments';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        minHeight: 'calc(100vh - 128px)',\r\n    },\r\n    leftPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    comments: {\r\n        paddingTop: 10,\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        background: theme.palette.background.workSpace,\r\n        minHeight: 'calc(100vh - 177px)',\r\n    },\r\n    rightPanel: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderLeft: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    content: {\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n    },\r\n    tabBar: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    error: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        padding: 20,\r\n        alignItems: 'start',\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    },\r\n    loadingFile: {\r\n        '-webkit-backface-visibility': 'hidden',\r\n        animation: `$spinAndScale 3000ms ${theme.transitions.easing.easeInOut}`,\r\n        animationIterationCount: 'infinite',\r\n        animationDirection: 'alternate',\r\n    },\r\n    \"@keyframes spinAndScale\": {\r\n        from: {\r\n            height: 300,\r\n            width: 300,\r\n            transform: 'rotate(0deg)',\r\n        },\r\n        to: {\r\n            height: 150,\r\n            width: 150,\r\n            transform: 'rotate(360deg)',\r\n        }\r\n    },\r\n}));\r\n\r\nconst a11yProps = (index) => {\r\n    return {\r\n        id: `full-width-tab-${index}`,\r\n        'aria-controls': `full-width-tabpanel-${index}`,\r\n    };\r\n}\r\n\r\nexport const SharedLinkPage = () => {\r\n    const classes = useStyles();\r\n    const urlparams = useParams();\r\n    const isMounted = useRef(true);\r\n    const { socket, online, emitWithTimeout } = useSocketState();\r\n    const { authState } = useAuthState();\r\n    const { designState, dispatch } = useDesignState();\r\n    const { dispatch: uiDispatch } = useUiState();\r\n    const [ tabIndex, setTabIndex ] = useState(0);\r\n    const { design } = designState;\r\n    const [errorSocket, setErrorSocket] = useState(null);\r\n    const [id, setId] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if(authState.user){\r\n            if(online && id){\r\n                socket?.emit('join-to-design', { user: authState.user, designId: id, public: true }, emitWithTimeout(\r\n                    (res) => {\r\n                        if (res.ok){\r\n                            if(isMounted.current) {\r\n                                dispatch({\r\n                                    type: types.design.updateDesign,\r\n                                    payload: res.data.design\r\n                                });\r\n                            }\r\n                        } \r\n                        else setErrorSocket(res.message);\r\n                    },\r\n                    () => {\r\n                        setErrorSocket('Error al intentar ingresar al diseño. Por favor revise su conexión. Tiempo de espera excedido.');\r\n                    },\r\n                ));\r\n            }\r\n        }\r\n    }, [socket, authState.user, online, dispatch, id, emitWithTimeout]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if(authState.user){\r\n                socket?.emit('leave-from-design', { user: authState.user, designId: id });\r\n            }\r\n        }\r\n    }, [socket, authState.user, id]);\r\n    \r\n    useEffect(() => {\r\n        if(authState.user){\r\n            socket?.on('update-design-rate', ({assessments, mean}) => {\r\n                if (isMounted.current) {\r\n                    dispatch({\r\n                        type: types.design.setAssessments,\r\n                        payload: assessments,\r\n                    });\r\n                    dispatch({\r\n                        type: types.design.setScoreMean,\r\n                        payload: mean,\r\n                    });\r\n                }\r\n            });\r\n            socket?.on('comment-design', (commentary) => {\r\n                if (isMounted.current) {\r\n                    dispatch({\r\n                        type: types.design.commentDesign,\r\n                        payload: commentary,\r\n                    });\r\n                }\r\n            });\r\n            socket?.on('delete-comment', (commentaryId) => {\r\n                if (isMounted.current) {\r\n                    dispatch({\r\n                        type: types.design.deleteComment,\r\n                        payload: commentaryId,\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        return () => {\r\n            if(authState.user) {\r\n                socket?.off('update-design-rate');\r\n\r\n            }\r\n            socket?.off('comment-design');\r\n            socket?.off('delete-comment');\r\n        };\r\n    }, [socket, dispatch, authState.user]);\r\n\r\n    const { isLoading, isError, error, data } = useQuery(['shared-design-by-link', urlparams.link], async () => {\r\n        const resp = await getDesignByLink({ link: urlparams.link });\r\n        if(authState.user) {\r\n            setId(resp.design._id);\r\n            return resp;\r\n        }\r\n        dispatch({\r\n            type: types.design.updateDesign,\r\n            payload: resp.design,\r\n        });\r\n        return resp;\r\n    }, { refetchOnWindowFocus: false });\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setTabIndex(newValue);\r\n    };\r\n\r\n    const renderError = () => {\r\n        return <div className={classes.error}>\r\n            <Alert severity='error' variant='outlined'>\r\n                {error.message}\r\n            </Alert>\r\n        </div>;\r\n    };\r\n\r\n    const handleOpenAssessmentModal = () => {\r\n        uiDispatch({\r\n            type: types.ui.openModal,\r\n            payload: 'Assessment',\r\n        });\r\n    };\r\n\r\n    const renderContent = () => {\r\n        return <>\r\n            <Grid container className={classes.content} key={data.design._id}>\r\n                <Grid item xs={12} md={3} lg={2} />\r\n                <Grid item xs={12} md={6} lg={8} className={classes.tabBar}>\r\n                    <Tabs\r\n                        value={tabIndex}\r\n                        onChange={handleChange}\r\n                        aria-label=\"full width tabs example\"\r\n                    >\r\n                        <Tab label=\"DISEÑO\" {...a11yProps(0)} />\r\n                        <Tab label=\"COMENTARIOS\" {...a11yProps(1)} />\r\n                    </Tabs>\r\n                    {\r\n                        authState.user && authState.user.uid !== design.owner && <Button variant='outlined' color='default' onClick={handleOpenAssessmentModal}>\r\n                            <Star style={{ marginRight: 10, marginTop: -3 }} /> Valorar Diseño</Button>\r\n                    }\r\n                </Grid>\r\n                <Grid item xs={12} md={3} lg={2}></Grid>\r\n            </Grid>\r\n            <TabPanel value={tabIndex} index={0} >\r\n                <DesignReader type='shared-link' />\r\n            </TabPanel>\r\n            <TabPanel value={tabIndex} index={1} >\r\n                <Grid container>\r\n                    <Grid item xs={12} md={3} lg={2} className={classes.leftPanel}></Grid>\r\n                    <Grid item xs={12} md={6} lg={8} className={classes.comments}>\r\n                        <DesignComments />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={3} lg={2} className={classes.rightPanel}></Grid>\r\n                </Grid>\r\n            </TabPanel>\r\n            { authState.user && <AssessmentModal /> }\r\n        </>;\r\n    };\r\n\r\n    const renderLoading = () => {\r\n        return (\r\n            <Backdrop className={classes.backdrop} open={true}>\r\n                <Box style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                    <Box width={300} height={300} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                        <Description className={classes.loadingFile} />\r\n                    </Box>\r\n\r\n                    <Typography>Cargando Diseño de Aprendizaje...</Typography>\r\n                </Box>\r\n            </Backdrop>\r\n        );\r\n    };\r\n\r\n    const renderNotFoundMessage = () => {\r\n        return <div className={classes.error}>\r\n            <Alert severity='error' variant='outlined'>\r\n                No se ha encontrado diseño.\r\n            </Alert>\r\n        </div>;\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {\r\n                isError || errorSocket\r\n                    ? renderError()\r\n                    : isLoading || !design\r\n                        ? renderLoading()\r\n                        : data.design === {}\r\n                                ? renderNotFoundMessage()\r\n                                : renderContent()\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import { Backdrop, Box, Button, CircularProgress, Container, makeStyles, Step, StepLabel, Stepper, TextField, Typography } from '@material-ui/core';\r\nimport { Code, Done, Email, VpnKey } from '@material-ui/icons';\r\nimport React, { useState } from 'react';\r\nimport { changeUserPassword, getUserByEmail, resendVerificationCode } from 'services/UserService';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useHistory } from 'react-router';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        minHeight: 'calc(100vh - 128px)',\r\n        height: 'auto',\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        border: `1px solid ${theme.palette.divider}`,\r\n        padding: 10,\r\n        borderRadius: theme.shape.borderRadius,\r\n        height: '100%',\r\n        [theme.breakpoints.down('xs')]: {\r\n            borderStyle: 'none',\r\n            padding: 0,\r\n        },\r\n    },\r\n    backButton: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    instructions: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    buttonZone: {\r\n        display: 'flex',\r\n        justifySelf: 'flex-end',\r\n        justifyContent: 'flex-end',\r\n        [theme.breakpoints.down('sm')]: {\r\n            marginTop: 30,\r\n            paddingRight: 20,\r\n        },\r\n    },\r\n    body: {\r\n        maxWidth: 600,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-between',\r\n        [theme.breakpoints.up('sm')]: {\r\n            height: 450,\r\n        },\r\n    },\r\n    content: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: 20,\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: 40,\r\n        },\r\n    },\r\n    input: {\r\n        marginTop: 30,\r\n    },\r\n    codeForm: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        marginTop: 30,\r\n    },\r\n    codeButton: {\r\n        borderTopLeftRadius: 0,\r\n        borderBottomLeftRadius: 0,\r\n    },\r\n    codeInput: {\r\n        '& fieldset': {\r\n            borderTopRightRadius: 0,\r\n            borderBottomRightRadius: 0,\r\n        }\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    },\r\n}));\r\n\r\nconst emailInitialValue = {\r\n    value: '',\r\n    error: null\r\n};\r\n\r\nconst codeInitialValue = {\r\n    value: '',\r\n    error: null\r\n};\r\n\r\nconst passwordInitialValue = {\r\n    password: '',\r\n    confirm: '',\r\n    passwordError: null,\r\n    confirmError: null\r\n};\r\n\r\nexport const ResetPasswordPage = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [activeStep, setActiveStep] = useState(0);\r\n    const [loading, setLoading] = useState(false);\r\n    const [uid, setUid] = useState(null);\r\n    const [verificationCode, setVerificationCode] = useState(null);\r\n    const [codeForm, setCodeForm] = useState(codeInitialValue);\r\n    const [email, setEmail] = useState(emailInitialValue);\r\n    const [passwordForm, setPasswordForm] = useState(passwordInitialValue);\r\n    const steps = [\r\n        { icon: Email, label: 'Buscar cuenta por email' },\r\n        { icon: Code, label: 'Código de verificación' },\r\n        { icon: VpnKey, label: 'Restablecer contraseña' },\r\n        { icon: Done, label: 'Contraseña restablecida' },\r\n    ];\r\n\r\n    const isEmailValid = () => {\r\n        if (!/^[-\\w.%+]{1,64}@(?:[A-Z0-9]{1,63}\\.){1,125}[A-Z]{2,63}$/i.test(email.value)) {\r\n            setEmail((prevState) => ({\r\n                ...prevState,\r\n                error: 'El correo debe tener la siguiente estructura: example@example.com',\r\n            }));\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const paswordsMatchs = () => {\r\n        if (!passwordForm.password.trim().length) return setPasswordForm({\r\n            ...passwordForm,\r\n            passwordError: 'Este campo es obligatorio',\r\n        });\r\n        if (!passwordForm.confirm.trim().length) return setPasswordForm({\r\n            ...passwordForm,\r\n            confirmError: 'Este campo es obligatorio',\r\n        });\r\n        if(!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,16}$/.test(passwordForm.password)){\r\n            setPasswordForm((prevState) => ({\r\n                ...prevState,\r\n                passwordError: 'La contraseña debe tener al menos un carácter en minúscula, uno en mayúscula, un número y debe tener entre 8 y 16 caractéres de longitud.',\r\n            }));\r\n            return false;\r\n        }\r\n        if (passwordForm.password !== passwordForm.confirm) {\r\n            setPasswordForm((prevState) => ({\r\n                ...prevState,\r\n                passwordError: 'Las contraseñas no coinciden.',\r\n                confirmError: 'Las contraseñas no coinciden.'\r\n            }));\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    const handleNext = () => {\r\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n    };\r\n\r\n    const handleBack = () => {\r\n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n        setVerificationCode(null);\r\n        setEmail(emailInitialValue);\r\n    };\r\n\r\n    const handleChangeEmail = ({ target }) => {\r\n        setEmail({\r\n            value: target.value,\r\n            error: null,\r\n        });\r\n    };\r\n\r\n    const handleSearchAccount = async (e) => {\r\n        e.preventDefault();\r\n        if (!email.value.trim().length) return setEmail({\r\n            ...email,\r\n            error: 'Este campo es obligatorio',\r\n        });\r\n        if (!isEmailValid()) return;\r\n        setLoading(true);\r\n        const resp = await getUserByEmail(email.value);\r\n        setLoading(false);\r\n        if (!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 5000 });\r\n        enqueueSnackbar('Se ha enviado un código de verificación a su correo electrónico.', { variant: 'success', autoHideDuration: 5000 });\r\n        setVerificationCode(resp.data.randomCode);\r\n        setUid(resp.data.user._id);\r\n        handleNext();\r\n    };\r\n\r\n    const handleVerifyCode = (e) => {\r\n        e.preventDefault();\r\n        if(codeForm.value.trim().toUpperCase() !== verificationCode.trim().toUpperCase()) return setCodeForm({\r\n            ...codeForm,\r\n            error: 'El código ingresado no coincide'\r\n        });\r\n        handleNext();\r\n    };\r\n\r\n    const handleResetPassword = async (e) => {\r\n        e.preventDefault();\r\n        if(!paswordsMatchs()) return;\r\n        const resp = await changeUserPassword({ uid, newPassword: passwordForm.password });\r\n        if (!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 5000 });\r\n        enqueueSnackbar(resp.message, { variant: 'success', autoHideDuration: 5000 });\r\n        handleNext();\r\n    };\r\n\r\n    const handleChangePassword = ({target}) => {\r\n        setPasswordForm({\r\n            ...passwordForm,\r\n            [target.name]: target.value,\r\n            passwordError: null,\r\n            confirmError: null,\r\n        });\r\n    }\r\n    \r\n    const handleChangeCode = ({target}) => {\r\n        setCodeForm({\r\n            ...codeForm,\r\n            value: target.value,\r\n            error: null,\r\n        });\r\n    }\r\n\r\n    const handleResendCode = async (e) => {\r\n        setLoading(true);\r\n        setCodeForm(codeInitialValue);\r\n        const resp = await resendVerificationCode(email.value);\r\n        setLoading(false);\r\n        if (!resp.ok) return enqueueSnackbar(resp.message, { variant: 'error', autoHideDuration: 5000 });\r\n        enqueueSnackbar(resp.message, { variant: 'success', autoHideDuration: 2000 });\r\n        setVerificationCode(resp.data.randomCode);\r\n    }\r\n    \r\n    const handleFinish = (e) => {\r\n        e.preventDefault();\r\n        history.push('/');\r\n    };\r\n\r\n    const emailForm = () => {\r\n        return (\r\n            <Box className={classes.content}>\r\n                <Typography variant='h5' align='center' gutterBottom>\r\n                    Busca tu cuenta por correo electrónico\r\n                </Typography>\r\n                <Typography variant='body1' align='center' gutterBottom>\r\n                    Introduce la dirección de correo electrónico asociada a tu cuenta para poder identificarte.\r\n                </Typography>\r\n                <TextField\r\n                    className={classes.input}\r\n                    label='Email'\r\n                    type='email'\r\n                    value={email.value}\r\n                    error={!!email.error}\r\n                    helperText={email.error}\r\n                    onChange={handleChangeEmail}\r\n                    placeholder='Ingresa correo electrónico'\r\n                    variant='outlined'\r\n                    fullWidth\r\n                    autoFocus\r\n                />\r\n            </Box>\r\n        );\r\n    };\r\n    \r\n    const verificationCodeForm = () => {\r\n        return (\r\n            <Box className={classes.content}>\r\n                <Typography variant='h5' align='center' gutterBottom>\r\n                    Código de verificación\r\n                </Typography>\r\n                <Typography variant='body1' align='center' gutterBottom>\r\n                    Introduce el código de verificación que hemos enviado a tu correo electrónico.\r\n                    Si este no ha llegado a tu correo, puedes reenviar un código haciendo click en el botón \"Reenviar Código\".\r\n                </Typography>\r\n                <div className={classes.codeForm}>\r\n                    <TextField\r\n                        className={classes.codeInput}\r\n                        value={codeForm.value}\r\n                        error={!!codeForm.error}\r\n                        helperText={codeForm.error}\r\n                        onChange={handleChangeCode}\r\n                        label='Código verificación'\r\n                        type='text'\r\n                        placeholder='Ingresa código verificación'\r\n                        variant='outlined'\r\n                        inputProps={{ style: { textTransform: \"uppercase\"} }}\r\n                        fullWidth\r\n                        />\r\n                    <Button\r\n                        className={classes.codeButton}\r\n                        size='small'\r\n                        variant=\"contained\" \r\n                        color=\"primary\"\r\n                        disableElevation \r\n                        onClick={handleResendCode}\r\n                    >\r\n                        Reenviar Código\r\n                    </Button>\r\n                </div>\r\n            </Box>\r\n        );\r\n    };\r\n\r\n    const resetPasswordForm = () => {\r\n        return (\r\n            <Box className={classes.content}>\r\n                <Typography variant='h5' align='center' gutterBottom>\r\n                    Restablecer contraseña\r\n                </Typography>\r\n                <Typography variant='body1' align='center' gutterBottom>\r\n                    Complete el siguiente formulario para reestablecer su contraseña.\r\n                </Typography>\r\n                <TextField\r\n                    name='password'\r\n                    className={classes.input}\r\n                    value={passwordForm.password}\r\n                    onChange={handleChangePassword}\r\n                    error={!!passwordForm.passwordError}\r\n                    helperText={passwordForm.passwordError}\r\n                    label='Nueva contraseña'\r\n                    type='password'\r\n                    placeholder='Ingresa la nueva contraseña'\r\n                    variant='outlined'\r\n                    fullWidth\r\n                />\r\n                <TextField\r\n                    name='confirm'\r\n                    className={classes.input}\r\n                    value={passwordForm.confirm}\r\n                    onChange={handleChangePassword}\r\n                    error={!!passwordForm.confirmError}\r\n                    helperText={passwordForm.confirmError}\r\n                    label='Confirmar contraseña'\r\n                    type='password'\r\n                    placeholder='Ingresa nuevamente la nueva contraseña'\r\n                    variant='outlined'\r\n                    fullWidth\r\n                />\r\n            </Box>\r\n        );\r\n    };\r\n\r\n    const finishStep = () => {\r\n        return (\r\n            <Box className={classes.content}>\r\n                <Typography variant='h5' align='center' gutterBottom>\r\n                    Contraseña restablecida\r\n                </Typography>\r\n                <Typography variant='body1' align='center' gutterBottom>\r\n                    La contraseña de su cuenta se ha reestablecido con éxito.\r\n                    Por favor haga click en el boton \"Finalizar\" para redirigirlo a la página de inicio.\r\n                </Typography>\r\n            </Box>\r\n        );\r\n    };\r\n\r\n    const getStepContent = (step) => {\r\n        switch (step) {\r\n            case 0:\r\n                return emailForm();\r\n            case 1:\r\n                return verificationCodeForm();\r\n            case 2:\r\n                return resetPasswordForm();\r\n            case 3:\r\n                return finishStep();\r\n            default:\r\n                return 'Unknown step';\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container className={classes.root}>\r\n            <Box className={classes.container}>\r\n                <Stepper style={{width:'100%'}} activeStep={activeStep} alternativeLabel>\r\n                    {steps.map((step) => (\r\n                        <Step key={step.label}>\r\n                            <StepLabel>{step.label}</StepLabel>\r\n                        </Step>\r\n                    ))}\r\n                </Stepper>\r\n                <form className={classes.body} onSubmit={activeStep === 0 ? handleSearchAccount : activeStep === 1 ? handleVerifyCode : activeStep === 2 ? handleResetPassword : handleFinish } noValidate>\r\n                    {getStepContent(activeStep)}\r\n                        <Box className={classes.buttonZone}>\r\n                            {activeStep === 1 && (<Button\r\n                                disabled={activeStep === 0}\r\n                                onClick={handleBack}\r\n                                className={classes.backButton}\r\n                                >\r\n                                Volver\r\n                            </Button>)}\r\n                            <Button disableElevation variant=\"contained\" type='submit' color=\"primary\">\r\n                                {activeStep === steps.length - 1 ? 'Finalizar': 'Siguiente'}\r\n                            </Button>\r\n                        </Box>\r\n                </form>\r\n            </Box>\r\n            <Backdrop className={classes.backdrop} open={loading}>\r\n                <CircularProgress color=\"inherit\" />\r\n            </Backdrop>\r\n        </Container>\r\n    );\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Redirect,\r\n    Route\r\n} from 'react-router-dom';\r\nimport { LandingPage } from 'pages/LandingPage/LandingPage';\r\nimport { PublicRoute } from 'router/PublicRoute';\r\nimport { PrivateRoute } from 'router/PrivateRoute';\r\nimport { MyDesignsPage } from 'pages/Navigation/MyDesigns/MyDesignsPage';\r\nimport { UserProfile } from 'pages/User/UserProfile/UserProfile';\r\nimport { useAuthState } from 'contexts/AuthContext';\r\nimport { NavBar } from 'components/NavBar';\r\nimport { Footer } from 'components/Footer';\r\nimport { CssBaseline, makeStyles } from '@material-ui/core';\r\nimport { SharedWithMePage } from 'pages/Navigation/SharedWithMe/SharedWithMePage';\r\nimport { PublicRepositoryPage } from 'pages/Navigation/PublicRepository/PublicRepositoryPage';\r\nimport { SearchUsersPage } from 'pages/User/SearchUsersPage/SearchUsersPage';\r\nimport { DesignPage } from 'pages/DesignPage/DesignPage';\r\nimport { ConfirmationModal } from 'components/ConfirmationModal';\r\nimport { DesignPageReader } from 'pages/DesignPageReader/DesignPageReader'\r\nimport { SharedLinkPage } from 'pages/SharedLink/SharedLinkPage';\r\nimport { ResetPasswordPage } from 'pages/Auth/ResetPasswordPage';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    '@global': {\r\n        'html, body':\r\n        {\r\n            height: '100%',\r\n        },\r\n        //Ancho del scrollbar    \r\n        '*::-webkit-scrollbar': {\r\n            height: '0.6em',\r\n            width: '0.6em',\r\n        },\r\n        //Sombra del scrollbar\r\n        '*::-webkit-scrollbar-track': {\r\n            '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.2)',\r\n            // '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.2)',\r\n\r\n        },\r\n        //Scrollbar\r\n        '*::-webkit-scrollbar-thumb': {\r\n            '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.2)',\r\n            // '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.2)',\r\n            borderRadius: '15px',\r\n            backgroundColor: theme.palette.type === 'dark' ? theme.palette.grey[400] : theme.palette.grey[500],\r\n            // backgroundColor: 'rgba(0,0,0,.1)',\r\n        }\r\n    },\r\n}));\r\n\r\nexport const AppRouter = () => {\r\n    const { authState, verifyToken } = useAuthState();\r\n    const { token, checking } = authState;\r\n    useStyles();\r\n\r\n    useEffect(() => {\r\n        verifyToken();\r\n    }, [verifyToken]);\r\n\r\n    if (checking) {\r\n        return <h1>Espere...</h1>;\r\n    }\r\n\r\n    return (\r\n        <Router>\r\n            <div>\r\n                \r\n                    <CssBaseline />\r\n                    <NavBar />\r\n                        <Switch>\r\n                            <PublicRoute exact path=\"/\" component={LandingPage} isAuthenticated={!checking && !!token} />\r\n                            <PublicRoute exact path=\"/reset-password\" component={ResetPasswordPage} isAuthenticated={!checking && !!token} />\r\n                            <Route exact path=\"/shared-link/:link\" component={SharedLinkPage} />\r\n                            <PrivateRoute exact path=\"/profile/:uid\" component={UserProfile} isAuthenticated={!checking && !!token} />\r\n                            <PrivateRoute exact path=\"/my-designs\" component={MyDesignsPage} isAuthenticated={!checking && !!token} />\r\n                            <PrivateRoute path=\"/my-designs/:urlPath+/\" component={MyDesignsPage} isAuthenticated={!checking && !!token} />\r\n                            <PrivateRoute exact path=\"/shared-with-me\" component={SharedWithMePage} isAuthenticated={!checking && !!token} />\r\n                            <PrivateRoute exact path=\"/public-repository\" component={PublicRepositoryPage} isAuthenticated={!checking && !!token} />\r\n                            <PrivateRoute exact path=\"/users/search\" component={SearchUsersPage} isAuthenticated={!checking && !!token} />\r\n                            <PrivateRoute exact path=\"/designs/:id\" component={DesignPage} isAuthenticated={!checking && !!token} />\r\n                            <PrivateRoute exact path=\"/designs/reader/:id\" component={DesignPageReader} isAuthenticated={!checking && !!token} />\r\n                            <Redirect to=\"/\" />\r\n                        </Switch>\r\n                        <ConfirmationModal />\r\n                    <Footer />\r\n            </div>\r\n        </Router>\r\n    );\r\n};","import 'devextreme/dist/css/dx.common.css';\r\nimport 'devextreme/dist/css/dx.light.css';\r\nimport { QueryClient, QueryClientProvider } from \"react-query\";\r\nimport { AuthProvider } from \"contexts/AuthContext\";\r\nimport { SocketProvider } from \"contexts/SocketContext\";\r\nimport { UiProvider } from \"contexts/ui/UiContext\";\r\nimport { AppRouter } from \"router/AppRouter\";\r\nimport { DesignProvider } from \"contexts/design/DesignContext\";\r\nimport { SharedDocProvider } from \"contexts/SharedDocContext\";\r\nimport { SnackbarProvider } from 'notistack';\r\nimport { Grow } from '@material-ui/core';\r\nimport { UserConfigProvider } from 'contexts/UserConfigContext';\r\n\r\n\r\nconst queryClient = new QueryClient()\r\n\r\nfunction LearningActivityDesigner() {\r\n\r\n    return (\r\n        <QueryClientProvider client={queryClient}>\r\n            <SnackbarProvider maxSnack={3} anchorOrigin={{ vertical: 'bottom', horizontal: 'left', }} TransitionComponent={Grow}>\r\n                <UiProvider>\r\n                    <AuthProvider>\r\n                        <UserConfigProvider>\r\n                            <DesignProvider>\r\n                                <SocketProvider>\r\n                                    <SharedDocProvider>\r\n                                        <AppRouter />\r\n                                    </SharedDocProvider>\r\n                                </SocketProvider>\r\n                            </DesignProvider>\r\n                        </UserConfigProvider>\r\n                    </AuthProvider>\r\n                </UiProvider>\r\n            </SnackbarProvider>\r\n        </QueryClientProvider>\r\n    );\r\n}\r\n\r\nexport default LearningActivityDesigner;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport LearningActivityDesigner from './App';\r\n\r\nReactDOM.render(\r\n    <LearningActivityDesigner />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}