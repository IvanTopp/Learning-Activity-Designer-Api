(this["webpackJsonplearning-activity-designer-app"]=this["webpackJsonplearning-activity-designer-app"]||[]).push([[0],{1007:function(e,t){},1009:function(e,t){},1010:function(e,t){},1015:function(e,t){},1017:function(e,t){},1036:function(e,t){},1048:function(e,t){},1051:function(e,t){},1212:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),i=a.n(r),c=a(45),s=a.n(c),o=(a(400),a(401),a(1338)),l=a(288),d=a(7),u=a.n(d),j=a(18),p=a(10),m="http://dma.uct.cl/api",b=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n,r,i,c,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>2&&void 0!==s[2]?s[2]:"GET",r="".concat(m,"/").concat(t),"GET"!==n){e.next=11;break}return e.next=5,fetch(r);case 5:return i=e.sent,e.next=8,i.json();case 8:return e.abrupt("return",e.sent);case 11:return e.next=13,fetch(r,{method:n,headers:{"Content-type":"application/json"},body:JSON.stringify(a)});case 13:return c=e.sent,e.next=16,c.json();case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n,r,i,c,s,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>2&&void 0!==o[2]?o[2]:"GET",r="".concat(m,"/").concat(t),i=localStorage.getItem("token")||"","GET"!==n){e.next=12;break}return e.next=6,fetch(r,{method:n,headers:{"x-token":i}});case 6:return c=e.sent,e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 12:return e.next=14,fetch(r,{method:n,headers:{"Content-type":"application/json","x-token":i},body:JSON.stringify(a)});case 14:return s=e.sent,e.next=17,s.json();case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n,r,i,c,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:"POST",r="".concat(m,"/").concat(t),i=localStorage.getItem("token")||"",e.next=5,fetch(r,{method:n,headers:{"x-token":i},body:a});case 5:return c=e.sent,e.next=8,c.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=Object(r.createContext)();function x(){var e=Object(r.useContext)(h);if(void 0===e)throw new Error("useAuthState must be used within a AuthProvider");return e}var O={checking:!0,user:null,token:null},v=function(e){var t=e.children,a=Object(r.useState)(O),i=Object(p.a)(a,2),c=i[0],s=i[1],o=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n,r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("auth/login",{email:t,password:a},"POST");case 2:return(n=e.sent).ok&&(r=n.data,i=r.user,c=r.token,s({user:i,token:c,checking:!1})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),l=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("auth/register",t,"POST");case 2:return(a=e.sent).ok&&(n=a.data,r=n.user,i=n.token,s({user:r,token:i,checking:!1})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=Object(r.useCallback)(Object(j.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("token")){e.next=4;break}return s({user:null,token:null,checking:!1}),e.abrupt("return",!1);case 4:return e.next=6,f("auth/renew");case 6:if(!(t=e.sent).ok){e.next=14;break}return a=t.data,n=a.user,r=a.token,localStorage.setItem("token",r),s({user:n,token:r,checking:!1}),e.abrupt("return",!0);case 14:return s({user:null,token:null,checking:!1}),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)}))),[]);return Object(r.useEffect)((function(){null===c.token?localStorage.removeItem("token"):localStorage.setItem("token",c.token)}),[c.token]),Object(n.jsx)(h.Provider,{value:{authState:c,login:o,register:l,logout:function(){s({checking:!1,user:null,token:null})},verifyToken:d,setAuthState:s},children:t})},y=a(598),w=a(36),k=void 0,S=Object(r.createContext)(),C=function(){var e=Object(r.useContext)(S);if(void 0===e)throw new Error("useSocketState must be used within a SocketProvider");return e},T=function(e){var t=e.children,a=x().authState,i=function(e){var t=Object(r.useState)(null),a=Object(p.a)(t,2),n=a[0],i=a[1],c=Object(r.useState)(!1),s=Object(p.a)(c,2),o=s[0],l=s[1],d=x().authState,u=Object(r.useCallback)((function(){var t=d.token,a=y.io.connect(e,{transports:["websocket"],autoConnect:!0,forceNew:!0,query:{"x-token":t}});i(a)}),[e,d.token]),j=Object(r.useCallback)((function(){null===n||void 0===n||n.disconnect()}),[n]);return Object(r.useEffect)((function(){l(null===n||void 0===n?void 0:n.connected)}),[n]),Object(r.useEffect)((function(){null===n||void 0===n||n.on("connect",(function(){return l(!0)})),null===n||void 0===n||n.on("disconnect",(function(){return l(!1)}))}),[n]),{socket:n,online:o,connectSocket:u,disconnectSocket:j}}("http://dma.uct.cl"),c=i.socket,s=i.online,o=i.connectSocket,l=i.disconnectSocket,d=Object(w.b)(),u=d.enqueueSnackbar,j=d.closeSnackbar,m=Object(r.useRef)(null);Object(r.useEffect)((function(){a.checking||!a.user||s?null!==m.current&&(j(m.current),m.current=null):null===m.current&&(m.current=u("Se ha perdido la conexi\xf3n. Intentando reconectar...",{variant:"warning",persist:!0}))}),[s,m,j,u,a.checking,a.user]),Object(r.useEffect)((function(){!!a.token&&o()}),[a.token,o]),Object(r.useEffect)((function(){!!a.token||l()}),[a.token,l]);var b=Object(r.useCallback)((function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e4,n=!1,r=setTimeout((function(){n||(n=!0,t&&t())}),a);return function(){if(!n){n=!0,clearTimeout(r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];e&&e.apply(k,a)}}}),[]);return Object(n.jsx)(S.Provider,{value:{socket:c,online:s,emitWithTimeout:b},children:t})},N=a(16),E=a(4),D={ui:{openModal:"[UI] open modal",closeModal:"[UI] close modal",updateFolderPath:"[UI] update folder path",toggleConfirmAction:"[UI] confirm action",setFolder:"[UI] set folder data",setConfirmData:"[UI] set confirm data",setPDF:"[UI] set pdf",setResourceLink:"[UI] set resource link",setEvaluation:"[UI] set evaluation",setPDFConfig:"[UI] set pdf config",setUserSaveDesign:"[UI] set user save design",setHistoryInCheckSaveDesign:"[UI] set history check save design",setScrollToNewActivity:"[UI] set scroll to new activity",setScrollToNewTask:"[UI] set scroll to new task",setReorderTasksModalState:"[UI] set reorder task modal state"},design:{updateDesign:"[DESIGN] toggle login modal",changeMetadataField:"[DESIGN] change metadata field",changeTaskField:"[DESIGN] change task field",setCurrentLearningResultField:"[DESIGN] set learning result field",clearCurrentLearningResult:"[DESIGN] clear current learning result",setCurrentLearningResult:"[DESIGN] set current learning result",setBloomCategories:"[DESIGN] set bloom categories",setBloomVerbs:"[DESIGN] set bloom verbs",setDesignPrivileges:"[DESIGN] set design privileges",addDesignKeyword:"[DESIGN] add design keyword",removeDesignKeyword:"[DESIGN] remove design keyword",updateReadOnlyLink:"[DESIGN] change read only link",setAssessments:"[DESIGN] set assessments",setScoreMean:"[DESIGN] set score mean",commentDesign:"[DESIGN] add a commentary",deleteComment:"[DESIGN] delete a commentary",setConnectedUsers:"[DESIGN] set connected users",reorderActivities:"[DESIGN] reorder activities",reorderTasks:"[DESIGN] reorder tasks"}},A=function(e,t){switch(t.type){case D.ui.openModal:return Object(E.a)(Object(E.a)({},e),{},Object(N.a)({},"is"+t.payload+"ModalOpen",!0));case D.ui.closeModal:return Object(E.a)(Object(E.a)({},e),{},Object(N.a)({},"is"+t.payload+"ModalOpen",!1));case D.ui.updateFolderPath:return e.folderPath!==t.payload?Object(E.a)(Object(E.a)({},e),{},{folderPath:t.payload}):e;case D.ui.toggleWitchOpenModal:return Object(E.a)(Object(E.a)({},e),{},{setWitchOpenModal:!e.setWitchOpenModal});case D.ui.setFolder:return Object(E.a)(Object(E.a)({},e),{},{folder:t.payload});case D.ui.setConfirmData:return Object(E.a)(Object(E.a)({},e),{},{confirmModalData:t.payload});case D.ui.setPDF:return Object(E.a)(Object(E.a)({},e),{},{pdf:Object(E.a)(Object(E.a)({},e.pdf),{},{typeUserPDF:t.payload})});case D.ui.setResourceLink:return Object(E.a)(Object(E.a)({},e),{},{resourceLink:t.payload});case D.ui.setEvaluation:return Object(E.a)(Object(E.a)({},e),{},{evaluationData:t.payload});case D.ui.setPDFConfig:return Object(E.a)(Object(E.a)({},e),{},{pdf:Object(E.a)(Object(E.a)({},e.pdf),{},Object(N.a)({},t.payload.field,t.payload.value))});case D.ui.setUserSaveDesign:return Object(E.a)(Object(E.a)({},e),{},{userSaveDesign:t.payload});case D.ui.setHistoryInCheckSaveDesign:return Object(E.a)(Object(E.a)({},e),{},{historyData:t.payload});case D.ui.setScrollToNewActivity:return Object(E.a)(Object(E.a)({},e),{},{newActivity:t.payload});case D.ui.setScrollToNewTask:return Object(E.a)(Object(E.a)({},e),{},{newTask:t.payload});case D.ui.setReorderTasksModalState:return Object(E.a)(Object(E.a)({},e),{},{reorderTaskModalState:t.payload});default:return e}},I=Object(r.createContext)();function R(){var e=Object(r.useContext)(I);if(void 0===e)throw new Error("useUiState must be used within a UiProvider");return e}var P={folderPath:"/",isLoginModalOpen:!1,isRegisterModalOpen:!1,isLearningResultModalOpen:!1,isEditProfileModalOpen:!1,isContactsModalOpen:!1,isConfirmationModalOpen:!1,isShareModalOpen:!1,setWichOpenModal:!1,isFolderModalOpen:!1,isPDFModalOpen:!1,isResourceModalOpen:!1,isEvaluationModalOpen:!1,isImportDesignsModalOpen:!1,isCheckSaveDesignModalOpen:!1,userSaveDesign:!0,isAssessmentModalOpen:!1,isReorderActivitiesModalOpen:!1,isReorderTasksModalOpen:!1,reorderTaskModalState:{learningActivityId:null,tasks:[]},folder:{_id:null,name:""},confirmModalData:{type:null,args:null,actionMutation:null},pdf:{typeUserPDF:null},resourceLink:{learningActivityIndex:null,taskIndex:null},evaluationData:{learningActivityIndex:null},historyData:{url:null},newActivity:!1,newTask:!1},M=function(e){var t=e.children,a=Object(r.useReducer)(A,P),i=Object(p.a)(a,2),c=i[0],s=i[1];return Object(n.jsx)(I.Provider,{value:{uiState:c,dispatch:s},children:t})},L=a(63),B=a(50),F=a(1254),z=a(87),H=a(1255),W=a(1331),Z=a(115),U=a(1214),G=a(1342),q=a(304),Q=a.p+"static/media/PyramidBloomLight.0d61d6f5.png",V=a.p+"static/media/PyramidBloomDark.c7b5a28f.png",K=a.p+"static/media/Design.80faa6c6.png";function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Y=r.createElement("ellipse",{cx:567,cy:537,rx:70,ry:5.33898,fill:"#e6e6e6"}),_=r.createElement("ellipse",{cx:226,cy:537,rx:70,ry:5.33898,fill:"#e6e6e6"}),$=r.createElement("path",{d:"M814.77448,650.83051h-476a7.5082,7.5082,0,0,1-7.5-7.5v-457a7.5082,7.5082,0,0,1,7.5-7.5h476a7.5082,7.5082,0,0,1,7.5,7.5v457A7.5082,7.5082,0,0,1,814.77448,650.83051Zm-476-469a4.50492,4.50492,0,0,0-4.5,4.5v457a4.50493,4.50493,0,0,0,4.5,4.5h476a4.50492,4.50492,0,0,0,4.5-4.5v-457a4.50491,4.50491,0,0,0-4.5-4.5Z",transform:"translate(-278.27448 -178.83051)",fill:"#e6e6e6"}),ee=r.createElement("path",{d:"M366.27448,218.83051a3.00328,3.00328,0,0,0-3,3v124a3.00328,3.00328,0,0,0,3,3h124a3.00328,3.00328,0,0,0,3-3v-124a3.00328,3.00328,0,0,0-3-3Z",transform:"translate(-278.27448 -178.83051)",fill:"#e6e6e6"}),te=r.createElement("path",{id:"b9d15c13-74bb-46fd-a6fd-5a7002be597d","data-name":"Path 40",d:"M561.31441,308.581a3.625,3.625,0,0,0,0,7.249h170.878a3.625,3.625,0,1,0,.119-7.249q-.05951-.001-.119,0Z",transform:"translate(-278.27448 -178.83051)",fill:"#e6e6e6"}),ae=r.createElement("path",{id:"fb98932a-aea9-43a1-946e-96a095a0002f","data-name":"Path 40",d:"M561.31441,275.581a3.625,3.625,0,0,0,0,7.249h48.878a3.625,3.625,0,1,0,.119-7.249q-.05951-.001-.119,0Z",transform:"translate(-278.27448 -178.83051)",fill:"#e6e6e6"}),ne=r.createElement("path",{id:"a8382d7c-76a2-4f66-b41d-b5784413a475","data-name":"Path 40",d:"M561.31441,342.581a3.625,3.625,0,0,0,0,7.249h170.878a3.625,3.625,0,0,0,.119-7.249q-.05951-.001-.119,0Z",transform:"translate(-278.27448 -178.83051)",fill:"#e6e6e6"}),re=r.createElement("path",{id:"a69b3c31-ebec-4776-89b9-9c88b713759e","data-name":"Path 78",d:"M764.58325,473.54293h-234.838c-4.578,0-8.288-2.643-8.293-5.9v-51.042c.005-3.257,3.715-5.9,8.293-5.9h234.838c4.578,0,8.288,2.643,8.293,5.9v51.041C772.87226,470.899,769.16126,473.53893,764.58325,473.54293Z",transform:"translate(-278.27448 -178.83051)",fill:"#e6e6e6"}),ie=r.createElement("path",{id:"ac481be8-039b-4a38-bb10-2d9a81406e5c","data-name":"Path 78",d:"M605.58325,597.54293h-234.838c-4.578,0-8.288-2.643-8.293-5.9v-51.042c.005-3.257,3.715-5.9,8.293-5.9h234.838c4.578,0,8.288,2.643,8.293,5.9v51.041C613.87226,594.899,610.16126,597.53893,605.58325,597.54293Z",transform:"translate(-278.27448 -178.83051)",fill:"#e6e6e6"}),ce=r.createElement("path",{id:"e05581d0-cd6a-412e-af3c-57495fab8d46","data-name":"Path 78",d:"M534.74073,625.661h-234.838c-4.578,0-8.288-2.643-8.293-5.9V568.719c.005-3.257,3.715-5.9,8.293-5.9h234.838c4.578,0,8.288,2.643,8.293,5.9V619.76C543.02974,623.017,539.31874,625.657,534.74073,625.661Zm-234.838-60.484c-2.747,0-4.973,1.586-4.976,3.54v51.041c0,1.954,2.229,3.538,4.976,3.54h234.838c2.747,0,4.973-1.586,4.976-3.54V568.719c0-1.954-2.229-3.538-4.976-3.54Z",transform:"translate(-278.27448 -178.83051)",fill:"#3f3d56"}),se=r.createElement("circle",{cx:341,cy:288,r:19,fill:"#2196f3"}),oe=r.createElement("circle",{cx:56,cy:415,r:19,fill:"#2196f3"}),le=r.createElement("path",{id:"f4993879-8a0d-4ea4-907e-e549be7081a0","data-name":"Path 40",d:"M660.31441,453.206a3.625,3.625,0,0,0,0,7.249h135.878a3.625,3.625,0,0,0,.119-7.249q-.05951-.001-.119,0Z",transform:"translate(-278.27448 -178.83051)",fill:"#3f3d56"}),de=r.createElement("path",{id:"a649136c-96b9-48c7-9686-75389104c34a","data-name":"Path 40",d:"M660.31441,473.206a3.625,3.625,0,0,0,0,7.249h135.878a3.625,3.625,0,0,0,.119-7.249q-.05951-.001-.119,0Z",transform:"translate(-278.27448 -178.83051)",fill:"#3f3d56"}),ue=r.createElement("path",{id:"bf4cb793-0df2-4753-9628-c376ea3545d1","data-name":"Path 40",d:"M375.31441,580.206a3.625,3.625,0,0,0,0,7.249h135.878a3.625,3.625,0,0,0,.119-7.249q-.05951-.001-.119,0Z",transform:"translate(-278.27448 -178.83051)",fill:"#3f3d56"}),je=r.createElement("path",{id:"bf2170fd-291c-4664-b596-01f8e04656d6","data-name":"Path 40",d:"M375.31441,600.206a3.625,3.625,0,0,0,0,7.249h135.878a3.625,3.625,0,0,0,.119-7.249q-.05951-.001-.119,0Z",transform:"translate(-278.27448 -178.83051)",fill:"#3f3d56"}),pe=r.createElement("circle",{cx:568.97297,cy:475.93056,r:43.06733,fill:"#2f2e41"}),me=r.createElement("rect",{x:575.51484,y:509.73025,width:13.08374,height:23.44171,fill:"#2f2e41"}),be=r.createElement("rect",{x:549.34736,y:509.73025,width:13.08374,height:23.44171,fill:"#2f2e41"}),fe=r.createElement("ellipse",{cx:577.6955,cy:533.44455,rx:10.90314,ry:4.08868,fill:"#2f2e41"}),ge=r.createElement("ellipse",{cx:551.52796,cy:532.89938,rx:10.90314,ry:4.08868,fill:"#2f2e41"}),he=r.createElement("circle",{cx:567.88264,cy:465.02746,r:14.71922,fill:"#fff"}),xe=r.createElement("circle",{cx:567.88264,cy:465.02746,r:4.90642,fill:"#3f3d56"}),Oe=r.createElement("path",{d:"M889.02425,614.70972c3.47747-15.57379-7.63868-31.31043-24.82862-35.14881s-33.94421,5.67511-37.42169,21.24891,7.91492,21.31768,25.10486,25.156S885.54671,630.28357,889.02425,614.70972Z",transform:"translate(-278.27448 -178.83051)",fill:"#2196f3"}),ve=r.createElement("path",{d:"M388.58448,368.79047a42.8306,42.8306,0,0,1-4.43,19.04c-.33.68-.68,1.34-1.05,2h-75.17c-.37-.66-.72-1.32-1.05-2a43.07126,43.07126,0,1,1,81.7-19.04Z",transform:"translate(-278.27448 -178.83051)",fill:"#2f2e41"}),ye=r.createElement("circle",{cx:68.33625,cy:179.05228,r:14.71922,fill:"#fff"}),we=r.createElement("circle",{cx:68.33625,cy:179.05228,r:4.90642,fill:"#3f3d56"}),ke=r.createElement("path",{d:"M303.74361,328.73454c-3.47748-15.57379,7.63867-31.31043,24.82861-35.14881s33.94422,5.67511,37.42169,21.24891-7.91491,21.31768-25.10485,25.156S307.22115,344.30839,303.74361,328.73454Z",transform:"translate(-278.27448 -178.83051)",fill:"#2196f3"}),Se=r.createElement("path",{d:"M407.27448,255.83051h-124a5.00181,5.00181,0,0,0-5,5v124a5.00181,5.00181,0,0,0,5,5h124a5.00181,5.00181,0,0,0,5-5v-124A5.00181,5.00181,0,0,0,407.27448,255.83051Zm3,129a3.00883,3.00883,0,0,1-3,3h-124a3.00883,3.00883,0,0,1-3-3v-124a3.00879,3.00879,0,0,1,3-3h124a3.00878,3.00878,0,0,1,3,3Z",transform:"translate(-278.27448 -178.83051)",fill:"#3f3d56"}),Ce=r.createElement("ellipse",{cx:537.06537,cy:622.23907,rx:21.53369,ry:6.76007,transform:"translate(-514.18629 722.92057) rotate(-69.08217)",fill:"#2f2e41"}),Te=r.createElement("circle",{cx:497.2582,cy:654.76108,r:43.06735,transform:"translate(-506.97468 861.88678) rotate(-80.78252)",fill:"#2f2e41"}),Ne=r.createElement("rect",{x:199.35811,y:509.73025,width:13.08374,height:23.44171,fill:"#2f2e41"}),Ee=r.createElement("rect",{x:225.52559,y:509.73025,width:13.08374,height:23.44171,fill:"#2f2e41"}),De=r.createElement("ellipse",{cx:210.26125,cy:533.44455,rx:10.90314,ry:4.08868,fill:"#2f2e41"}),Ae=r.createElement("ellipse",{cx:236.42873,cy:532.89941,rx:10.90314,ry:4.08868,fill:"#2f2e41"}),Ie=r.createElement("path",{d:"M455.48148,614.70969c-3.47748-15.57379,7.63867-31.31046,24.82861-35.14884s33.94421,5.67508,37.42169,21.24887-7.91492,21.31766-25.10486,25.156S458.959,630.28351,455.48148,614.70969Z",transform:"translate(-278.27448 -178.83051)",fill:"#2196f3"}),Re=r.createElement("ellipse",{cx:448.75004,cy:634.77768,rx:6.76007,ry:21.53368,transform:"translate(-595.36631 589.38455) rotate(-64.62574)",fill:"#2f2e41"}),Pe=r.createElement("circle",{cx:581.96808,cy:344.64255,r:42.01233,fill:"#2f2e41"}),Me=r.createElement("rect",{x:866.8304,y:556.38495,width:12.76324,height:22.86749,transform:"translate(-280.90454 -174.76527) rotate(-0.26634)",fill:"#2f2e41"}),Le=r.createElement("rect",{x:841.30427,y:556.50355,width:12.76324,height:22.86749,transform:"translate(-280.90537 -174.88393) rotate(-0.26634)",fill:"#2f2e41"}),Be=r.createElement("ellipse",{cx:845.09117,cy:581.77645,rx:10.63602,ry:3.98853,transform:"translate(-456.30877 326.41344) rotate(-30.26634)",fill:"#2f2e41"}),Fe=r.createElement("ellipse",{cx:870.08559,cy:581.66024,rx:10.63605,ry:3.98853,transform:"translate(-452.84325 338.99529) rotate(-30.26634)",fill:"#2f2e41"}),ze=r.createElement("circle",{cx:580.85505,cy:334.01157,r:14.35864,fill:"#fff"}),He=r.createElement("circle",{cx:575.93651,cy:327.91867,r:4.78622,fill:"#3f3d56"}),We=r.createElement("path",{d:"M900.81388,484.21377c3.32162-15.20789-7.5934-30.50849-24.37949-34.17481s-33.08659,5.68993-36.40825,20.89782,7.81762,20.75932,24.60367,24.4257S897.49225,499.42167,900.81388,484.21377Z",transform:"translate(-278.27448 -178.83051)",fill:"#2196f3"}),Ze=r.createElement("ellipse",{cx:816.3671,cy:502.20254,rx:6.59448,ry:21.00616,transform:"translate(-242.24392 879.91271) rotate(-67.09517)",fill:"#2f2e41"}),Ue=r.createElement("ellipse",{cx:902.20392,cy:537.02192,rx:6.59448,ry:21.00616,transform:"translate(-221.88888 980.24914) rotate(-67.09517)",fill:"#2f2e41"}),Ge=r.createElement("path",{d:"M868.73264,541.781a9.57243,9.57243,0,1,1-19.14455.10779l-.0001-.01879c-.02458-5.28665,4.256-6.40152,9.54268-6.42606S868.70809,536.49432,868.73264,541.781Z",transform:"translate(-278.27448 -178.83051)",fill:"#fff"}),qe=r.createElement("path",{id:"acccf4df-3a09-4c7b-a8c8-af469fe66e6d","data-name":"Path 78",d:"M825.67774,498.49559h-234.838c-4.578,0-8.288-2.643-8.293-5.9v-51.042c.005-3.257,3.715-5.9,8.293-5.9h234.838c4.578,0,8.288,2.643,8.293,5.9v51.041C833.96674,495.85161,830.25575,498.4916,825.67774,498.49559Zm-234.838-60.484c-2.747,0-4.973,1.586-4.976,3.54v51.041c0,1.954,2.229,3.538,4.976,3.54h234.838c2.747,0,4.973-1.586,4.976-3.54v-51.039c0-1.954-2.229-3.538-4.976-3.54Z",transform:"translate(-278.27448 -178.83051)",fill:"#3f3d56"});function Qe(e,t){var a=e.title,n=e.titleId,i=X(e,["title","titleId"]);return r.createElement("svg",J({id:"ae636c83-9a69-4d8f-8683-8786b472330f","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",width:643.45103,height:542.33898,viewBox:"0 0 643.45103 542.33898",ref:t,"aria-labelledby":n},i),a?r.createElement("title",{id:n},a):null,Y,_,$,ee,te,ae,ne,re,ie,ce,se,oe,le,de,ue,je,pe,me,be,fe,ge,he,xe,Oe,ve,ye,we,ke,Se,Ce,Te,Ne,Ee,De,Ae,Ie,Re,Pe,Me,Le,Be,Fe,ze,He,We,Ze,Ue,Ge,qe)}var Ve=r.forwardRef(Qe);a.p;function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Je(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Xe=r.createElement("path",{d:"M319.61433,712.67961A141.78089,141.78089,0,0,1,213.56155,573.28569c.1219-7.912.95378-15.99006,4.27976-23.1701s9.50394-13.39013,17.23186-15.09142c8.43389-1.8567,17.33349,1.93874,23.61873,7.861s10.40636,13.736,14.198,21.495c22.83782,46.734,40.18948,96.87978,46.6859,148.48823Z",transform:"translate(-213.54528 -184.27953)",fill:"#f2f2f2"}),Ye=r.createElement("path",{d:"M231.247,536.58343,247.253,572.95049l16.006,36.36706c5.06915,11.51754,10.12863,23.04012,15.36814,34.48152,5.1935,11.34091,10.56495,22.6034,16.29525,33.684,5.72218,11.06486,11.80377,21.94912,18.40506,32.51522q1.23309,1.9737,2.49042,3.93206c.58008.90425,2.03014.06547,1.44595-.84519-6.72793-10.48763-12.92723-21.30541-18.74161-32.32388-5.82064-11.03036-11.2609-22.25747-16.50019-33.57425-5.26729-11.37725-10.332-22.84667-15.38326-34.321q-7.97541-18.11688-15.948-36.235l-16.00605-36.36706-1.99187-4.52568c-.43316-.98418-1.87645-.133-1.44595.84519Z",transform:"translate(-213.54528 -184.27953)",fill:"#fff"}),_e=r.createElement("path",{d:"M312.93738,712.93239a82.96676,82.96676,0,0,1-92.692-43.74066c-2.07267-4.14071-3.82153-8.55926-4.03308-13.1849s1.31945-9.51764,4.87237-12.48717c3.87749-3.2408,9.52264-3.67283,14.38463-2.29486s9.111,4.32217,13.17418,7.32689c24.47345,18.09816,47.01962,39.44868,64.3248,64.48912Z",transform:"translate(-213.54528 -184.27953)",fill:"#f2f2f2"}),$e=r.createElement("path",{d:"M219.51916,645.36213,237.647,659.92225l18.12782,14.56013c5.74112,4.61123,11.47858,9.22769,17.2876,13.75339,5.758,4.486,11.58722,8.88316,17.55363,13.089,5.958,4.19991,12.05376,8.209,18.33349,11.91267q1.173.69183,2.35449,1.36914c.54528.31287,1.07169-.51407.52254-.82916-6.32429-3.62871-12.46326-7.57153-18.45656-11.72247-5.99977-4.15542-11.85515-8.51568-17.63042-12.97675-5.80611-4.4849-11.53195-9.07235-17.25211-13.666q-9.03158-7.25292-18.062-14.50724L222.29761,646.3449,220.0417,644.533c-.49058-.394-1.0101.43755-.52254.82916Z",transform:"translate(-213.54528 -184.27953)",fill:"#fff"}),et=r.createElement("path",{d:"M979.45472,184.27953h-487a7.00778,7.00778,0,0,0-7,7v330a7.00779,7.00779,0,0,0,7,7h487a7.00778,7.00778,0,0,0,7-7v-330A7.00778,7.00778,0,0,0,979.45472,184.27953Zm5,337a5.002,5.002,0,0,1-5,5h-487a5.002,5.002,0,0,1-5-5v-330a5.002,5.002,0,0,1,5-5h487a5.002,5.002,0,0,1,5,5Z",transform:"translate(-213.54528 -184.27953)",fill:"#3f3d56"}),tt=r.createElement("rect",{x:272.90945,y:28.03998,width:499,height:2,fill:"#3f3d56"}),at=r.createElement("circle",{cx:289.90945,cy:15,r:6,fill:"#3f3d56"}),nt=r.createElement("circle",{cx:307.15945,cy:15,r:6,fill:"#3f3d56"}),rt=r.createElement("circle",{cx:324.40945,cy:15,r:6,fill:"#3f3d56"}),it=r.createElement("path",{d:"M608.32283,258.77953h-84a7,7,0,1,1,0-14h84a7,7,0,0,1,0,14Z",transform:"translate(-213.54528 -184.27953)",fill:"#ccc"}),ct=r.createElement("path",{d:"M723.32283,292.77953h-199a7,7,0,0,1,0-14h199a7,7,0,0,1,0,14Z",transform:"translate(-213.54528 -184.27953)",fill:"#ccc"}),st=r.createElement("path",{d:"M787.54267,306.30254a91.00351,91.00351,0,0,0,75.04394,142.477v-79.44Z",transform:"translate(-213.54528 -184.27953)",fill:"#2196f3"}),ot=r.createElement("path",{d:"M862.58661,266.77953a90.896,90.896,0,0,0-75.04394,39.523l75.04394,63.037Z",transform:"translate(-213.54528 -184.27953)",fill:"#ccc"}),lt=r.createElement("path",{d:"M862.58661,449.77953h-1v-184h1a92,92,0,1,1,0,184Zm1-181.99463V447.77416a90.00019,90.00019,0,0,0,0-179.98926Z",transform:"translate(-213.54528 -184.27953)",fill:"#3f3d56"}),dt=r.createElement("path",{d:"M582.32283,487.27953h-17a4.50508,4.50508,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h17a4.50507,4.50507,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,582.32283,487.27953Z",transform:"translate(-213.54528 -184.27953)",fill:"#ccc"}),ut=r.createElement("path",{d:"M632.32283,487.27953h-17a4.50508,4.50508,0,0,1-4.5-4.5v-72a4.50508,4.50508,0,0,1,4.5-4.5h17a4.50507,4.50507,0,0,1,4.5,4.5v72A4.50508,4.50508,0,0,1,632.32283,487.27953Z",transform:"translate(-213.54528 -184.27953)",fill:"#ff6584"}),jt=r.createElement("path",{d:"M682.32283,487.27953h-17a4.50508,4.50508,0,0,1-4.5-4.5v-92a4.50508,4.50508,0,0,1,4.5-4.5h17a4.50507,4.50507,0,0,1,4.5,4.5v92A4.50508,4.50508,0,0,1,682.32283,487.27953Z",transform:"translate(-213.54528 -184.27953)",fill:"#2196f3"}),pt=r.createElement("path",{d:"M582.32283,487.77953h-17a5.00573,5.00573,0,0,1-5-5v-110a5.00573,5.00573,0,0,1,5-5h17a5.00573,5.00573,0,0,1,5,5v110A5.00573,5.00573,0,0,1,582.32283,487.77953Zm-17-118a3.00328,3.00328,0,0,0-3,3v110a3.00329,3.00329,0,0,0,3,3h17a3.00328,3.00328,0,0,0,3-3v-110a3.00328,3.00328,0,0,0-3-3Z",transform:"translate(-213.54528 -184.27953)",fill:"#3f3d56"}),mt=r.createElement("path",{d:"M632.32283,487.77953h-17a5.00573,5.00573,0,0,1-5-5v-110a5.00573,5.00573,0,0,1,5-5h17a5.00573,5.00573,0,0,1,5,5v110A5.00573,5.00573,0,0,1,632.32283,487.77953Zm-17-118a3.00328,3.00328,0,0,0-3,3v110a3.00329,3.00329,0,0,0,3,3h17a3.00328,3.00328,0,0,0,3-3v-110a3.00328,3.00328,0,0,0-3-3Z",transform:"translate(-213.54528 -184.27953)",fill:"#3f3d56"}),bt=r.createElement("path",{d:"M682.32283,487.77953h-17a5.00573,5.00573,0,0,1-5-5v-110a5.00573,5.00573,0,0,1,5-5h17a5.00573,5.00573,0,0,1,5,5v110A5.00573,5.00573,0,0,1,682.32283,487.77953Zm-17-118a3.00328,3.00328,0,0,0-3,3v110a3.00329,3.00329,0,0,0,3,3h17a3.00328,3.00328,0,0,0,3-3v-110a3.00328,3.00328,0,0,0-3-3Z",transform:"translate(-213.54528 -184.27953)",fill:"#3f3d56"}),ft=r.createElement("path",{d:"M325.97669,543.28208A10.05577,10.05577,0,0,0,317.19187,530.61L308.592,495.92535l-12.58652,13.65332,10.09618,30.84389a10.11028,10.11028,0,0,0,19.875,2.85952Z",transform:"translate(-213.54528 -184.27953)",fill:"#ffb8b8"}),gt=r.createElement("path",{d:"M302.92,532.61453a4.50494,4.50494,0,0,1-2.5174-2.66936L286.04644,485.767a46.37348,46.37348,0,0,1,.76364-32.63527l13.83846-34.35489a14.49652,14.49652,0,1,1,28.5985,4.76667l-19.09249,55.55769,6.683,45.23868a4.51467,4.51467,0,0,1-2.5399,4.50394l-7.70875,3.67825a4.50568,4.50568,0,0,1-2.65851.38041A4.45465,4.45465,0,0,1,302.92,532.61453Z",transform:"translate(-213.54528 -184.27953)",fill:"#2f2e41"}),ht=r.createElement("polygon",{points:"160.343 518.443 172.603 518.442 178.435 471.154 160.341 471.155 160.343 518.443",fill:"#ffb8b8"}),xt=r.createElement("path",{d:"M371.26153,699.21893h38.53073a0,0,0,0,1,0,0V714.1058a0,0,0,0,1,0,0H386.14839a14.88686,14.88686,0,0,1-14.88686-14.88686v0A0,0,0,0,1,371.26153,699.21893Z",transform:"translate(567.54077 1229.02737) rotate(179.99738)",fill:"#2f2e41"}),Ot=r.createElement("polygon",{points:"99.343 518.443 111.603 518.442 117.435 471.154 99.341 471.155 99.343 518.443",fill:"#ffb8b8"}),vt=r.createElement("path",{d:"M310.26153,699.21893h38.53073a0,0,0,0,1,0,0V714.1058a0,0,0,0,1,0,0H325.14839a14.88686,14.88686,0,0,1-14.88686-14.88686v0A0,0,0,0,1,310.26153,699.21893Z",transform:"translate(445.54077 1229.03015) rotate(179.99738)",fill:"#2f2e41"}),yt=r.createElement("path",{d:"M377.23949,509.99078l10.77686,85.38587q2.22236,17.60784,3.10973,35.34585l2.90343,58.06853a4,4,0,0,1-3.995,4.19975H373.67817a4,4,0,0,1-3.95471-3.39973l-14.71008-96.91351a2,2,0,0,0-3.94338-.06694l-17.72158,94.91672a4,4,0,0,1-3.62623,3.18424l-15.05405.95518a4,4,0,0,1-4.28995-4.11428l4.8613-155.56168Z",transform:"translate(-213.54528 -184.27953)",fill:"#2f2e41"}),wt=r.createElement("circle",{cx:115.94619,cy:179.53015,r:24.56103,fill:"#ffb8b8"}),kt=r.createElement("path",{d:"M310.23949,533.99078c6,14,32,24,38,4,4.64014-15.46,23.02-21.96,31.12989-24.11a4.01608,4.01608,0,0,0,2.86035-4.86005l-22.67041-89.05a31.272,31.272,0,0,0-21.06006-22.16c-18.01953-5.58-37.01953,5.91-40.06983,24.52a137.15658,137.15658,0,0,0-1.58984,15.76C294.95922,477.3808,306.2893,524.77075,310.23949,533.99078Z",transform:"translate(-213.54528 -184.27953)",fill:"#2196f3"}),St=r.createElement("path",{d:"M391.62938,533.96509a10.05577,10.05577,0,0,0-12.75277-8.66732l-20.49275-29.275-6.83741,17.2651L372.055,538.441a10.11027,10.11027,0,0,0,19.57442-4.47588Z",transform:"translate(-213.54528 -184.27953)",fill:"#ffb8b8"}),Ct=r.createElement("path",{d:"M366.27921,532.29853a4.505,4.505,0,0,1-3.30867-1.586l-29.27686-36.06483a46.37356,46.37356,0,0,1-11.01848-30.72844l.56429-37.033a14.49652,14.49652,0,1,1,28.40042-5.832l2.15442,58.70723,22.49784,39.81265a4.51467,4.51467,0,0,1-.75115,5.1159l-5.87132,6.20338a4.50564,4.50564,0,0,1-2.34406,1.31062A4.4548,4.4548,0,0,1,366.27921,532.29853Z",transform:"translate(-213.54528 -184.27953)",fill:"#2f2e41"}),Tt=r.createElement("path",{d:"M310.849,383.89889a4.00709,4.00709,0,0,0,5.90278-2.36826l.01371-.0559c.44576-1.86412.0756-3.81068-.05232-5.72308s.05925-4.01327,1.36174-5.41937c2.428-2.62114,6.74756-1.23165,10.25844-1.8944a8.66429,8.66429,0,0,0,6.74007-9.25291c-.05-.3975-.12841-.79545-.21633-1.19315a6.67288,6.67288,0,0,1,6.92675-8.0813c3.5481.20288,7.378,1.2779,10.31357-1.35011a7.60777,7.60777,0,0,0,1.82654-8.20134c-1.67623-4.8383-6.4137-7.37124-11.10186-8.76367a40.62025,40.62025,0,0,0-34.43036,5.64955c-2.96118,2.08724-5.72662,4.70983-6.98873,8.10575s-.65322,7.6803,2.19278,9.92206a18.332,18.332,0,0,0-4.24619,17.80643C300.7553,377.60865,307.46406,381.95122,310.849,383.89889Z",transform:"translate(-213.54528 -184.27953)",fill:"#2f2e41"}),Nt=r.createElement("path",{d:"M489.65157,715.72047h-265a1,1,0,0,1,0-2h265a1,1,0,0,1,0,2Z",transform:"translate(-213.54528 -184.27953)",fill:"#3f3d56"});function Et(e,t){var a=e.title,n=e.titleId,i=Je(e,["title","titleId"]);return r.createElement("svg",Ke({id:"ed352ff4-7a14-4498-84af-0dc7b5b1bcd0","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",width:772.90945,height:531.44094,viewBox:"0 0 772.90945 531.44094",ref:t,"aria-labelledby":n},i),a?r.createElement("title",{id:n},a):null,Xe,Ye,_e,$e,et,tt,at,nt,rt,it,ct,st,ot,lt,dt,ut,jt,pt,mt,bt,ft,gt,ht,xt,Ot,vt,yt,wt,kt,St,Ct,Tt,Nt)}var Dt=r.forwardRef(Et);a.p;function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function It(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Rt=r.createElement("path",{d:"M265.36558,212.82328a4.77608,4.77608,0,0,0-4.78143,4.75948l-1.17461,510.43858a4.77609,4.77609,0,0,0,4.75948,4.78144l411.21267.94627a4.77609,4.77609,0,0,0,4.78143-4.75948L681.33773,218.551a4.77608,4.77608,0,0,0-4.75947-4.78143Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),Pt=r.createElement("path",{d:"M280.59565,228.12384a4.77609,4.77609,0,0,0-4.78143,4.75948L274.70987,712.791a4.77607,4.77607,0,0,0,4.75947,4.78143l380.68224.876A4.77608,4.77608,0,0,0,664.933,713.689l1.10435-479.90768a4.77608,4.77608,0,0,0-4.75947-4.78143Z",transform:"translate(-226.3946 -164.99667)",fill:"#fff"}),Mt=r.createElement("path",{d:"M610.71032,436.51861l-280.5027-.64549a7.1557,7.1557,0,1,1,.03293-14.31136l280.5027.64549a7.1557,7.1557,0,0,1-.03293,14.31136Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),Lt=r.createElement("path",{d:"M613.42553,303.19l-186.094-.42824c-2.62183-.006-4.73992-3.21467-4.73083-7.1666s2.14193-7.15079,4.76376-7.14476l186.094.42824c2.62214.006,4.73992,3.21467,4.73083,7.1666S616.04766,303.196,613.42553,303.19Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),Bt=r.createElement("path",{d:"M613.33112,344.21586l-186.094-.42823c-2.62183-.006-4.73992-3.21468-4.73083-7.16661s2.14194-7.15079,4.76377-7.14475l186.094.42823c2.62214.006,4.73992,3.21468,4.73083,7.16661S615.95326,344.2219,613.33112,344.21586Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),Ft=r.createElement("path",{d:"M610.60383,482.792l-280.5027-.64548a7.1557,7.1557,0,0,1,.03293-14.31136l280.50271.64548a7.1557,7.1557,0,0,1-.03294,14.31136Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),zt=r.createElement("path",{d:"M610.49735,529.06542l-280.5027-.64549a7.1557,7.1557,0,1,1,.03293-14.31136l280.5027.64549a7.1557,7.1557,0,1,1-.03293,14.31136Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),Ht=r.createElement("path",{d:"M610.39087,575.33882l-280.5027-.64548a7.1557,7.1557,0,1,1,.03293-14.31137l280.5027.64549a7.1557,7.1557,0,0,1-.03293,14.31136Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),Wt=r.createElement("path",{d:"M610.28438,621.61223l-280.5027-.64549a7.1557,7.1557,0,0,1,.03294-14.31136l280.5027.64549a7.1557,7.1557,0,0,1-.03294,14.31136Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),Zt=r.createElement("path",{d:"M610.1779,667.88563l-280.5027-.64548a7.1557,7.1557,0,1,1,.03293-14.31137l280.5027.64549a7.1557,7.1557,0,1,1-.03293,14.31136Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),Ut=r.createElement("circle",{cx:134.61891,cy:151.44683,r:37.68669,fill:"#2196f3"}),Gt=r.createElement("path",{d:"M418.80659,436.077",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),qt=r.createElement("path",{d:"M577.07913,305.34939,577.078,216.1827a50.44769,50.44769,0,0,0-100.86823-2.21847h11.1029a39.39479,39.39479,0,0,1,39.30744-37.86834c.19183,0,.38636.00162.57819.00433a39.41934,39.41934,0,0,1,38.783,40.00228V305.396c.00217.22759.00217.45464,0,.6611a26.425,26.425,0,0,1-26.38749,26.07428q-.16255,0-.32513-.00163a26.43823,26.43823,0,0,1-26.07157-26.77656l.06069-88.56629a13.29569,13.29569,0,0,1,26.58636-.08724V284.333a5.54887,5.54887,0,1,0,11.09775,0l-.00109-67.72116a24.39255,24.39255,0,0,0-48.78022.084L502.1,305.28219a37.53446,37.53446,0,0,0,37.03439,37.94421c.155.00217.3067.00271.46168.00271a37.54415,37.54415,0,0,0,37.48307-37.05769C577.08129,305.88206,577.08129,305.59215,577.07913,305.34939Z",transform:"translate(-226.3946 -164.99667)",fill:"#2196f3"}),Qt=r.createElement("rect",{y:567.89688,width:557.10645,height:2,fill:"#3f3d56"}),Vt=r.createElement("path",{d:"M800.12184,288.40018h77.631V249.7941a39.602,39.602,0,0,0-11.36971-27.8762,38.26248,38.26248,0,0,0-27.44843-11.54915c-21.21455,0-38.25757,16.86463-38.801,38.39412-.00592.35357-.01184.68939-.01184,1.03123Z",transform:"translate(-226.3946 -164.99667)",fill:"#2f2e41"}),Kt=r.createElement("path",{d:"M784.451,498.49329h0A11.60485,11.60485,0,0,0,797.343,485.104l-2.94954-18.025H779.84555l-5.05167,16.50211A11.60486,11.60486,0,0,0,784.451,498.49329Z",transform:"translate(-226.3946 -164.99667)",fill:"#ffb9b9"}),Jt=r.createElement("path",{d:"M962.60386,713.48452l-17.27566,2.12157-89.106-186.69838L805.91058,715.60609l-18.18491-5.45547,16.97258-299.4448,80.01359-4.24315C915.06871,442.40185,938.91346,597.22064,962.60386,713.48452Z",transform:"translate(-226.3946 -164.99667)",fill:"#2f2e41"}),Xt=r.createElement("path",{d:"M796.15182,735.00333H759.90536a6.50031,6.50031,0,0,1-6.49468-6.22971h0a6.50032,6.50032,0,0,1,3.389-5.981l20.84769-11.33822,12.8449-3.42531c5.65461,6.47991,11.063,6.5137,16.2702,1.28449l1.70785,11.38568A12.45633,12.45633,0,0,1,796.15182,735.00333Z",transform:"translate(-226.3946 -164.99667)",fill:"#2f2e41"}),Yt=r.createElement("path",{d:"M951.93585,735.00333H915.6894a6.50031,6.50031,0,0,1-6.49468-6.22971h0a6.50033,6.50033,0,0,1,3.389-5.981l20.84769-11.33822,12.8449-3.42531c5.65461,6.47991,11.063,6.5137,16.2702,1.28449l1.70785,11.38568A12.45633,12.45633,0,0,1,951.93585,735.00333Z",transform:"translate(-226.3946 -164.99667)",fill:"#2f2e41"}),_t=r.createElement("path",{d:"M774.99624,471.32217l22.42805-1.21232,13.94176-161.84568L800.81357,309.847a17.85719,17.85719,0,0,0-15.11409,15.82837Z",transform:"translate(-226.3946 -164.99667)",fill:"#2196f3"}),$t=r.createElement("circle",{cx:606.79334,cy:84.46963,r:29.70202,fill:"#ffb9b9"}),ea=r.createElement("path",{d:"M868.95159,300.384c-22.47578,65.62229-42.23825,70.2055-60.61636,43.64378,1.61856-19.7939,8.18861-35.83038,20.0034-47.88692,6.86063-4.70291,2.81061-13.63866-2.42465-23.03422l28.48969-9.69861C855.21546,275.37965,860.45768,287.7394,868.95159,300.384Z",transform:"translate(-226.3946 -164.99667)",fill:"#ffb9b9"}),ta=r.createElement("path",{d:"M886.22725,409.19041c-32.54311,22.46717-61.81581,26.61988-81.22592,5.45547-6.78693-28.09813-8.18824-57.55542-4.89388-86.6668A31.09786,31.09786,0,0,1,814.06,305.4386l14.2786-9.2977,6.97088,22.125,26.97428-29.39893,20.3794,2.45958a15.044,15.044,0,0,1,13.15129,16.57973Z",transform:"translate(-226.3946 -164.99667)",fill:"#2196f3"}),aa=r.createElement("path",{d:"M866.44207,227.02612l-7.377,23.47067-63.78052-1.13352a39.42711,39.42711,0,0,1,71.15756-22.33715Z",transform:"translate(-226.3946 -164.99667)",fill:"#2f2e41"}),na=r.createElement("path",{d:"M879.09818,473.26794a1.08511,1.08511,0,0,0-1.08632,1.08134L877.745,590.31889a1.08511,1.08511,0,0,0,1.08134,1.08632l93.42588.215a1.08509,1.08509,0,0,0,1.08632-1.08133l.26687-115.96961a1.08512,1.08512,0,0,0-1.08134-1.08633Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),ra=r.createElement("path",{d:"M882.55839,476.74417a1.08512,1.08512,0,0,0-1.08632,1.08134l-.2509,109.03311a1.0851,1.0851,0,0,0,1.08133,1.08632l86.48949.199a1.08512,1.08512,0,0,0,1.08632-1.08134l.2509-109.03311a1.08509,1.08509,0,0,0-1.08133-1.08632Z",transform:"translate(-226.3946 -164.99667)",fill:"#fff"}),ia=r.createElement("path",{d:"M957.55913,524.09063,893.83,523.944a1.62574,1.62574,0,1,1,.00749-3.25148l63.72909.14665a1.62574,1.62574,0,1,1-.00748,3.25148Z",transform:"translate(-226.3946 -164.99667)",fill:"#2196f3"}),ca=r.createElement("path",{d:"M958.176,493.79889l-42.27982-.09729c-.59567-.00137-1.07689-.73036-1.07482-1.62822s.48664-1.62463,1.08231-1.62326l42.27982.09729c.59574.00137,1.07689.73036,1.07482,1.62822S958.77175,493.80026,958.176,493.79889Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),sa=r.createElement("path",{d:"M958.15456,503.11982l-42.27982-.0973c-.59567-.00137-1.07689-.73036-1.07482-1.62822s.48664-1.62463,1.08231-1.62326l42.27982.09729c.59574.00137,1.07689.73036,1.07482,1.62823S958.7503,503.12119,958.15456,503.11982Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),oa=r.createElement("path",{d:"M957.53494,534.60376l-63.7291-.14665a1.62574,1.62574,0,0,1,.00748-3.25148l63.7291.14665a1.62574,1.62574,0,0,1-.00748,3.25148Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),la=r.createElement("path",{d:"M957.51074,545.1169l-63.72909-.14665a1.62575,1.62575,0,0,1,.00748-3.25149l63.7291.14665a1.62575,1.62575,0,0,1-.00749,3.25149Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),da=r.createElement("path",{d:"M957.48655,555.63l-63.72909-.14665a1.62575,1.62575,0,1,1,.00748-3.25149l63.72909.14666a1.62574,1.62574,0,1,1-.00748,3.25148Z",transform:"translate(-226.3946 -164.99667)",fill:"#2196f3"}),ua=r.createElement("path",{d:"M957.46236,566.14316l-63.7291-.14665a1.62574,1.62574,0,1,1,.00749-3.25148l63.72909.14665a1.62574,1.62574,0,1,1-.00748,3.25148Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),ja=r.createElement("path",{d:"M957.43817,576.6563l-63.7291-.14666a1.62574,1.62574,0,0,1,.00748-3.25148l63.7291.14665a1.62575,1.62575,0,0,1-.00748,3.25149Z",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),pa=r.createElement("circle",{cx:674.43441,cy:331.81338,r:8.56227,fill:"#2196f3"}),ma=r.createElement("path",{d:"M913.95937,523.9903",transform:"translate(-226.3946 -164.99667)",fill:"#e6e6e6"}),ba=r.createElement("path",{d:"M910.41453,481.52071h0a11.60485,11.60485,0,0,1-12.89194-13.38929l2.94954-18.025H915.02l5.05167,16.50211A11.60486,11.60486,0,0,1,910.41453,481.52071Z",transform:"translate(-226.3946 -164.99667)",fill:"#ffb9b9"}),fa=r.createElement("path",{d:"M919.86933,454.34959l-22.428-1.21232L883.49952,291.29159l10.55248,1.58287a17.85718,17.85718,0,0,1,15.11409,15.82837Z",transform:"translate(-226.3946 -164.99667)",fill:"#2196f3"});function ga(e,t){var a=e.title,n=e.titleId,i=It(e,["title","titleId"]);return r.createElement("svg",At({id:"becd4ed6-983c-4267-a9ef-ba1a19b5a08b","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",width:747.2108,height:570.00666,viewBox:"0 0 747.2108 570.00666",ref:t,"aria-labelledby":n},i),a?r.createElement("title",{id:n},a):null,Rt,Pt,Mt,Lt,Bt,Ft,zt,Ht,Wt,Zt,Ut,Gt,qt,Qt,Vt,Kt,Jt,Xt,Yt,_t,$t,ea,ta,aa,na,ra,ia,ca,sa,oa,la,da,ua,ja,pa,ma,ba,fa)}var ha=r.forwardRef(ga);a.p;function xa(){return(xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Oa(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var va=r.createElement("circle",{cx:233.08818,cy:328.45705,r:18.40881,fill:"#f2f2f2"}),ya=r.createElement("circle",{cx:170.08818,cy:540.45705,r:11.40881,fill:"#f2f2f2"}),wa=r.createElement("rect",{x:379.997,y:21.5,width:140,height:2,fill:"#f2f2f2"}),ka=r.createElement("rect",{x:417.997,y:3.5,width:2,height:18.5,fill:"#f2f2f2"}),Sa=r.createElement("rect",{x:478.997,y:3.5,width:2,height:18.5,fill:"#f2f2f2"}),Ca=r.createElement("rect",{x:605.997,y:505.5,width:140,height:2,fill:"#f2f2f2"}),Ta=r.createElement("rect",{x:643.997,y:487.5,width:2,height:18.5,fill:"#f2f2f2"}),Na=r.createElement("rect",{x:704.997,y:487.5,width:2,height:18.5,fill:"#f2f2f2"}),Ea=r.createElement("rect",{x:612.997,y:200.5,width:140,height:2,fill:"#f2f2f2"}),Da=r.createElement("rect",{x:650.997,y:182.5,width:2,height:18.5,fill:"#f2f2f2"}),Aa=r.createElement("rect",{x:711.997,y:182.5,width:2,height:18.5,fill:"#f2f2f2"}),Ia=r.createElement("rect",{x:612.997,y:128.5,width:140,height:2,fill:"#f2f2f2"}),Ra=r.createElement("rect",{x:650.997,y:110.5,width:2,height:18.5,fill:"#f2f2f2"}),Pa=r.createElement("rect",{x:711.997,y:110.5,width:2,height:18.5,fill:"#f2f2f2"}),Ma=r.createElement("rect",{x:305.997,y:138.5,width:140,height:2,fill:"#f2f2f2"}),La=r.createElement("rect",{x:343.997,y:120.5,width:2,height:18.5,fill:"#f2f2f2"}),Ba=r.createElement("rect",{x:404.997,y:120.5,width:2,height:18.5,fill:"#f2f2f2"}),Fa=r.createElement("rect",{x:203.997,y:91.5,width:140,height:2,fill:"#f2f2f2"}),za=r.createElement("rect",{x:241.997,y:73.5,width:2,height:18.5,fill:"#f2f2f2"}),Ha=r.createElement("rect",{x:302.997,y:73.5,width:2,height:18.5,fill:"#f2f2f2"}),Wa=r.createElement("rect",{x:140.997,y:276.5,width:140,height:2,fill:"#f2f2f2"}),Za=r.createElement("rect",{x:178.997,y:258.5,width:2,height:18.5,fill:"#f2f2f2"}),Ua=r.createElement("rect",{x:239.997,y:258.5,width:2,height:18.5,fill:"#f2f2f2"}),Ga=r.createElement("rect",{x:70.997,y:480.5,width:140,height:2,fill:"#f2f2f2"}),qa=r.createElement("rect",{x:108.997,y:462.5,width:2,height:18.5,fill:"#f2f2f2"}),Qa=r.createElement("rect",{x:169.997,y:462.5,width:2,height:18.5,fill:"#f2f2f2"}),Va=r.createElement("rect",{x:732.997,y:396.5,width:140,height:2,fill:"#f2f2f2"}),Ka=r.createElement("rect",{x:770.997,y:378.5,width:2,height:18.5,fill:"#f2f2f2"}),Ja=r.createElement("rect",{x:831.997,y:378.5,width:2,height:18.5,fill:"#f2f2f2"}),Xa=r.createElement("rect",{x:691.997,y:268.5,width:140,height:2,fill:"#f2f2f2"}),Ya=r.createElement("rect",{x:791.997,y:270,width:2,height:18.5,fill:"#f2f2f2"}),_a=r.createElement("rect",{x:730.997,y:270,width:2,height:18.5,fill:"#f2f2f2"}),$a=r.createElement("rect",{x:13.997,y:118.5,width:140,height:2,fill:"#f2f2f2"}),en=r.createElement("rect",{x:113.997,y:120,width:2,height:18.5,fill:"#f2f2f2"}),tn=r.createElement("rect",{x:52.997,y:120,width:2,height:18.5,fill:"#f2f2f2"}),an=r.createElement("rect",{x:22.997,y:380.5,width:140,height:2,fill:"#f2f2f2"}),nn=r.createElement("rect",{x:122.997,y:382,width:2,height:18.5,fill:"#f2f2f2"}),rn=r.createElement("rect",{x:61.997,y:382,width:2,height:18.5,fill:"#f2f2f2"}),cn=r.createElement("rect",{x:463.997,y:53.5,width:140,height:2,fill:"#f2f2f2"}),sn=r.createElement("rect",{x:563.997,y:55,width:2,height:18.5,fill:"#f2f2f2"}),on=r.createElement("rect",{x:502.997,y:55,width:2,height:18.5,fill:"#f2f2f2"}),ln=r.createElement("rect",{x:70.997,y:192.5,width:140,height:2,fill:"#f2f2f2"}),dn=r.createElement("rect",{x:108.997,y:174.5,width:2,height:18.5,fill:"#f2f2f2"}),un=r.createElement("rect",{x:169.997,y:174.5,width:2,height:18.5,fill:"#f2f2f2"}),jn=r.createElement("path",{d:"M370.7485,300.40779v471h436v-471Zm218,34a15,15,0,1,1,15-15A15,15,0,0,1,588.7485,334.40779Z",transform:"translate(-137.2515 -127.40779)",fill:"#3f3d56"}),pn=r.createElement("path",{d:"M174.50646,731.20512c6.914,25.55824,30.59593,41.38709,30.59593,41.38709s12.47217-25.60922,5.55819-51.16745-30.59593-41.38709-30.59593-41.38709S167.59248,705.64689,174.50646,731.20512Z",transform:"translate(-137.2515 -127.40779)",fill:"#3f3d56"}),mn=r.createElement("path",{d:"M184.66607,725.71239c18.97207,18.46854,21.28937,46.859,21.28937,46.859s-28.4425-1.553-47.41457-20.02152-21.28937-46.859-21.28937-46.859S165.694,707.24384,184.66607,725.71239Z",transform:"translate(-137.2515 -127.40779)",fill:"#2196f3"}),bn=r.createElement("rect",{x:16.497,y:643,width:909,height:2,fill:"#3f3d56"}),fn=r.createElement("path",{d:"M329.2485,708.74592a22.03138,22.03138,0,0,0-14.03113-20.5,22,22,0,1,0-15.93774,0,21.99119,21.99119,0,0,0,0,41,22,22,0,1,0,15.93774,0A22.03137,22.03137,0,0,0,329.2485,708.74592Zm-42-41a20,20,0,1,1,24.51294,19.46735,22.02316,22.02316,0,0,0-9.02588,0A20.02094,20.02094,0,0,1,287.2485,667.74592Zm40,82a20,20,0,1,1-24.51294-19.46734,22.02362,22.02362,0,0,0,9.02588,0A20.02093,20.02093,0,0,1,327.2485,749.74592Zm-15.48706-21.53265a22.02316,22.02316,0,0,0-9.02588,0,19.97883,19.97883,0,0,1,0-38.93469,22.02362,22.02362,0,0,0,9.02588,0,19.97883,19.97883,0,0,1,0,38.93469Z",transform:"translate(-137.2515 -127.40779)",fill:"#3f3d56"}),gn=r.createElement("path",{d:"M648.2485,398.90779h-229a7,7,0,1,1,0-14h229a7,7,0,0,1,0,14Z",transform:"translate(-137.2515 -127.40779)",fill:"#f2f2f2"}),hn=r.createElement("path",{d:"M648.2485,470.90779h-229a7,7,0,1,1,0-14h229a7,7,0,0,1,0,14Z",transform:"translate(-137.2515 -127.40779)",fill:"#f2f2f2"}),xn=r.createElement("path",{d:"M648.2485,542.90779h-229a7,7,0,1,1,0-14h229a7,7,0,0,1,0,14Z",transform:"translate(-137.2515 -127.40779)",fill:"#f2f2f2"}),On=r.createElement("path",{d:"M648.2485,614.90779h-229a7,7,0,1,1,0-14h229a7,7,0,0,1,0,14Z",transform:"translate(-137.2515 -127.40779)",fill:"#f2f2f2"}),vn=r.createElement("path",{d:"M648.2485,686.90779h-229a7,7,0,1,1,0-14h229a7,7,0,0,1,0,14Z",transform:"translate(-137.2515 -127.40779)",fill:"#f2f2f2"}),yn=r.createElement("path",{d:"M608.2485,398.90779h-190a7,7,0,1,1,0-14h190a7,7,0,0,1,0,14Z",transform:"translate(-137.2515 -127.40779)",fill:"#2196f3"}),wn=r.createElement("path",{d:"M549.2485,470.90779h-131a7,7,0,1,1,0-14h131a7,7,0,0,1,0,14Z",transform:"translate(-137.2515 -127.40779)",fill:"#2196f3"}),kn=r.createElement("path",{d:"M477.2485,542.90779h-59a7,7,0,1,1,0-14h59a7,7,0,0,1,0,14Z",transform:"translate(-137.2515 -127.40779)",fill:"#2196f3"}),Sn=r.createElement("path",{d:"M626.2485,614.90779h-208a7,7,0,1,1,0-14h208a7,7,0,0,1,0,14Z",transform:"translate(-137.2515 -127.40779)",fill:"#2196f3"}),Cn=r.createElement("path",{d:"M580.2485,686.90779h-162a7,7,0,1,1,0-14h162a7,7,0,0,1,0,14Z",transform:"translate(-137.2515 -127.40779)",fill:"#2196f3"}),Tn=r.createElement("rect",{x:603.997,y:257.5,width:2,height:14,fill:"#6c63ff"}),Nn=r.createElement("path",{d:"M758.2485,399.90779a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,758.2485,399.90779Zm0-14a6,6,0,1,0,6,6A6.00655,6.00655,0,0,0,758.2485,385.90779Z",transform:"translate(-137.2515 -127.40779)",fill:"#6c63ff"}),En=r.createElement("rect",{x:603.997,y:329.5,width:2,height:14,fill:"#6c63ff"}),Dn=r.createElement("path",{d:"M758.2485,471.90779a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,758.2485,471.90779Zm0-14a6,6,0,1,0,6,6A6.00655,6.00655,0,0,0,758.2485,457.90779Z",transform:"translate(-137.2515 -127.40779)",fill:"#6c63ff"}),An=r.createElement("rect",{x:603.997,y:401.5,width:2,height:14,fill:"#6c63ff"}),In=r.createElement("path",{d:"M758.2485,543.90779a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,758.2485,543.90779Zm0-14a6,6,0,1,0,6,6A6.00655,6.00655,0,0,0,758.2485,529.90779Z",transform:"translate(-137.2515 -127.40779)",fill:"#6c63ff"}),Rn=r.createElement("rect",{x:603.997,y:473.5,width:2,height:14,fill:"#6c63ff"}),Pn=r.createElement("path",{d:"M758.2485,615.90779a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,758.2485,615.90779Zm0-14a6,6,0,1,0,6,6A6.00655,6.00655,0,0,0,758.2485,601.90779Z",transform:"translate(-137.2515 -127.40779)",fill:"#6c63ff"}),Mn=r.createElement("rect",{x:603.997,y:545.5,width:2,height:14,fill:"#6c63ff"}),Ln=r.createElement("path",{d:"M758.2485,687.90779a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,758.2485,687.90779Zm0-14a6,6,0,1,0,6,6A6.00655,6.00655,0,0,0,758.2485,673.90779Z",transform:"translate(-137.2515 -127.40779)",fill:"#6c63ff"}),Bn=r.createElement("circle",{cx:620.997,cy:264.5,r:4,fill:"#2196f3"}),Fn=r.createElement("circle",{cx:620.997,cy:480.5,r:4,fill:"#2196f3"}),zn=r.createElement("circle",{cx:620.997,cy:552.5,r:4,fill:"#2196f3"}),Hn=r.createElement("circle",{cx:451.497,cy:192,r:7,fill:"#3f3d56"}),Wn=r.createElement("circle",{cx:451.497,cy:7,r:7,fill:"#3f3d56"}),Zn=r.createElement("rect",{x:450.49703,y:6.99993,width:2,height:185,fill:"#3f3d56"}),Un=r.createElement("path",{d:"M993.86505,511.88678v24.77488s5.96432,39.91507,5.96432,74.78342S990.1947,727.52,990.1947,727.52s-19.26935,6.88191-20.64573-3.67035-5.04673-66.52513-5.04673-74.78342-16.05779-71.11306-16.05779-71.11306L938.351,647.6898s3.21156,82.58291,0,84.87688-18.81055,6.42312-20.64573,2.294-11.46985-92.67638-11.46985-92.67638-7.79949-115.61608-3.21156-122.498,8.71709-12.38744,8.71709-12.38744S977.34847,491.24106,993.86505,511.88678Z",transform:"translate(-137.2515 -127.40779)",fill:"#2f2e41"}),Gn=r.createElement("path",{d:"M987.90073,724.76719l1.15058,7.47874a73.664,73.664,0,0,1,.752,7.699c.17894,3.75694.80419,9.54528,2.94523,10.46287,3.21156,1.37638,24.05625,18.95588,9.37484,19.87347s-22.02612,2.50283-26.37484-.87347c-5.14118-3.99157.68238-2.18432-1.61159-2.18432s-5.04673,0-5.96432-3.67035,1.37638-10.09347,1.37638-10.09347V724.76719Z",transform:"translate(-137.2515 -127.40779)",fill:"#2f2e41"}),qn=r.createElement("path",{d:"M919.39674,724.40779l-1.15058,7.47874a73.6637,73.6637,0,0,0-.752,7.699c-.17894,3.75694-.80419,9.54528-2.94523,10.46286-3.21156,1.37639-24.05625,18.95589-9.37484,19.87348s22.02612,2.50283,26.37484-.87348c5.14118-3.99156-.68238-2.18431,1.61159-2.18431s5.04673,0,5.96432-3.67035-1.37638-10.09347-1.37638-10.09347V724.40779Z",transform:"translate(-137.2515 -127.40779)",fill:"#2f2e41"}),Qn=r.createElement("path",{d:"M932.38666,312.7702s7.7995,19.26935,13.305,22.48091,2.75277,17.893,2.75277,17.893l-13.76382,19.26935H923.66957l-13.305-22.9397s-.91759-15.1402-3.67035-18.81055S932.38666,312.7702,932.38666,312.7702Z",transform:"translate(-137.2515 -127.40779)",fill:"#ffb9b9"}),Vn=r.createElement("path",{d:"M932.38666,312.7702s7.7995,19.26935,13.305,22.48091,2.75277,17.893,2.75277,17.893l-13.76382,19.26935H923.66957l-13.305-22.9397s-.91759-15.1402-3.67035-18.81055S932.38666,312.7702,932.38666,312.7702Z",transform:"translate(-137.2515 -127.40779)",opacity:.1}),Kn=r.createElement("path",{d:"M943.85651,352.22648l20.64573,4.58794,15.1402,152.3196s-8.25829,1.37638-16.51659,12.38744-18.35175,9.17588-23.39849,6.42311-25.23367-10.55226-25.69246-13.76382.91759-59.64321.91759-59.64321L902.10626,366.4491l6.42311-9.63468h11.46985l9.17588,7.7995Z",transform:"translate(-137.2515 -127.40779)",fill:"#2196f3"}),Jn=r.createElement("circle",{cx:775.40702,cy:185.36242,r:23.85729,fill:"#ffb9b9"}),Xn=r.createElement("path",{d:"M947.06807,344.427s44.96181,4.58793,49.091,14.22261-2.75276,52.30251-2.75276,52.30251,16.51658,37.16231,16.05779,45.8794,15.599,68.3603-1.83518,61.47839-11.92864-24.77487-20.64573-11.92864-12.38744,11.011-12.38744,11.011-8.71708,14.22262-11.46985,12.84623-4.58793-11.92864,1.37639-16.97537,5.04673-13.76382-6.42312-30.28041S934.68063,379.75412,941.56254,366.4491,947.06807,344.427,947.06807,344.427Z",transform:"translate(-137.2515 -127.40779)",fill:"#575a89"}),Yn=r.createElement("polygon",{points:"856.614 393.196 848.814 400.537 839.179 394.114 843.309 384.479 856.614 393.196",fill:"#ffb9b9"}),_n=r.createElement("path",{d:"M914.0349,352.22648s-34.86834,12.84623-34.86834,26.61005,21.10452,73.86583,21.10452,73.86583,0,15.599-.91759,19.26935-15.35289,35.68266-2.75276,38.53869c7.865,1.78274,14.32706,6.466,14.9108,13.07554.6932,7.84884-5.31545,17.75542-4.81733,19.49883.91758,3.21156,6.42311,7.7995,5.96432,5.50553s3.67035-35.32713,10.09347-50.00854-2.75277-113.32211-4.58794-126.16834A141.98834,141.98834,0,0,0,914.0349,352.22648Z",transform:"translate(-137.2515 -127.40779)",fill:"#575a89"}),$n=r.createElement("polygon",{points:"758.432 392.278 766.69 412.007 772.884 399.39 765.772 383.561 758.432 392.278",fill:"#ffb9b9"}),er=r.createElement("path",{d:"M939.53568,327.55077s7.53239,3.1124,12.12033,3.1124,23.39849,9.63467,16.97537,15.599-16.05779,7.3407-20.64573,16.05779-6.88191,10.09347-6.88191,10.09347L932.93558,361.441s11.37972-12.88488,10.92093-17.014S939.53568,327.55077,939.53568,327.55077Z",transform:"translate(-137.2515 -127.40779)",fill:"#2196f3"}),tr=r.createElement("path",{d:"M909.1255,338.58183s-5.64286,2.1748-7.01924,5.84516-10.09347,10.55226-6.42312,12.38743,19.72814,9.17588,22.9397,10.55226,9.19676-3.90494,9.19676-3.90494-8.04978-4.58274-8.04978-7.7943S909.1255,338.58183,909.1255,338.58183Z",transform:"translate(-137.2515 -127.40779)",fill:"#2196f3"}),ar=r.createElement("path",{d:"M890.17761,372.41342l-11.011,2.75276s-15.1402,67.90151-10.55226,84.87689,26.15125,67.9015,26.15125,67.9015l13.76382-16.05779s-6.00381-36.5151-9.425-38.90328-1.12724-7.43491-1.12724-8.81129,1.37638-.45879-1.83517-3.67035,11.92864-21.10452,7.79949-26.15126S890.17761,372.41342,890.17761,372.41342Z",transform:"translate(-137.2515 -127.40779)",fill:"#575a89"}),nr=r.createElement("path",{d:"M998.68239,385.03025,992.02988,360.026s17.893,12.84623,21.56331,31.65678,17.893,56.43166,8.71709,72.94825-25.23367,64.23115-30.7392,63.31356-18.81055-12.38743-19.26935-14.22261,23.85729-44.04422,20.18694-47.25578-2.75276-11.46985,0-13.305,5.96432-10.55226,3.67035-10.09347-9.17588-4.12915-7.7995-9.17588-6.88191-38.99749-6.88191-38.99749Z",transform:"translate(-137.2515 -127.40779)",opacity:.1}),rr=r.createElement("path",{d:"M989.73591,356.81442l6.42311,1.83518s17.893,12.84623,21.56332,31.65678,17.893,56.43166,8.71708,72.94824-25.23367,64.23116-30.73919,63.31357-18.81056-12.38744-19.26935-14.22261,23.85729-44.04422,20.18693-47.25578-2.75276-11.46985,0-13.305,5.96433-10.55226,3.67036-10.09346-9.17588-4.12915-7.7995-9.17588-6.88191-38.99749-6.88191-38.99749Z",transform:"translate(-137.2515 -127.40779)",fill:"#575a89"}),ir=r.createElement("path",{d:"M931.17233,291.23524l4.47461-1.62714s-9.356-9.356-22.373-8.54236l3.66113-3.66107s-8.94922-3.25421-17.08484,5.28815c-4.27673,4.49054-9.225,9.76892-12.30969,15.715h-4.792l2,4-7,4,7.18481-.71851a20.18424,20.18424,0,0,0,.67957,10.35956l1.62707,4.47455s6.50855-13.017,6.50855-14.64411v4.06781s4.47461-3.661,4.47461-6.10168l2.44067,2.84747,1.22034-4.47461,15.0509,4.47461-2.44067-3.661,9.35595,1.22034-3.66113-4.47461s10.5763,5.28814,10.98316,9.76275,5.69482,10.1695,5.69482,10.1695l2.44067-4.06781S942.969,297.33692,931.17233,291.23524Z",transform:"translate(-137.2515 -127.40779)",fill:"#2f2e41"}),cr=r.createElement("ellipse",{cx:792.997,cy:182.5,rx:3.5,ry:5.5,fill:"#ffb9b9"});function sr(e,t){var a=e.title,n=e.titleId,i=Oa(e,["title","titleId"]);return r.createElement("svg",xa({id:"a2942aa7-bf0d-42c0-bc52-bf4c952347c5","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",width:925.497,height:645.18443,viewBox:"0 0 925.497 645.18443",ref:t,"aria-labelledby":n},i),void 0===a?r.createElement("title",{id:n},"\r\n\t\tpercentages\r\n\t"):a?r.createElement("title",{id:n},a):null,va,ya,wa,ka,Sa,Ca,Ta,Na,Ea,Da,Aa,Ia,Ra,Pa,Ma,La,Ba,Fa,za,Ha,Wa,Za,Ua,Ga,qa,Qa,Va,Ka,Ja,Xa,Ya,_a,$a,en,tn,an,nn,rn,cn,sn,on,ln,dn,un,jn,pn,mn,bn,fn,gn,hn,xn,On,vn,yn,wn,kn,Sn,Cn,Tn,Nn,En,Dn,An,In,Rn,Pn,Mn,Ln,Bn,Fn,zn,Hn,Wn,Zn,Un,Gn,qn,Qn,Vn,Kn,Jn,Xn,Yn,_n,$n,er,tr,ar,nr,rr,ir,cr)}var or=r.forwardRef(sr),lr=(a.p,Object(F.a)((function(e){var t,a;return{root:{minHeight:"calc(100vh - 64px)"},landingPage:{paddingLeft:15,paddingRight:15,position:"relative",height:"auto",paddingBottom:e.spacing(2),background:e.palette.background.paper},paper:{background:e.palette.background.navbar},featureList:(t={display:"flex",paddingTop:25,paddingBottom:100,minHeight:"calc(100vh - 64px)",paddingLeft:200,paddingRight:200},Object(N.a)(t,e.breakpoints.down("lg"),{paddingLeft:150,paddingRight:150}),Object(N.a)(t,e.breakpoints.down("md"),{paddingLeft:100,paddingRight:100}),Object(N.a)(t,e.breakpoints.down("sm"),{paddingLeft:50,paddingRight:50}),Object(N.a)(t,e.breakpoints.down("xs"),{paddingLeft:10,paddingRight:10}),t),featureGrid:{padding:10},feature:{padding:e.spacing(4),width:"100%",minHeight:"100%",display:"flex",flexDirection:"column",alignItems:"center",background:e.palette.background.workSpace},featureImage:{width:e.spacing(20),height:e.spacing(20),marginBottom:20},inviteUser:{background:e.palette.background.workSpace,minHeight:"calc(100vh - 50vh)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},inviteUserButton:{marginTop:e.spacing(3)},firstData:Object(N.a)({display:"flex",justifyContent:"center",alignItems:"center"},e.breakpoints.down("md"),{flexDirection:"column-reverse"}),introText:Object(N.a)({marginLeft:100,marginRight:100},e.breakpoints.down("xs"),{marginLeft:20,marginRight:20,marginBottom:50}),phrase:Object(N.a)({marginLeft:100,marginRight:100},e.breakpoints.down("xs"),{marginLeft:20,marginRight:20}),banner:Object(N.a)({display:"flex",justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 64px)",width:"100%",background:e.palette.background.workSpace,padding:e.spacing(5)},e.breakpoints.down("xs"),{padding:20}),bannerItem:Object(N.a)({display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.down("xs"),{alignItems:"flex-end"}),row:{marginTop:e.spacing(2)},sizeIcon:{fontSize:80},firstImgSize:(a={width:e.spacing(65),height:e.spacing(65)},Object(N.a)(a,e.breakpoints.down("md"),{width:e.spacing(40),height:e.spacing(40)}),Object(N.a)(a,e.breakpoints.down("xs"),{width:e.spacing(30),height:e.spacing(30)}),a),marginAutor:Object(N.a)({marginLeft:100,marginRight:100},e.breakpoints.down("xs"),{marginLeft:20,marginRight:20})}}))),dr=function(){var e=Object(z.a)(),t=lr(),a=R().dispatch,r=function(){a({type:D.ui.openModal,payload:"Register"})};return Object(n.jsxs)(H.a,{className:t.root,children:[Object(n.jsxs)(H.a,{container:!0,className:t.banner,children:[Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsxs)(H.a,{container:!0,className:t.firstData,children:[Object(n.jsx)(H.a,{item:!0,xs:12,lg:6,className:t.bannerItem,children:Object(n.jsxs)(W.a,{className:t.introText,children:[Object(n.jsx)(Z.a,{variant:"h3",style:{marginBottom:25},children:"Planifica tus clases mediante dise\xf1os"}),Object(n.jsx)(Z.a,{children:" Nuestra plataforma web te facilita la planificaci\xf3n de tus actividades de ense\xf1anza, de tal manera de lograr y comprobar que los estudiantes utilicen los contenidos aprendidos. "}),Object(n.jsx)(Z.a,{style:{marginTop:10},children:"Tus dise\xf1os estar\xe1n basados en la evaluaci\xf3n, tendr\xe1s apoyo visual de la planificaci\xf3n y ser\xe1n coherentes con un soporte pedag\xf3gico."}),Object(n.jsx)(Z.a,{style:{marginTop:10},children:"Comparte tus dise\xf1os, de tal manera que puedas trabajar en equipo y compartir con la comunidad tus modelos de ense\xf1anza."}),Object(n.jsx)(U.a,{style:{marginTop:50,marginBottom:20},onClick:r,color:"primary",variant:"contained",children:"Comienza a dise\xf1ar"})]})}),Object(n.jsx)(H.a,{item:!0,xs:12,lg:6,className:t.bannerItem,children:Object(n.jsx)(W.a,{display:"flex",justifyContent:"center",children:Object(n.jsx)(G.a,{variant:"square",className:t.firstImgSize,src:K,alt:"Design"})})})]})}),Object(n.jsxs)(H.a,{item:!0,xs:12,children:[Object(n.jsx)(W.a,{display:"flex",justifyContent:"center",children:Object(n.jsx)(Z.a,{variant:"body1",align:"center",className:t.phrase,children:'"No pienses en un curso como un dep\xf3sito de informaci\xf3n. Piensa qu\xe9 necesitan hacer tus estudiantes con la informaci\xf3n una vez que terminen el curso y dis\xe9\xf1alo en torno a eso."'})}),Object(n.jsx)(W.a,{display:"flex",justifyContent:"flex-end",className:t.marginAutor,children:Object(n.jsx)(Z.a,{variant:"caption",className:t.row,children:"~ Matthew Guyan"})})]})]}),Object(n.jsx)(Z.a,{style:{paddingTop:100,paddingBottom:75},align:"center",variant:"h6",children:"\xbfQue utilidades te otorga la plataforma?"}),Object(n.jsxs)(H.a,{container:!0,className:t.featureList,children:[Object(n.jsx)(H.a,{item:!0,xs:12,md:6,lg:4,className:t.featureGrid,children:Object(n.jsxs)(q.a,{className:t.feature,children:["dark"===e.palette.type?Object(n.jsx)(G.a,{variant:"square",className:t.featureImage,src:V,alt:"PyramidBloomDark"}):Object(n.jsx)(G.a,{variant:"square",className:t.featureImage,src:Q,alt:"PyramidBloomLight"}),Object(n.jsx)(Z.a,{align:"center",children:"Tus dise\xf1os se definen en coherencia con la Taxonom\xeda de Bloom. Esto te permitir\xe1 definir los niveles cognitivos esperados para tus estudiantes, y facilitar las labores de evaluaci\xf3n."})]})}),Object(n.jsx)(H.a,{item:!0,xs:12,md:6,lg:4,className:t.featureGrid,children:Object(n.jsxs)(q.a,{className:t.feature,children:[Object(n.jsx)(or,{className:t.featureImage}),Object(n.jsx)(Z.a,{align:"center",children:"Las tareas quedar\xe1n balanceadas acorde al Framework Conversacional. Dise\xf1ar\xe1s tareas de adquisici\xf3n de conocimiento, investigaci\xf3n, discusi\xf3n, colaboraci\xf3n, producci\xf3n y pr\xe1ctica."})]})}),Object(n.jsx)(H.a,{item:!0,xs:12,md:6,lg:4,className:t.featureGrid,children:Object(n.jsxs)(q.a,{className:t.feature,children:[Object(n.jsx)(Dt,{className:t.featureImage}),Object(n.jsx)(Z.a,{align:"center",children:"Planifica las actividades de modo de asignar a los estudiantes una carga acorde a los cr\xe9ditos de la asignatura."})]})}),Object(n.jsx)(H.a,{item:!0,xs:12,md:6,lg:4,className:t.featureGrid,children:Object(n.jsxs)(q.a,{className:t.feature,children:[Object(n.jsx)(ha,{className:t.featureImage}),Object(n.jsx)(Z.a,{align:"center",children:"Tus dise\xf1os se gestar\xe1n desde la evaluaci\xf3n hacia el estudiante. Una evaluaci\xf3n coherente que dar\xe1 origen a las actividades del m\xf3dulo."})]})}),Object(n.jsx)(H.a,{item:!0,xs:12,md:6,lg:4,className:t.featureGrid,children:Object(n.jsxs)(q.a,{className:t.feature,children:[Object(n.jsx)(Ve,{className:t.featureImage}),Object(n.jsx)(Z.a,{align:"center",children:"Puedes compartir tus dise\xf1os con tu equipo de trabajo, as\xed como tambi\xe9n explorar los dise\xf1os de otros usuarios y retroalimentar."})]})})]}),Object(n.jsxs)("div",{className:t.inviteUser,children:[Object(n.jsx)("div",{className:t.inviteUserText,children:Object(n.jsx)(Z.a,{variant:"h5",children:"\xbfEst\xe1s listo para iniciar esta aventura?"})}),Object(n.jsx)("div",{className:t.inviteUserButton,children:Object(n.jsx)(U.a,{onClick:r,color:"primary",variant:"contained",children:"Registrarme"})})]})]})},ur=a(111),jr=function(e){var t=e.isAuthenticated,a=e.component,r=Object(ur.a)(e,["isAuthenticated","component"]);return Object(n.jsx)(B.b,Object(E.a)(Object(E.a)({},r),{},{component:function(e){return t?Object(n.jsx)(B.a,{to:"/my-designs"}):Object(n.jsx)(a,Object(E.a)({},e))}}))},pr=function(e){var t=e.isAuthenticated,a=e.component,r=Object(ur.a)(e,["isAuthenticated","component"]);return localStorage.setItem("lastPath",r.location.pathname),Object(n.jsx)(B.b,Object(E.a)(Object(E.a)({},r),{},{component:function(e){return t?Object(n.jsx)(a,Object(E.a)({},e)):Object(n.jsx)(B.a,{to:"/"})}}))},mr=a(1292),br=a(1274),fr=a(1348),gr=a(1281),hr=a(1343),xr=a(23),Or=a(1265),vr=a(1256),yr=a(1257),wr=a(1258),kr=a(1260),Sr=a(634),Cr=a(1263),Tr=a(1259),Nr=a(1261),Er=a(1262),Dr=function(e,t){var a=e.split(" ")[0],n=t.split(" ")[0];return"".concat(a," ").concat(n)},Ar=function(e,t){return"".concat(e.substring(0,1)+t.substring(0,1))},Ir=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("design/recent");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error(t.message);case 5:return e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rr=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("design/user",{path:t,from:a},"POST");case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Pr=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("design/public/user/",{id:t,from:a},"POST");case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Mr=function(){var e=Object(j.a)(u.a.mark((function e(t,a,n,r){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("design/public-repository",{filter:t,keywords:a,categories:n,from:r},"POST");case 2:if((i=e.sent).ok){e.next=5;break}throw new Error(i.message);case 5:return e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Lr=function(){var e=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("design/shared-with-user/",{from:t},"POST");case 2:if((a=e.sent).ok){e.next=5;break}throw new Error(a.message);case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Br=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.path,n=t.isPublic,r=void 0!==n&&n,e.next=3,f("design",{path:a,isPublic:r},"POST");case 3:if((i=e.sent).ok){e.next=6;break}throw new Error(i.message);case 6:return e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fr=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,f("design/".concat(a),{},"DELETE");case 3:if((n=e.sent).ok){e.next=6;break}throw new Error(n.message);case 6:return e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zr=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.link)&&(!a||0!==a.trim().length)){e.next=3;break}return e.abrupt("return",{design:{}});case 3:return e.next=5,b("design/shared-link/".concat(a),{},"GET");case 5:if((n=e.sent).ok){e.next=8;break}throw new Error(n.message);case 8:return e.abrupt("return",n.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Hr=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,f("design/duplicate",{id:a},"POST");case 3:if((n=e.sent).ok){e.next=6;break}throw new Error(n.message);case 6:return e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wr=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.path,n=t.filename,r=t.design,t.last,e.next=3,f("design/import",{path:a,filename:n,design:r},"POST");case 3:if((i=e.sent).ok){e.next=6;break}throw new Error(i.message);case 6:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zr=Object(F.a)((function(e){return{root:{position:"relative",border:"1px solid ".concat(e.palette.divider),width:325,minWidth:325,borderRadius:5,cursor:"pointer",userSelect:"none",backgroundColor:e.palette.background.design,"&:hover":{boxShadow:"0px 0px 10px 0 ".concat("dark"!==e.palette.type?"#bcc3d6":"#172b3a"),background:e.palette.background.designHover}},ownerInfo:{borderTop:"1px solid ".concat(e.palette.divider),paddingLeft:15,paddingRight:15},row:{display:"flex"},rowJustified:{display:"flex",justifyContent:"space-between"},col:{display:"flex",flexDirection:"column"},ellipsis:{width:200,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},designIcon:{marginLeft:-12,fontSize:50,alignSelf:"center",justifySelf:"start",width:"20%"},deleteIcon:{position:"absolute",top:8,right:8},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),Ur=function(e){var t,a,r,i=e._id,c=e.title,s=e.updatedAt,o=e.metadata,d=e.folder,p=e.owner,m=e.privileges,b=e.canDelete,f=void 0===b||b,g=Object(l.b)(),h=x().authState,O=R().dispatch,v=Object(w.b)().enqueueSnackbar,y=Object(B.g)(),k=Object(hr.a)(Fr,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.cancelQueries("recent-designs");case 2:return e.next=4,g.cancelQueries(["designs",d.path]);case 4:return e.next=6,g.cancelQueries([p._id,"user-public-designs"]);case 6:if(t=g.getQueryData(["designs",d.path]),a=g.getQueryData([p,"user-public-designs"]),n=["designs",d.path],y.location.pathname.includes("/my-designs")||(n=[p._id,"user-public-designs"]),g.setQueryData(n,(function(e){var t=e.pages.find((function(e){return e.designs.find((function(e){return e._id===i}))})),a=t.designs.filter((function(e){return e._id!==i})),n=Object.assign({},Object(E.a)(Object(E.a)({},t),{},{designs:a})),r=e.pages;return r[e.pages.indexOf(t)]=n,Object.assign({},Object(E.a)(Object(E.a)({},e),{},{pages:r}))})),"/"!==d.path){e.next=15;break}return r=g.getQueryData("recent-designs"),g.setQueryData("recent-designs",(function(e){return e.filter((function(e){return e._id!==i}))})),e.abrupt("return",{previousDesigns:t,previousPublicDesigns:a,previousRecentDesigns:r});case 15:return e.abrupt("return",{previousDesigns:t,previousPublicDesigns:a});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(e,t,a){v(e.message,{variant:"error",autoHideDuration:1e4}),g.setQueryData(["designs",d.path],a.previousDesigns),g.setQueryData([p,"user-public-designs"],a.previousPublicDesigns),a.previousRecentDesigns&&g.setQueryData("recent-designs",a.previousRecentDesigns)},onSettled:function(){g.invalidateQueries("recent-designs"),g.invalidateQueries(["designs",d.path]),g.invalidateQueries([p._id,"user-public-designs"])},onSuccess:function(e){v("Su dise\xf1o se ha eliminado.",{variant:"success",autoHideDuration:2e3})}}),S=Zr(),C=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation(),O({type:D.ui.setConfirmData,payload:{type:"dise\xf1o",args:{id:i},actionMutation:k}}),O({type:D.ui.openModal,payload:"Confirmation"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(W.a,{style:{padding:5},children:Object(n.jsxs)(vr.a,{className:S.root,elevation:0,children:[Object(n.jsx)(yr.a,{onClick:function(){m.find((function(e){return h.user.uid===e.user}))?m.find((function(e){return h.user.uid===e.user&&0===e.type}))?y.push("/designs/".concat(i)):y.push("/designs/reader/".concat(i)):o.isPublic?y.push("/designs/reader/".concat(i)):y.push("/")},children:Object(n.jsxs)(wr.a,{children:[Object(n.jsxs)("div",{className:S.row,style:{width:"100%"},children:[Object(n.jsx)(Tr.a,{className:S.designIcon}),Object(n.jsxs)("div",{className:S.col,children:[Object(n.jsx)("div",{className:S.row,children:Object(n.jsx)(kr.a,{title:"".concat(c),arrow:!0,placement:"top",children:Object(n.jsx)(Z.a,{className:S.ellipsis,variant:"h5",component:"h2",children:c})})}),Object(n.jsx)("div",{className:S.row,children:Object(n.jsx)(Z.a,{className:S.ellipsis,variant:"body1",component:"p",children:o.category?o.category.name:"Sin categor\xeda"})})]})]}),Object(n.jsx)("div",{className:S.rowJustified,children:Object(n.jsxs)(Z.a,{variant:"body1",component:"p",children:["Tiempo de dise\xf1o: ","".concat(null!==(t=o.workingTime.hours)&&void 0!==t?t:0,":").concat(null!==(a=o.workingTime.minutes)&&void 0!==a?a:0)," Hrs"]})}),Object(n.jsxs)("div",{className:S.rowJustified,style:{marginTop:10,marginBottom:-5},children:[Object(n.jsxs)(Z.a,{color:"textSecondary",variant:"body2",children:["\xdaltima modificaci\xf3n: ",new Date(s).toLocaleDateString()]}),Object(n.jsxs)("div",{className:S.row,style:{marginRight:4},children:[Object(n.jsx)(Nr.a,{fontSize:"small"}),Object(n.jsxs)(Z.a,{variant:"body2",children:[" ",o.scoreMean]})]})]})]})}),f&&h.user.uid===p._id&&Object(n.jsx)(Sr.a,{className:S.deleteIcon,onClick:C,children:Object(n.jsx)(Er.a,{})}),Object(n.jsx)(yr.a,{component:L.b,to:"/profile/".concat(p._id),children:Object(n.jsxs)(Cr.a,{className:S.ownerInfo,children:[Object(n.jsx)(G.a,{alt:Dr(p.name,p.lastname),src:p.img&&p.img.length>0?"".concat("http://dma.uct.cl/","uploads/users/").concat(p.img):"",children:Ar(p.name,p.lastname)}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Z.a,{color:"textPrimary",children:Dr(p.name,p.lastname)}),Object(n.jsx)(Z.a,{color:"textSecondary",children:null!==(r=p.occupation)&&void 0!==r?r:"Sin ocupaci\xf3n"})]})]})})]})})},Gr=a(1335),qr=a(1264),Qr=Object(F.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"space-between",width:325,minWidth:325,height:198,margin:"10px 10px 10px 0px",borderRadius:10},ownerInfo:{borderTop:"1px solid ".concat(e.palette.divider),paddingLeft:15,paddingRight:15,paddingTop:10},row:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},col:{width:"80%",display:"flex",flexDirection:"column"}}})),Vr=function(){var e=Qr();return Object(n.jsxs)(vr.a,{className:e.root,children:[Object(n.jsxs)(wr.a,{children:[Object(n.jsxs)("div",{className:e.row,children:[Object(n.jsx)(qr.a,{variant:"rect",width:35,height:43}),Object(n.jsxs)("div",{className:e.col,children:[Object(n.jsx)("div",{className:e.row,style:{marginLeft:-5},children:Object(n.jsx)(qr.a,{style:{marginTop:-3},animation:"wave",height:33,width:"80%"})}),Object(n.jsx)("div",{className:e.row,style:{marginLeft:-5},children:Object(n.jsx)(qr.a,{style:{marginTop:-3},animation:"wave",height:23,width:"70%"})})]})]}),Object(n.jsx)("div",{className:e.row,children:Object(n.jsx)(qr.a,{animation:"wave",height:20,width:"70%"})}),Object(n.jsxs)("div",{className:e.row,children:[Object(n.jsxs)("div",{className:e.row,style:{marginTop:14,marginBottom:-5},children:[Object(n.jsx)(qr.a,{animation:"wave",height:20,width:"70%"}),Object(n.jsx)(qr.a,{variant:"circle",width:13,height:13,style:{marginTop:2,marginRight:5}})]}),Object(n.jsx)(qr.a,{animation:"wave",height:20,width:"5%",style:{marginTop:14,marginBottom:-5}})]})]}),Object(n.jsxs)(Cr.a,{className:e.ownerInfo,children:[Object(n.jsx)(qr.a,{variant:"circle",width:40,height:40,style:{marginBottom:3}}),Object(n.jsxs)("div",{className:e.col,style:{marginBottom:3},children:[Object(n.jsx)(qr.a,{animation:"wave",height:20,width:"100%"}),Object(n.jsx)(qr.a,{animation:"wave",height:20,width:"80%"})]})]})]})},Kr=Object(F.a)({root:{display:"flex",flexDirection:"column",justifyContent:"center"},designsContainer:{width:"100%",display:"flex",flexGrow:1,flexWrap:"wrap",justifyContent:"flex-start",marginTop:15,marginBottom:15},error:{marginTop:15,width:"100%",display:"flex",justifyContent:"center",textAlign:"justify",alignItems:"center"},loadMore:{marginBottom:50},clickHere:{textDecoration:"none",cursor:"pointer","&:hover":{textDecoration:"underline"}}}),Jr=function(e){var t=e.data,a=e.status,r=e.isFetchingNextPage,i=e.fetchNextPage,c=e.hasNextPage,s=e.handleCreateDesign,o=e.label,l=Kr(),d=x().authState;return"loading"===a?Object(n.jsx)("div",{className:l.root,children:Object(n.jsx)("div",{className:l.designsContainer,children:Object(xr.a)(Array(10).keys()).map((function(e){return Object(n.jsx)(Vr,{},"design-skeleton-".concat(e))}))})}):"error"===a?Object(n.jsx)(Gr.a,{severity:"error",variant:"outlined",className:l.error,children:"Ha ocurrido un problema al intentar obtener los dise\xf1os. Esto probablemente se deba a un problema de conexi\xf3n, por favor revise que su equipo tenga conexi\xf3n a internet e intente m\xe1s tarde. Si el problema persiste, por favor comun\xedquese con el equipo de soporte."}):Object(n.jsxs)("div",{className:l.root,children:[Object(n.jsx)("div",{className:l.designsContainer,children:t.pages[0].designs.length>0?t.pages.map((function(e,t){return e.designs.map((function(e,t){return Object(n.jsx)(Ur,Object(E.a)(Object(E.a)({title:e.metadata.name},e),{},{canDelete:"public-repository"!==o}),"my-design"+e._id)}))})):"shared-with-me"===o?Object(n.jsx)(Gr.a,{severity:"info",variant:"outlined",style:{width:"100%",display:"flex",justifyContent:"center"},children:"No se han encontrado dise\xf1os compartidos. Cuando otros usuarios compartan dise\xf1os contigo aparecer\xe1n aqu\xed."}):"user-profile"===o?t.pages[0].ownerId===d.user.uid?Object(n.jsxs)(Gr.a,{severity:"info",variant:"outlined",style:{width:"100%",display:"flex",justifyContent:"center"},children:["No cuentas con dise\xf1os p\xfablicos. Crea tu primer dise\xf1o p\xfablico haciendo click "," ",Object(n.jsx)(Or.a,{className:l.clickHere,onClick:s,children:"aqu\xed"}),"!"]}):Object(n.jsx)(Gr.a,{severity:"info",variant:"outlined",style:{width:"100%",display:"flex",justifyContent:"center"},children:"Este usuario no cuenta con dise\xf1os p\xfablicos."}):"public-repository"===o?Object(n.jsx)(Gr.a,{severity:"info",variant:"outlined",style:{width:"100%",display:"flex",justifyContent:"center"},children:"No se han encontrado resultados para tu b\xfasqueda."}):Object(n.jsxs)(Gr.a,{severity:"info",variant:"outlined",style:{width:"100%",display:"flex",justifyContent:"center"},children:["No se han encontrado dise\xf1os en este directorio. Crea tu primer dise\xf1o haciendo click "," ",Object(n.jsx)(Or.a,{className:l.clickHere,onClick:s,children:"aqu\xed"}),"!"]})}),t&&t.pages[0].designs.length>0&&c&&Object(n.jsx)(U.a,{className:l.loadMore,color:"primary",onClick:function(){return i()},children:r?"Cargando m\xe1s...":"Cargar M\xe1s"})]})},Xr=function(){var e=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("folder/user",{path:t},"POST");case 2:if((a=e.sent).ok){e.next=5;break}throw new Error(a.message);case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yr=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.path,n=t.folderName,e.next=3,f("folder/create",{path:a,folderName:n},"POST");case 3:if((r=e.sent).ok){e.next=6;break}throw new Error(r.message);case 6:return e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_r=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.name,e.next=3,f("folder/".concat(a),{name:n},"PUT");case 3:if((r=e.sent).ok){e.next=6;break}throw new Error(r.message);case 6:return e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$r=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,f("folder/".concat(a),{},"DELETE");case 3:if((n=e.sent).ok){e.next=6;break}throw new Error(n.message);case 6:return e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ei=a(627),ti=a(1266),ai=a(1267),ni=a(1270),ri=a(1271),ii=a(1272),ci={mouseX:null,mouseY:null},si=function(e){var t=e.options,a=e.children,i=Object(r.useState)(ci),c=Object(p.a)(i,2),s=c[0],o=c[1],l=Object(r.useRef)(),d=function(){o(ci)};return Object(n.jsxs)("div",{ref:l,onContextMenu:function(e){e.preventDefault(),e.stopPropagation();var t=l.current.getBoundingClientRect();e.clientX>=t.x&&e.clientX<=t.x+t.width&&e.clientY>=t.y&&e.clientY<=t.y+t.height?o({mouseX:e.clientX-2,mouseY:e.clientY-4}):d()},style:{width:325},children:[a,Object(n.jsx)(ei.a,{keepMounted:!0,open:null!==s.mouseY,onClose:d,anchorReference:"anchorPosition",anchorPosition:null!==s.mouseY&&null!==s.mouseX?{top:s.mouseY,left:s.mouseX}:void 0,children:t&&t.length?t.map((function(e,t){return Object(n.jsxs)(ti.a,{onClick:function(t){return function(e,t){t&&t(e),d()}(t,e.onSelect)},children:[e.icon?Object(n.jsx)(ai.a,{children:e.icon}):Object(n.jsx)("div",{}),Object(n.jsx)(Z.a,{children:e.label})]},"option-".concat(t,"-").concat(e))})):Object(n.jsx)(Z.a,{component:"div",children:Object(n.jsx)(W.a,{fontStyle:"italic",children:"No hay opciones especificadas."})})})]})},oi=Object(F.a)((function(e){return{root:{display:"flex",alignItems:"center",border:"1px solid ".concat(e.palette.divider),width:325,minWidth:325,borderRadius:5,margin:"10px 10px 10px 0px",cursor:"pointer",backgroundColor:e.palette.background.paper,"&:hover":{boxShadow:"0px 0px 10px 0 ".concat("dark"!==e.palette.type?"#bcc3d6":"#172b3a"),background:e.palette.background.designHover}},content:{display:"flex",justifyContent:"space-between",alignItems:"center"},folderContainer:{display:"flex",justifyContent:"space-between",borderRadius:e.shape.borderRadius,alignItems:"center",width:"100%",userSelect:"none",textDecoration:"none",color:e.palette.text.primary},folderBody:{padding:"15px 10px 15px 20px",display:"flex",justifyContent:"start",alignItems:"center",textDecoration:"none"},folderName:{paddingTop:3,fontSize:20,paddingLeft:20},more:{marginRight:10}}})),li=function(e){var t=e._id,a=e.name,i=e.path,c=Object(ur.a)(e,["_id","name","path"]),s=oi(),o=Object(r.useState)(null),d=Object(p.a)(o,2),m=d[0],b=d[1],f=R().dispatch,g=Object(l.b)(),h=Object(w.b)().enqueueSnackbar,x=i!=="/"+a?i.replace("/"+a,""):i.replace(a,""),O=Object(hr.a)($r,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.cancelQueries(["folders",x]);case 2:return a=g.getQueryData(["folders",x]),g.setQueryData(["folders",x],(function(e){return e.filter((function(e){return e._id!==t}))})),e.abrupt("return",{previousFolders:a});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){g.invalidateQueries(["folders",x])},onError:function(e,t,a){g.setQueryData(["folders",x],a.previousFolders),h(e.message,{variant:"error",autoHideDuration:2e3})},onSuccess:function(e){h("Carpeta eliminada con \xe9xito.",{variant:"success",autoHideDuration:2e3})}}),v=function(e){b(null),f({type:D.ui.setFolder,payload:{_id:t,name:a}}),f({type:D.ui.openModal,payload:"Folder"})},y=function(){var e=Object(j.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(null),f({type:D.ui.setConfirmData,payload:{type:"carpeta",args:{id:t},actionMutation:O}}),f({type:D.ui.openModal,payload:"Confirmation"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(W.a,Object(E.a)(Object(E.a)({className:s.root},c),{},{children:Object(n.jsx)(si,{options:[{icon:Object(n.jsx)(ni.a,{}),label:"Cambiar Nombre",onSelect:v},{icon:Object(n.jsx)(Er.a,{}),label:"Eliminar",onSelect:y}],children:Object(n.jsxs)("div",{className:s.content,children:[Object(n.jsx)(W.a,Object(E.a)(Object(E.a)({className:s.folderContainer,component:L.b,to:"/my-designs".concat(i)},c),{},{children:Object(n.jsxs)("div",{className:s.folderBody,children:[Object(n.jsx)(ri.a,{fontSize:"large"}),Object(n.jsx)(Z.a,{className:s.folderName,children:a})]})})),Object(n.jsx)(Sr.a,{className:s.more,onClick:function(e){e.stopPropagation(),b(e.currentTarget)},children:Object(n.jsx)(ii.a,{})}),Object(n.jsxs)(ei.a,{onBlur:function(){return b(null)},anchorEl:m,open:Boolean(m),anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},onClose:function(){return b(null)},children:[Object(n.jsxs)(ti.a,{onClick:v,children:[Object(n.jsx)(ai.a,{children:Object(n.jsx)(ni.a,{})}),Object(n.jsx)(Z.a,{children:"Cambiar Nombre"})]}),Object(n.jsxs)(ti.a,{onClick:y,children:[Object(n.jsx)(ai.a,{children:Object(n.jsx)(Er.a,{})}),Object(n.jsx)(Z.a,{children:"Eliminar"})]})]})]})})}))},di=Object(F.a)({root:{paddingTop:15,display:"flex",flexDirection:"column",justifyContent:"center"},folderContainer:{width:"100%",display:"flex",flexGrow:1,flexWrap:"wrap",justifyContent:"flex-start"}}),ui=function(e){e.title;var t=e.data,a=di();return t&&t.length>0?Object(n.jsx)("div",{className:a.root,children:Object(n.jsx)("div",{className:a.folderContainer,children:t.map((function(e){return Object(n.jsx)(li,Object(E.a)({},e),"my-folder"+e._id)}))})}):Object(n.jsx)("div",{})},ji=a(1269),pi=a(1217),mi=a(1276),bi=a(1273),fi=a(1275),gi=a(1277),hi=a(1278),xi=Object(F.a)((function(e){return{icon:{marginRight:10}}})),Oi=function(){var e=xi(),t=Object(B.g)(),a=Object(B.h)(),r=Object(l.b)(),i=x().authState,c=Object(hr.a)(Br,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.cancelQueries("recent-designs");case 2:return e.next=4,r.cancelQueries(["designs","/"]);case 4:return e.next=6,r.cancelQueries([i.user.id,"user-public-designs"]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){r.invalidateQueries("recent-designs"),r.invalidateQueries(["designs","/"]),r.invalidateQueries([i.user.id,"user-public-designs"])},onError:function(e){console.log(e)},onSuccess:function(e){t.push("/designs/".concat(e.design._id))}}),s=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.mutate({path:"/"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(U.a,{variant:"outlined",color:"primary",style:{margin:10},startIcon:Object(n.jsx)(bi.a,{fontSize:"large"}),onClick:s,children:"Nuevo Dise\xf1o"}),Object(n.jsxs)(ji.a,{component:"nav","aria-label":"main mailbox folders",style:{padding:0},children:[Object(n.jsx)(br.a,{}),Object(n.jsxs)(pi.a,{button:!0,selected:a.pathname.includes("/my-designs"),component:L.b,to:"/my-designs",children:[Object(n.jsx)(fi.a,{className:e.icon}),Object(n.jsx)(mi.a,{primary:"Mis Dise\xf1os"})]}),Object(n.jsx)(br.a,{}),Object(n.jsxs)(pi.a,{button:!0,selected:a.pathname.includes("/shared-with-me"),component:L.b,to:"/shared-with-me",children:[Object(n.jsx)(gi.a,{className:e.icon}),Object(n.jsx)(mi.a,{primary:"Compartidos Conmigo"})]}),Object(n.jsx)(br.a,{}),Object(n.jsxs)(pi.a,{button:!0,selected:a.pathname.includes("/public-repository"),component:L.b,to:"/public-repository",children:[Object(n.jsx)(hi.a,{className:e.icon}),Object(n.jsx)(mi.a,{primary:"Repositorio P\xfablico"})]}),Object(n.jsx)(br.a,{})]})]})},vi=a(1340),yi=Object(F.a)((function(e){return{root:{marginTop:20,marginBottom:20,width:"100%",padding:"10px 15px 10px 15px",borderRadius:3,backgroundColor:e.palette.background.default},link:{textDecoration:"none","&:hover":{textDecoration:"underline"}}}})),wi=function(){var e=yi(),t=R().uiState.folderPath;return Object(n.jsxs)(vi.a,{className:e.root,children:[1!==t.length?Object(n.jsx)(Z.a,{className:e.link,color:"inherit",component:L.b,to:"/my-designs",children:" Mis Dise\xf1os "}):Object(n.jsx)(Z.a,{color:"textPrimary",children:" Mis Dise\xf1os "}),function(){if(1!==t.length){var a="",r=t.split("/");return r.shift(),r.map((function(r){var i=a+="/"+r;return Object(n.jsx)("div",{style:{display:"flex"},children:t===i?Object(n.jsxs)(Z.a,{color:"textPrimary",children:[r," "]}):Object(n.jsxs)(Z.a,{className:e.link,color:"inherit",component:L.b,to:"/my-designs".concat(i),children:[r," "]})},i)}))}}()]})},ki=a(1279),Si=a(1280);function Ci(){var e=Object(r.useState)(null),t=Object(p.a)(e,2),a=t[0],n=t[1];return Object(r.useLayoutEffect)((function(){if(a){var e=function(e){0!==e.deltaY&&(e.preventDefault(),a.scrollTo({left:a.scrollLeft+e.deltaY,behavior:"auto"}))};return a.addEventListener("wheel",e),function(){return a.removeEventListener("wheel",e)}}}),[a]),n}var Ti=Object(F.a)((function(e){return{root:{position:"relative",width:"100%",display:"flex",justifyContent:"flex-start",mouseWheel:"horizontal",overflowX:"auto",overflowY:"hidden",listStyle:"none",paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),margin:0},prev:{position:"absolute",height:"calc(100% - 0.6em)",width:50,display:"flex",justifyContent:"center",alignItems:"center",zIndex:10,left:0,background:"linear-gradient(270deg, transparent, ".concat(e.palette.action.disabledBackground," 100%)"),"&:hover":{cursor:"pointer",backgroundColor:e.palette.action.hover}},next:{position:"absolute",height:"calc(100% - 0.6em)",width:50,display:"flex",justifyContent:"center",alignItems:"center",zIndex:10,right:0,background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.disabledBackground," 100%)"),"&:hover":{cursor:"pointer",backgroundColor:e.palette.action.hover}}}})),Ni=function(e){var t=e.children,a=Ti(),i=Ci(),c=Object(r.useState)(null),s=Object(p.a)(c,2),o=s[0],l=s[1],d=Object(r.useRef)(),u=Object(r.useRef)();return Object(n.jsxs)(W.a,{position:"relative",children:[Object(n.jsx)(W.a,{ref:d,onClick:function(){o&&o.scrollTo({left:o.scrollLeft-335,behavior:"smooth"})},className:a.prev,children:Object(n.jsx)(ki.a,{style:{fontSize:40}})}),Object(n.jsx)(W.a,{ref:u,onClick:function(){o&&o.scrollTo({left:o.scrollLeft+335,behavior:"smooth"})},className:a.next,children:Object(n.jsx)(Si.a,{style:{fontSize:40}})}),Object(n.jsx)(W.a,{ref:function(e){i(e),l(e)},className:a.root,children:t})]})},Ei=Object(F.a)({root:{paddingTop:15,marginBottom:15},recentDesigns:{width:"100%",display:"flex",flexGrow:1,flexWrap:"nowrap",justifyContent:"flex-start",marginTop:15},title:{}}),Di=function(e){var t=e.width,a=(e.height,Ei()),r=Math.trunc(t/345),i=Object(gr.a)("recent-designs",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ir());case 1:case"end":return e.stop()}}),e)})))),c=i.isLoading,s=i.isError,o=i.data;if(s)return Object(n.jsx)("div",{});var l=function(){return Array.from(Array(r).keys()).map((function(e){return Object(n.jsx)(Vr,{},"recent-design-skeleton-".concat(e))}))},d=function(){return o.map((function(e){return Object(n.jsx)(Ur,Object(E.a)(Object(E.a)({title:e.metadata.name},e),{},{canDelete:!1}),"recent"+e._id)}))};return Object(n.jsxs)("div",{className:a.root,children:[o&&0!==o.length?Object(n.jsxs)("div",{className:a.title,children:[Object(n.jsx)(Z.a,{variant:"h4",children:"Dise\xf1os recientes"}),Object(n.jsx)(br.a,{})]}):Object(n.jsx)("div",{}),o&&o.length>0?o.length>r?Object(n.jsx)(Ni,{children:c?l():d()}):Object(n.jsx)("div",{className:a.recentDesigns,children:c?l():d()}):Object(n.jsx)("div",{})]})},Ai=a(1282),Ii=a(1283),Ri=a(1285),Pi=a(1344),Mi=a(1289),Li=a(1284),Bi=Object(F.a)((function(e){return{title:{display:"flex",justifyContent:"space-between"},close:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},folderNameInput:{marginTop:20,marginBottom:20}}})),Fi=function(){var e=Bi(),t=Object(z.a)(),a=R(),i=a.uiState,c=a.dispatch,s=i.folderPath,o=i.folder,d=i.isFolderModalOpen,m=Object(l.b)(),b=Object(w.b)().enqueueSnackbar,f=Object(r.useState)(null),g=Object(p.a)(f,2),h=g[0],x=g[1],O=Object(r.useState)(o.name),v=Object(p.a)(O,2),y=v[0],k=v[1];Object(r.useEffect)((function(){k(o.name)}),[o.name,k]);var S=Object(hr.a)(Yr,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.cancelQueries(["folders",s]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){m.invalidateQueries(["folders",s])},onError:function(e){b(e.message,{variant:"error",autoHideDuration:2e3})},onSuccess:function(e){b("Carpeta creada con \xe9xito.",{variant:"success",autoHideDuration:2e3}),T()}}),C=Object(hr.a)(_r,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.cancelQueries(["folders",s]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){m.invalidateQueries(["folders",s])},onError:function(e){b(e.message,{variant:"error",autoHideDuration:2e3})},onSuccess:function(e){b("Nombre de carpeta cambiado con \xe9xito.",{variant:"success",autoHideDuration:2e3}),T()}}),T=function(){c({type:D.ui.closeModal,payload:"Folder"}),setTimeout((function(){return c({type:D.ui.setFolder,payload:{_id:null,name:""}})}),t.transitions.duration.enteringScreen),k(""),x(null)},N=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==y.trim()){e.next=2;break}return e.abrupt("return",x("Este campo es obligatorio."));case 2:if("/"!==y.trim()&&"mis dise\xf1os"!==y.trim().toLowerCase()){e.next=4;break}return e.abrupt("return",x("Nombre de carpeta no permitido."));case 4:return e.next=6,S.mutate({path:s,folderName:y.trim()});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==y.trim()){e.next=2;break}return e.abrupt("return",x("Este campo es obligatorio."));case 2:if("/"!==y.trim()&&"mis dise\xf1os"!==y.trim().toLowerCase()){e.next=4;break}return e.abrupt("return",x("Nombre de carpeta no permitido."));case 4:if(y.trim().toLowerCase()!==o.name.trim().toLowerCase()){e.next=6;break}return e.abrupt("return",T());case 6:return e.next=8,C.mutate({id:o._id,name:y});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(Ai.a,{fullWidth:!0,open:d,"aria-labelledby":"form-dialog-title",children:[Object(n.jsxs)("div",{className:e.title,children:[Object(n.jsx)(Ii.a,{id:"form-dialog-title",onClose:T,children:o._id?"Editar Carpeta":"Nueva Carpeta"}),Object(n.jsx)(Sr.a,{className:e.close,"aria-label":"close",onClick:T,children:Object(n.jsx)(Li.a,{})})]}),Object(n.jsxs)(Ri.a,{dividers:!0,children:[Object(n.jsxs)(Z.a,{style:{marginBottom:20},children:["Usted est\xe1 por ",o._id?"editar una carpeta":"crear una nueva carpeta",". Por favor ingrese el ",o._id?"nuevo":""," nombre para su carpeta en la siguiente entrada de texto."]}),Object(n.jsx)(Z.a,{variant:"caption",children:"IMPORTANTE: No puede existir una carpeta en el directorio con el mismo nombre."}),Object(n.jsx)(Pi.a,{className:e.folderNameInput,error:!!h,helperText:h,margin:"dense",variant:"outlined",name:"name",value:y,onChange:function(e){var t=e.target;h&&x(null),k(t.value)},label:"Nombre Carpeta",type:"text",fullWidth:!0})]}),Object(n.jsxs)(Mi.a,{children:[Object(n.jsx)(U.a,{onClick:T,children:"Cancelar"}),o._id?Object(n.jsx)(U.a,{variant:"contained",color:"primary",onClick:E,children:"Editar Carpeta"}):Object(n.jsx)(U.a,{variant:"contained",color:"primary",onClick:N,children:"Crear Carpeta"})]})]})},zi=a(1293),Hi=a(1294),Wi=a(1295),Zi=a(1296),Ui=function(e){var t=e.options,a=e.Icon,i=e.text,c=e.fullWidth,s=void 0!==c&&c,o=e.children,l=Object(r.useState)(null),d=Object(p.a)(l,2),u=d[0],j=d[1],m=function(e){j(e.currentTarget)},b=function(){j(null)};return Object(n.jsxs)("div",{style:{width:s?"100%":"auto"},children:[i?Object(n.jsxs)(U.a,{fullWidth:s,variant:"outlined",onClick:m,children:[a,Object(n.jsx)(Z.a,{style:{marginLeft:10},children:i})]}):Object(n.jsx)(Sr.a,{onClick:m,children:null!==a&&void 0!==a?a:Object(n.jsx)(ii.a,{})}),Object(n.jsx)(ei.a,{anchorEl:u,open:Boolean(u),keepMounted:!0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:b,children:t&&t.length?t.map((function(e,t){return Object(n.jsxs)(ti.a,{onClick:function(t){return function(e,t){t&&t(e),b()}(t,e.onSelect)},children:[e.icon?Object(n.jsx)(ai.a,{children:e.icon}):Object(n.jsx)("div",{}),Object(n.jsx)(Z.a,{children:e.label})]},"option-".concat(t,"-").concat(e))})):o||Object(n.jsx)(Z.a,{component:"div",children:Object(n.jsx)(W.a,{fontStyle:"italic",children:"No hay opciones especificadas."})})})]})},Gi=a(68),qi=a(1218),Qi=a(1291),Vi=a(625),Ki=Object(F.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},previewChip:{maxWidth:210},backdrop:{display:"flex",flexDirection:"column",zIndex:e.zIndex.modal+1,color:"#fff"}}})),Ji=function(){var e=Ki(),t=Object(l.b)(),a=Object(w.b)().enqueueSnackbar,i=R(),c=i.uiState,s=i.dispatch,o=Object(r.useState)([]),d=Object(p.a)(o,2),m=d[0],b=d[1],f=Object(r.useState)(!1),g=Object(p.a)(f,2),h=g[0],x=g[1],O=c.folderPath,v=Object(hr.a)(Wr,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.cancelQueries("recent-designs");case 2:return e.next=4,t.cancelQueries(["designs",O]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){t.invalidateQueries("recent-designs"),t.invalidateQueries(["designs",O])},onError:function(e,t){t.last&&(x(!1),y()),a(e.message,{variant:"error",autoHideDuration:2e3})},onSuccess:function(e,t){t.last&&(x(!1),y()),a(e.message,{variant:"success",autoHideDuration:2e3})}}),y=function(e){s({type:D.ui.closeModal,payload:"ImportDesigns"})},k=function(e){return function(t){try{var n=JSON.parse(t.target.result);b((function(t){return[].concat(Object(xr.a)(t),[{filename:e.name,design:n}])}))}catch(r){a('Ha ocurrido un error al cargar el dise\xf1o "'.concat(e.name,'". El archivo est\xe1 corrupto.'),{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:2e3})}}},S=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),a=0;case 2:if(!(a<m.length)){e.next=9;break}return n=m[a],e.next=6,v.mutate({filename:n.filename,path:O,design:n.design,last:a===m.length-1});case 6:a++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Ai.a,{open:c.isImportDesignsModalOpen,maxWidth:"sm",fullWidth:!0,children:[Object(n.jsx)(Ii.a,{children:"Importar Dise\xf1os de Aprendizaje"}),Object(n.jsx)(Sr.a,{"aria-label":"close",className:e.closeButton,onClick:y,children:Object(n.jsx)(Li.a,{})}),Object(n.jsxs)(Ri.a,{dividers:!0,children:[Object(n.jsx)(Z.a,{style:{marginBottom:20},children:"Para importar dise\xf1os en su cuenta haga click o arrastre sus archivos a la zona indicada."}),Object(n.jsx)(Vi.a,{getFileLimitExceedMessage:function(e){return"Se super\xf3 el n\xfamero m\xe1ximo de archivos. Solo se permiten ".concat(e,". ")},previewGridProps:{container:{spacing:1,direction:"row"}},dropzoneText:"Arrastra y suelta tus archivos o haz click aqu\xed",previewChipProps:{classes:{root:e.previewChip}},acceptedFiles:["application/json"],previewText:"Archivos Seleccionados",getDropRejectMessage:function(e,t,a){var n='El archivo "'.concat(e.name,'" fue rechazado. ');return t.includes(e.type)||(n+="El tipo de archivo no es compatible. "),e.size>a&&(n+="El archivo es demasiado grande. El l\xedmite de tama\xf1o es ".concat(a/1024/1024," MB.")),n},showPreviewsInDropzone:!1,maxFileSize:3145728,showAlerts:["error"],onChange:function(e){b([]);var t,n=Object(Gi.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;try{var i=new FileReader;i.onload=k(r),i.readAsText(r)}catch(c){console.log(c),a('Ha ocurrido un error al cargar el dise\xf1o "'.concat(r.name,'". El archivo est\xe1 corrupto.'),{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:2e3})}}}catch(s){n.e(s)}finally{n.f()}},showPreviews:!0,filesLimit:5,useChipsForPreview:!0,clearOnUnmount:!0}),Object(n.jsx)("div",{style:{marginTop:20},children:Object(n.jsx)(Z.a,{variant:"caption",children:'IMPORTANTE: Solo se admiten archivos con extensi\xf3n "json", por ejemplo "Dise\xf1o de Ejemplo.json".'})})]}),Object(n.jsxs)(Mi.a,{children:[Object(n.jsx)(U.a,{onClick:y,children:"Cancelar"}),Object(n.jsx)(U.a,{variant:"contained",color:"primary",onClick:S,disabled:0===m.length,children:"Importar"})]})]}),Object(n.jsxs)(qi.a,{className:e.backdrop,open:h,children:[Object(n.jsx)(Qi.a,{color:"inherit"}),Object(n.jsx)(Z.a,{children:"Subiendo archivos..."})]})]})},Xi=Object(F.a)((function(e){return{leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},workspace:Object(N.a)({paddingLeft:30,paddingRight:30,background:e.palette.background.workSpace,minHeight:"calc(100vh - 128px)"},e.breakpoints.down("xs"),{paddingLeft:10,paddingRight:10}),rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},icon:{marginRight:10},breadCrumbs:{marginTop:20,marginBottom:20,width:"100%",padding:"10px 15px 10px 15px",borderRadius:3,backgroundColor:e.palette.background.default},designsAndFoldersContainer:{paddingTop:15},link:{textDecoration:"none"},sectionTitle:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",alignItems:"flex-end",paddingBottom:5},button:{height:35}}})),Yi=function(){var e=Xi(),t=Object(B.g)(),a=Object(B.i)(),i=Object(r.useRef)(null),c=Object(z.a)(),s=Object(mr.a)(c.breakpoints.down("xs")),o=R(),d=o.uiState,m=o.dispatch,b=Object(w.b)().enqueueSnackbar,f=Object(l.b)(),g=x().authState,h=Object(r.useState)(0),O=Object(p.a)(h,2),v=O[0],y=O[1],k=Object(r.useState)(0),S=Object(p.a)(k,2),C=S[0],T=S[1];Object(r.useEffect)((function(){m({type:D.ui.updateFolderPath,payload:a.urlPath?"/"+a.urlPath:"/"})}),[m,a]);var N=d.folderPath,A=a.urlPath?N.split("/")[N.split("/").length-1]:"Mis Dise\xf1os",I=Object(fr.a)(["designs",N],function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pageParam,n=void 0===a?0:a,e.next=3,Rr(N,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{refetchOnWindowFocus:!1,getNextPageParam:function(e,t){if(e.nPages!==t.length)return e.from}}),P=Object(gr.a)(["folders",N],Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr(N);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}),M=Object(hr.a)(Br,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.cancelQueries("recent-designs");case 2:return e.next=4,f.cancelQueries(["designs",N]);case 4:return e.next=6,f.cancelQueries([g.user.id,"user-public-designs"]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){f.invalidateQueries("recent-designs"),f.invalidateQueries(["designs",N]),f.invalidateQueries([g.user.id,"user-public-designs"])},onError:function(e){b(e.message,{variant:"error",autoHideDuration:2e3})},onSuccess:function(e){t.push("/designs/".concat(e.design._id))}});Object(r.useEffect)((function(){i.current&&(T(i.current.offsetHeight),y(i.current.offsetWidth))}),[i]);var L=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:"/",e.next=3,M.mutate({path:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({type:D.ui.openModal,payload:"Folder"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(H.a,{container:!0,children:[Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.leftPanel,children:Object(n.jsx)(Oi,{})}),Object(n.jsxs)(H.a,{item:!0,xs:12,md:6,lg:8,ref:i,className:e.workspace,children:[Object(n.jsx)(wi,{}),"/"===N&&Object(n.jsx)(Di,{id:"recent",width:v,height:C}),Object(n.jsxs)("div",{className:e.designsAndFoldersContainer,children:[Object(n.jsxs)("div",{className:e.sectionTitle,children:[Object(n.jsx)(Z.a,{variant:"h4",children:"/"===N?"Mis Dise\xf1os":A}),Object(n.jsx)(Ui,{Icon:Object(n.jsx)(zi.a,{}),text:"Nuevo",fullWidth:s,options:[{icon:Object(n.jsx)(Hi.a,{}),label:"Nuevo Dise\xf1o",onSelect:function(e){return L(e,N)}},{icon:Object(n.jsx)(Wi.a,{}),label:"Nueva Carpeta",onSelect:F},{icon:Object(n.jsx)(Zi.a,{}),label:"Importar Dise\xf1os",onSelect:function(e){m({type:D.ui.openModal,payload:"ImportDesigns"})}}]})]}),Object(n.jsx)(br.a,{}),Object(n.jsx)(ui,Object(E.a)({},P)),Object(n.jsx)(Jr,Object(E.a)(Object(E.a)({},I),{},{handleCreateDesign:function(e){return L(e,N)}}))]})]}),Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.rightPanel})]}),Object(n.jsx)(Fi,{}),Object(n.jsx)(Ji,{})]})},_i=a(608),$i=a.n(_i),ec=function(){var e=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("user/".concat(t));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error(a.message);case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tc=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("user/search/",{filter:t,from:a},"POST");case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ac=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uid,n=t.contacts,e.prev=1,e.next=4,f("user/".concat(a),{newData:{contacts:n}},"PUT");case 4:if((r=e.sent).ok){e.next=7;break}throw new Error(r.message);case 7:return e.abrupt("return",r.data);case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),nc=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,r,i,c,s,o,l,d,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uid,n=t.img,r=t.name,i=t.lastname,c=t.occupation,s=t.institution,o=t.country,l=t.city,d=t.description,e.prev=1,e.next=4,f("user/".concat(a),{newData:{uid:a,img:n,name:r,lastname:i,occupation:c,institution:s,country:o,city:l,description:d}},"PUT");case 4:if((j=e.sent).ok){e.next=7;break}throw new Error(j.message);case 7:return e.abrupt("return",j.data);case 10:return e.prev=10,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",{ok:!1,message:"Ha ocurrido un error al hacer la petici\xf3n, compruebe su conexi\xf3n a internet o vuelva a intentarlo m\xe1s tarde."});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),rc=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("user/search-by-email/",{email:t},"POST");case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{ok:!1,message:"Ha ocurrido un error al hacer la petici\xf3n, compruebe su conexi\xf3n a internet o vuelva a intentarlo m\xe1s tarde."});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ic=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("user/resend-code/",{email:t},"POST");case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{ok:!1,message:"Ha ocurrido un error al hacer la petici\xf3n, compruebe su conexi\xf3n a internet o vuelva a intentarlo m\xe1s tarde."});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),cc=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uid,n=t.newPassword,e.prev=1,e.next=4,f("auth/reset-password/".concat(a),{newPassword:n},"PUT");case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",{ok:!1,message:"Ha ocurrido un error al hacer la petici\xf3n, compruebe su conexi\xf3n a internet o vuelva a intentarlo m\xe1s tarde."});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),sc=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g("user/update/user-img",t,"PUT",{});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{ok:!1,message:"Ha ocurrido un error al hacer la petici\xf3n, compruebe su conexi\xf3n a internet o vuelva a intentarlo m\xe1s tarde."});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),oc=a(1298),lc=a(1299),dc=a(1300),uc=a(186),jc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.useState)(e),a=Object(p.a)(t,2),n=a[0],i=a[1],c=function(){i(e)},s=function(e){var t=e.target;i(Object(E.a)(Object(E.a)({},n),{},Object(N.a)({},t.name,t.value)))};return[n,s,c,i]},pc=a(70),mc=a.n(pc),bc=a(1297),fc=Object(F.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},errorContainer:{display:"flex",width:"100%",justifyContent:"center"},error:{marginTop:15,minWidth:"50%",display:"flex",justifyContent:"center",textAlign:"justify",alignItems:"center"},avatarContainer:{position:"relative"},photoProfile:function(t){var a=t.isHovered;return{width:e.spacing(30),height:e.spacing(30),marginTop:e.spacing(2),marginBottom:e.spacing(2),backgroundColor:a?(e.palette.type,e.palette.grey[500]):"dark"===e.palette.type?e.palette.grey[600]:e.palette.grey[400]}},addPhotoIcon:function(t){var a=t.isHovered;return{position:"absolute",bottom:25,right:25,border:"2px solid ".concat(e.palette.background.paper),backgroundColor:a?(e.palette.type,e.palette.grey[500]):"dark"===e.palette.type?e.palette.grey[600]:e.palette.grey[400]}},inputFile:{display:"none"},backdrop:{display:"flex",flexDirection:"column",zIndex:e.zIndex.modal+1,color:"#fff"}}})),gc=i.a.memo((function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),a=t[0],i=t[1],c=Object(z.a)(),s=fc({isHovered:a}),o=Object(l.b)(),d=R(),m=d.uiState,b=d.dispatch,f=x(),g=f.authState,h=f.setAuthState,O=Object(B.i)(),v=Object(r.useRef)(),y=Object(r.useState)(null),k=Object(p.a)(y,2),S=k[0],C=k[1],T=Object(r.useState)(null),N=Object(p.a)(T,2),A=N[0],I=N[1],P=Object(r.useState)(!1),M=Object(p.a)(P,2),L=M[0],F=M[1],W=O.uid,q=Object(w.b)().enqueueSnackbar;Object(r.useEffect)((function(){if(S){var e=URL.createObjectURL(S);return I(e),function(){return URL.revokeObjectURL(e)}}}),[S]);var Q=Object(gr.a)(["user-profile",W],Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ec(W);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}),V=Q.isLoading,K=Q.isError,J=Q.data,X=jc({name:J.name,lastname:J.lastname,occupation:J.occupation,institution:J.institution,country:J.country,city:J.city,description:J.description}),Y=Object(p.a)(X,3),_=Y[0],$=Y[1],ee=Y[2],te=_.name,ae=_.lastname,ne=_.occupation,re=_.institution,ie=_.country,ce=_.city,se=_.description,oe=Object(hr.a)(nc,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.cancelQueries(["user-profile",W]);case 2:return a=o.getQueryData(["user-profile",W]),o.setQueryData(["user-profile",W],(function(e){return Object.assign({},Object(E.a)(Object(E.a)({},e),{},{uid:W,img:t.img,name:te,lastname:ae,occupation:ne,institution:re,country:ie,city:ce,description:se}))})),e.abrupt("return",{previousUserProfile:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t){console.log(e),o.setQueryData(["user-profile",W],t.previousUserProfile),F(!1),b({type:D.ui.closeModal,payload:"EditProfile"}),setTimeout((function(){I(null),C(null),q(e.message,{variant:"error",autoHideDuration:2e3})}),c.transitions.duration.enteringScreen)},onSettled:function(){o.invalidateQueries(["user-profile",W]),o.invalidateQueries("recent-designs"),o.invalidateQueries("designs"),o.invalidateQueries([W,"user-public-designs"])},onSuccess:function(e,t){F(!1),b({type:D.ui.closeModal,payload:"EditProfile"}),setTimeout((function(){I(null),C(null),q("Usuario actualizado correctamente",{variant:"success",autoHideDuration:2e3}),h((function(t){return Object(E.a)(Object(E.a)({},t),{},{user:Object(E.a)(Object(E.a)({},t.user),{},{img:e.value.img})})}))}),c.transitions.duration.enteringScreen)}});if(K)return Object(n.jsx)("div",{className:s.errorContainer,children:Object(n.jsx)(Gr.a,{severity:"error",variant:"outlined",className:s.error,children:"Ha ocurrido un problema al intentar obtener el usuario en la base de datos. Esto probablemente se deba a un problema de conexi\xf3n, por favor revise que su equipo tenga conexi\xf3n a internet e intente m\xe1s tarde. Si el problema persiste, por favor comun\xedquese con el equipo de soporte."})});if(V)return Object(n.jsx)(Z.a,{children:"Cargando..."});var le=function(){b({type:D.ui.closeModal,payload:"EditProfile"}),setTimeout((function(){ee(),I(null),C(null)}),c.transitions.duration.enteringScreen)},de=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),F(!0),a=J.img,!S){e.next=10;break}return(n=new FormData).append("img",S),e.next=8,sc(n);case 8:(r=e.sent).ok?a=r.data.user.img:q(r.message,{variant:"error",autoHideDuration:2e3});case 10:return e.next=12,oe.mutate({uid:g.user.uid,img:a,name:te,lastname:ae,occupation:ne,institution:re,country:ie,city:ce,description:se});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0],C(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Ai.a,{onClose:le,"aria-labelledby":"customized-dialog-title",open:m.isEditProfileModalOpen,children:[Object(n.jsxs)(Ii.a,{id:"customized-dialog-title",onClose:le,children:["Editar perfil",Object(n.jsx)(Sr.a,{"aria-label":"close",className:s.closeButton,onClick:le,children:Object(n.jsx)(mc.a,{})})]}),Object(n.jsx)(Ri.a,{dividers:!0,children:Object(n.jsxs)(H.a,{container:!0,spacing:1,children:[Object(n.jsxs)(H.a,{container:!0,alignItems:"center",justify:"center",className:s.avatarContainer,children:[Object(n.jsx)("input",{ref:v,accept:"image/x-png,image/jpeg",className:s.inputFile,type:"file",onChange:ue}),Object(n.jsxs)("div",{style:{position:"relative"},children:[Object(n.jsx)(G.a,{component:uc.a,className:s.photoProfile,src:A||(J.img&&J.img.length>0?"".concat("http://dma.uct.cl/","uploads/users/").concat(J.img):""),alt:J.name+" "+J.lastname,onClick:function(e){return null===v||void 0===v?void 0:v.current.click()},onMouseEnter:function(e){i(!0)},onMouseLeave:function(e){i(!1)}}),Object(n.jsx)(G.a,{component:uc.a,className:s.addPhotoIcon,onClick:function(e){return null===v||void 0===v?void 0:v.current.click()},onMouseEnter:function(e){i(!0)},onMouseLeave:function(e){i(!1)},children:Object(n.jsx)(bc.a,{})})]})]}),Object(n.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Pi.a,{variant:"outlined",margin:"dense",name:"name",value:te,onChange:$,label:"Nombres",type:"text",fullWidth:!0})}),Object(n.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Pi.a,{variant:"outlined",margin:"dense",name:"lastname",value:ae,onChange:$,label:"Apellidos",type:"text",fullWidth:!0})}),Object(n.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Pi.a,{variant:"outlined",margin:"dense",name:"country",value:null!==ie&&void 0!==ie?ie:"",onChange:$,label:"Pa\xeds",type:"text",fullWidth:!0})}),Object(n.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Pi.a,{variant:"outlined",margin:"dense",name:"city",value:null!==ce&&void 0!==ce?ce:"",onChange:$,label:"Ciudad",type:"text",fullWidth:!0})}),Object(n.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Pi.a,{variant:"outlined",margin:"dense",name:"occupation",value:null!==ne&&void 0!==ne?ne:"",onChange:$,label:"Ocupaci\xf3n",type:"text",fullWidth:!0})}),Object(n.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Pi.a,{variant:"outlined",margin:"dense",name:"institution",value:null!==re&&void 0!==re?re:"",onChange:$,label:"Instituci\xf3n",type:"text",fullWidth:!0})}),Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)(Pi.a,{multiline:!0,variant:"outlined",margin:"dense",name:"description",rows:4,value:null!==se&&void 0!==se?se:"",onChange:$,label:"Descripci\xf3n",type:"text",fullWidth:!0})})]})}),Object(n.jsxs)(Mi.a,{children:[Object(n.jsx)(U.a,{onClick:le,children:"Cancelar"}),Object(n.jsx)(U.a,{variant:"contained",color:"primary",onClick:de,children:"Guardar"})]})]}),Object(n.jsxs)(qi.a,{className:s.backdrop,open:L,children:[Object(n.jsx)(Qi.a,{color:"inherit"}),Object(n.jsx)(Z.a,{children:"Actualizando informaci\xf3n..."})]})]})})),hc=Object(F.a)((function(e){return{root:{display:"flex",width:"100%",padding:5,borderRadius:10,border:"1px solid ".concat(e.palette.divider),marginTop:10,cursor:"pointer",backgroundColor:e.palette.background.design,"&:hover":{zIndex:.5,background:e.palette.background.designHover}},card:{display:"flex",width:"100%"},body:{display:"flex",marginLeft:10,flexDirection:"column",justifyContent:"center"},photo:{margin:10,width:e.spacing(8),height:e.spacing(8)},name:{},location:{}}})),xc=function(e){var t,a=e._id,r=e.name,i=e.lastname,c=e.city,s=e.country,o=(e.scoreMean,e.img),l=e.occupation,d=e.onClick,u=hc(),j=Object(B.g)(),p=function(e,t){e.stopPropagation(),d&&d(),j.push("/profile/".concat(t))};return Object(n.jsx)("div",{className:u.root,onClick:function(e){return p(e,a)},children:Object(n.jsxs)("div",{className:u.card,children:[Object(n.jsx)(G.a,{className:u.photo,alt:Dr(r,i),src:o&&o.length>0?"".concat("http://dma.uct.cl/","uploads/users/").concat(o):"",children:Ar(r,i)}),Object(n.jsxs)("div",{className:u.body,children:[Object(n.jsx)("div",{className:u.name,children:Object(n.jsx)(Z.a,{variant:"h5",color:"textPrimary",children:r+" "+i})}),Object(n.jsx)("div",{className:u.location,children:Object(n.jsx)(Z.a,{variant:"subtitle1",color:"textSecondary",children:c&&s?c+", "+s:null!==(t=null!==c&&void 0!==c?c:s)&&void 0!==t?t:"Sin locaci\xf3n"})}),Object(n.jsx)("div",{children:Object(n.jsx)(Z.a,{variant:"subtitle1",color:"textSecondary",children:l||"Sin ocupaci\xf3n"})})]})]})})},Oc=Object(F.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),vc=function(){var e=Oc(),t=R(),a=t.uiState,r=t.dispatch,i=Object(B.i)().uid,c=Object(gr.a)(["user-profile",i],Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ec(i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}).data,s=function(){r({type:D.ui.closeModal,payload:"Contacts"})};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Ai.a,{onClose:s,"aria-labelledby":"customized-dialog-title",open:a.isContactsModalOpen,children:[Object(n.jsxs)(Ii.a,{id:"customized-dialog-title",onClose:s,children:["Contactos",Object(n.jsx)(Sr.a,{"aria-label":"close",className:e.closeButton,onClick:s,children:Object(n.jsx)(mc.a,{})})]}),Object(n.jsx)(Ri.a,{dividers:!0,children:c.contacts.map((function(e){return Object(n.jsx)(xc,Object(E.a)(Object(E.a)({},e),{},{onClick:s}),e._id)}))}),Object(n.jsx)(Mi.a,{children:Object(n.jsx)(U.a,{onClick:s,children:"Cerrar"})})]})})},yc=Object(F.a)((function(e){var t;return{designPanel:{flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider),background:e.palette.background.workSpace,minHeight:"calc(100vh - 128px)"},photoProfile:(t={width:e.spacing(30),height:e.spacing(30),marginTop:e.spacing(2),marginBottom:e.spacing(2)},Object(N.a)(t,e.breakpoints.down("md"),{width:e.spacing(25),height:e.spacing(25)}),Object(N.a)(t,e.breakpoints.down("sm"),{width:e.spacing(15),height:e.spacing(15)}),t),spaceFirstDataFirstData:{marginBottom:e.spacing(1)},centerGrid:{display:"flex",alignItems:"center",justifyItems:"center"},spaceSecondData:{marginBottom:e.spacing(2)},spaceData:Object(N.a)({marginLeft:e.spacing(3),marginBottom:e.spacing(2),marginRight:e.spacing(3)},e.breakpoints.down("xs"),{marginLeft:e.spacing(1),marginRight:e.spacing(1)}),spaceDesign:Object(N.a)({marginLeft:e.spacing(7),marginTop:e.spacing(2),marginRight:e.spacing(7)},e.breakpoints.down("xs"),{marginLeft:e.spacing(1),marginRight:e.spacing(1)}),spaceIcons:{marginRight:e.spacing(1)},errorContainer:{display:"flex",width:"100%",justifyContent:"center"},error:{marginTop:15,minWidth:"50%",display:"flex",justifyContent:"center",textAlign:"justify",alignItems:"center"}}})),wc=function(){var e=yc(),t=Object(l.b)(),a=x(),r=a.authState,i=a.setAuthState,c=R().dispatch,s=Object(B.g)(),o=Object(B.i)().uid,d=Object(w.b)().enqueueSnackbar,p=Object(gr.a)(["user-profile",o],Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ec(o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}),m=p.isLoading,b=p.isError,f=p.data,g=p.refetch,h=Object(fr.a)([o,"user-public-designs"],function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pageParam,n=void 0===a?0:a,e.next=3,Pr(o,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{refetchOnWindowFocus:!1,getNextPageParam:function(e,t){if(e.nPages!==t.length)return e.from}}),O=Object(hr.a)(ac,{onSuccess:function(e,a,n){var r=a.uid,c=a.contacts;i((function(e){return Object(E.a)(Object(E.a)({},e),{},{user:Object.assign({},Object(E.a)(Object(E.a)({},e.user),{},{contacts:c}))})})),t.invalidateQueries(["user-profile",r])},onError:function(e){console.log(e),d("No se ha actualizado su lista de contactos",{variant:"error",autoHideDuration:2e3})}}),v=Object(hr.a)(Br,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.cancelQueries("recent-designs");case 2:return e.next=4,t.cancelQueries("designs");case 4:return e.next=6,t.cancelQueries([r.user.id,"user-public-designs"]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){t.invalidateQueries("recent-designs"),t.invalidateQueries("designs"),t.invalidateQueries([r.user.id,"user-public-designs"])},onError:function(e){console.log(e),d("No se han cargado sus dise\xf1o",{variant:"error",autoHideDuration:2e3})},onSuccess:function(e){s.push("/designs/".concat(e.design._id))}}),y=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.mutate({path:"/",isPublic:!0});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(b)return Object(n.jsx)("div",{className:e.designPanel,children:Object(n.jsx)(Gr.a,{severity:"error",variant:"outlined",className:e.error,children:"Ha ocurrido un problema al intentar obtener el usuario en la base de datos. Esto probablemente se deba a un problema de conexi\xf3n, por favor revise que su equipo tenga conexi\xf3n a internet e intente m\xe1s tarde. Si el problema persiste, por favor comun\xedquese con el equipo de soporte."})});var k=function(){var e=Object(j.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,O.mutate({uid:r.user.uid,contacts:[].concat(Object(xr.a)(r.user.contacts),[o])});case 3:return t.invalidateQueries(["user-profile",o]),e.next=6,g();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,O.mutate({uid:r.user.uid,contacts:r.user.contacts.filter((function(e){return e!==o}))});case 3:t.invalidateQueries(["user-profile",o]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(H.a,{container:!0,children:[Object(n.jsxs)(H.a,{item:!0,xs:12,sm:3,children:[Object(n.jsx)(H.a,{container:!0,alignItems:"center",justify:"center",children:m?Object(n.jsx)(qr.a,{animation:"wave",variant:"circle",className:e.photoProfile}):Object(n.jsx)(G.a,{alt:f.name+" "+f.lastname,className:e.photoProfile,src:f.img&&f.img.length>0?"".concat("http://dma.uct.cl/","uploads/users/").concat(f.img):""})}),Object(n.jsx)(H.a,{container:!0,alignItems:"center",justify:"center",children:m?Object(n.jsx)(qr.a,{animation:"wave",height:42,width:"80%"}):f&&Object(n.jsx)(Z.a,{align:"center",variant:"h5",component:"h2",children:f.name+" "+f.lastname})}),Object(n.jsx)(H.a,{container:!0,alignItems:"center",justify:"center",children:m?Object(n.jsx)(qr.a,{animation:"wave",height:20,width:"50%"}):f&&f.occupation&&Object(n.jsx)(Z.a,{className:e.spaceFirstData,color:"textSecondary",children:f.occupation})}),Object(n.jsxs)(H.a,{container:!0,alignItems:"center",justify:"center",className:e.spaceFirstData,children:[Object(n.jsx)(H.a,{item:!0,children:m?Object(n.jsx)(qr.a,{animation:"wave",variant:"circle",width:20,height:20}):f.contacts.length>0?Object(n.jsx)(Sr.a,{onClick:function(){c({type:D.ui.openModal,payload:"Contacts"})},children:Object(n.jsx)(gi.a,{})}):Object(n.jsx)(gi.a,{})}),Object(n.jsx)(H.a,{item:!0,children:m?Object(n.jsx)(qr.a,{animation:"wave",width:20,height:20,style:{marginLeft:5}}):Object(n.jsxs)(Z.a,{style:{marginLeft:8},children:[" ",f.contacts.length]})}),"\u30fb",Object(n.jsx)(H.a,{item:!0,children:m?Object(n.jsx)(qr.a,{animation:"wave",variant:"circle",width:20,height:20}):Object(n.jsx)(Nr.a,{})}),Object(n.jsx)(H.a,{item:!0,children:m?Object(n.jsx)(qr.a,{animation:"wave",width:20,height:20,style:{marginLeft:5}}):Object(n.jsxs)(Z.a,{style:{marginLeft:8},children:[" ",f.scoreMean]})})]}),Object(n.jsx)(H.a,{container:!0,alignItems:"center",justify:"center",className:e.spaceSecondData,children:m?Object(n.jsx)(qr.a,{animation:"wave",width:"50%",height:42,style:{marginLeft:5}}):r.user.uid===o?Object(n.jsx)(U.a,{variant:"outlined",size:"small",onClick:function(){c({type:D.ui.openModal,payload:"EditProfile"})},startIcon:Object(n.jsx)(ni.a,{}),children:"Editar perfil"}):r.user.contacts.includes(o)?Object(n.jsx)(U.a,{variant:"outlined",size:"small",onClick:S,startIcon:Object(n.jsx)(Li.a,{}),children:"Eliminar de mis contactos"}):Object(n.jsx)(U.a,{variant:"outlined",size:"small",onClick:k,startIcon:Object(n.jsx)(oc.a,{}),children:"Agregar a mis contactos"})}),Object(n.jsx)(br.a,{className:e.spaceData}),Object(n.jsxs)(H.a,{className:e.spaceData,children:[m?Object(n.jsx)(qr.a,{animation:"wave",width:"100%",height:40,style:{marginLeft:5}}):f&&f.institution&&Object(n.jsxs)(H.a,{container:!0,className:e.spaceSecondData,children:[Object(n.jsx)(H.a,{item:!0,children:Object(n.jsx)(lc.a,{className:e.spaceIcons})}),Object(n.jsx)(H.a,{item:!0,children:Object(n.jsx)(Z.a,{className:e.spaceFirstData,color:"textSecondary",children:f.institution})})]}),m?Object(n.jsx)(qr.a,{animation:"wave",width:"100%",height:40,style:{marginLeft:5}}):f&&f.city&&f.country&&Object(n.jsxs)(H.a,{container:!0,className:e.spaceSecondData,children:[Object(n.jsx)(H.a,{item:!0,children:Object(n.jsx)($i.a,{className:e.spaceIcons})}),Object(n.jsx)(H.a,{item:!0,children:Object(n.jsx)(Z.a,{className:e.spaceFirstData,color:"textSecondary",children:f.city+", "+f.country})})]}),m?Object(n.jsx)(qr.a,{animation:"wave",width:"100%",height:40,style:{marginLeft:5}}):f&&Object(n.jsxs)(H.a,{container:!0,className:e.spaceSecondData,children:[Object(n.jsx)(H.a,{item:!0,children:Object(n.jsx)(dc.a,{className:e.spaceIcons})}),Object(n.jsx)(H.a,{item:!0,children:Object(n.jsx)(Z.a,{className:e.spaceFirstData,color:"textSecondary",children:f.email})})]}),Object(n.jsx)(br.a,{className:e.spaceSecondData}),m?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(qr.a,{animation:"wave",width:100,height:20,style:{marginLeft:5}}),Object(n.jsx)(qr.a,{animation:"wave",width:"100%",height:40,style:{marginLeft:5}})]}):f&&f.description&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{color:"textSecondary",className:e.spaceSecondData,children:"Descripci\xf3n"}),Object(n.jsx)(Z.a,{children:f.description})]})]})]}),Object(n.jsx)(H.a,{item:!0,xs:12,sm:9,className:e.designPanel,children:Object(n.jsxs)(H.a,{className:e.spaceDesign,children:[Object(n.jsx)(Z.a,{variant:"h4",children:"Dise\xf1os P\xfablicos"}),Object(n.jsx)(br.a,{}),!b&&!m&&r.user.uid===o&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(gc,{})}),Object(n.jsx)(Jr,Object(E.a)(Object(E.a)({},h),{},{label:"user-profile",handleCreateDesign:y})),!b&&!m&&Object(n.jsx)(vc,{})]})})]})},kc=a(1307),Sc=a(1310),Cc=a.p+"static/media/logo_uct.2382bb18.png",Tc=a(1305),Nc=a(1306),Ec=a(1308),Dc=a(1309),Ac=a(1345),Ic=a(609),Rc=a.n(Ic),Pc=a(1301),Mc=a(624),Lc=a(299),Bc=a(297),Fc=a(298),zc=a(300),Hc=Object(r.createContext)();function Wc(){var e=Object(r.useContext)(Hc);if(void 0===e)throw new Error("useUserConfigState must be used within a UserConfigProvider");return e}var Zc=function(e){var t=e.children,a=x().authState,i=Object(r.useState)({darkTheme:!1,modeAdvanced:!1}),c=Object(p.a)(i,2),s=c[0],o=c[1];Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("darkTheme"));null!==e&&o((function(t){return Object(E.a)(Object(E.a)({},t),{},{darkTheme:e})}))}),[]),Object(r.useEffect)((function(){null!==a.user&&localStorage.setItem("darkTheme",JSON.stringify(s.darkTheme))}),[a.user,s.darkTheme]);var l,d=(l=s.darkTheme,Object(Mc.a)({palette:{type:l?"dark":"light",primary:{main:l?Lc.a[200]:Lc.a[500],dark:l?"#5d99c6":"#0069c0",light:l?"#c3fdff":"#6ec6ff"},secondary:{main:l?Lc.a[300]:Lc.a[400],dark:l?"#2286c3":"#0077c2",light:l?"#9be7ff":"#80d6ff"},text:{primary:l?"#F4F4F4":"#0a1319"},background:{default:l?"#0a1319":"#f0f7ff",paper:l?"#0a1319":"#f0f7ff",workSpace:l?"#060e16":"#e8eff7",navbar:l?"#0f1c26":"#dce7f4",design:l?"#0a1319":"#f0f7ff",designHover:l?"#091421":"#e8eff7"},error:{main:l?Bc.a[400]:Bc.a[500]},info:{main:Lc.a[300]},warning:{main:l?Fc.a[700]:Fc.a[900]},success:{main:l?zc.a[300]:zc.a[400]}}}));return Object(n.jsx)(Hc.Provider,{value:{userConfig:s,setUserConfig:o},children:Object(n.jsx)(Pc.a,{theme:d,children:t})})},Uc=a(1303),Gc=a(1304),qc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ0AAAEOCAYAAACThkKmAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB9sBGBUMBdrSypQAAAAdaVRYdENvbW1lbnQAAAAAAENyZWF0ZWQgd2l0aCBHSU1QZC5lBwAAFUZJREFUeNrtnU9W20gXR3/SicemV4BZAbACzMwTH5IVACsAViC0gsAKcFbQcDTxLMoK4qyglRW0M/ZA30Cl/hTHgGRbpZJ07zmc7vyzrZJ0/d6rpyovTVNBN/Gm4dj878j8rP9//uvDDf/8PI2CmFGEdT4wBK0Xw0jS2Nz8J5IOJJ0xMoA04DWuJAVt/fCruTeSdDCYpAtOJdIAO7T9ZruSFKzmniR9kxSbY4oHk3TJ6UUagDTe4qyYWq3m3g8jkXgwSZ851W7gMwTtJo2CRFJXv5GPJd1I+ns199LV3ItXc+/WpDSANGAHXnpynGeSPkv6ZzX3FkYgJ5x+pAHV6WPofmwE8n019xIiEKTRerxpeOJNwwNLKcpzh1OUMhwWIpB4NfeuVnPvgKsQabRBFAfeNLzypuFC0ndJtxbf/pEz8F8K8yTp39Xcm5G+IA1XZTHypuFMUmIu2GPzRzYv2IeeRxubuDTpy2I1964YDqThgizG3jSMJf1jLtDh2l+xJo00CpZEG69yLOlpNfeWq7l3T+qCNJqQRZ6CfNXbLduHps3bljju1a2+jX0zVNY9m6cuI4YEadiQxXoK8h4fLX/Ma9KU0qnLP9Q9kIYNWRxW/Odjm581jYKFpDvOWiV5fCfyQBouyCLnwtbUa0EcMxNxwHaRB/JAGpVlkRc4d5FFkykK4thdHg8UTJFGWWE86/0CZ1VumziWgjiocVTnRlKymnu3DAXSeI86brBjm7MoG8RxLmZVtmEo6bNpUx8zHEjjNeKaXve+qQNKo2CRRsGp+QxEHdU5lPR1NfeeqXcgjU3U9fDXR9sF0Q3yCCUdIY+tuZC06HvKgjT+vLGWqudR86Eaqm2sH18aBWEaBX8pK9DOlLW/Q7WUZdHX/g6kYTfauG062lgTyEsaBddpFByZCGRsopB7RPIux8r6O+77duAeWxhsGJTsxv63ppd/TKOAirzB3HRByw/jh6SrviyOTKRhN0WRpJumZlKg1qgj7kutA2m8zqylrw3NkNc64q43hSGN16ON5xrz+jNvGn5klDvJmbKmsDHS6Cdf6ow2XCqKwt6jjq9dLZIijbepczWsofq5IHCfCExDWKe+HJDG2ylKnQXRPE1hJqXb5A1hnenpQBrvU3eI+bmwuzt0k0NlsyudqGMhjfejjUT11jYk6dmbhqwe1W2GynaKa31kiTTciDaGojDaFz6v5t4MaVjGm4ZWH/4y0UZY89scS4oRRy+4bHM/R+uk4U3DK0l/S7qy/NY29hVBHP3hTFmdo3XnulXSMMJ4Mr+0Kg0zk2JjwV7E0R/y9vNW1bNaIw1vGj4UhCFlq2FZHWyzClZsURwj7ivEgTS2E8ZM2ZqN6zRRib6zeDEtmFXpBcM2icN5aRhhXL7yx5e2v43NviKhxYvpOw1giANp7EcYOVe2P1cD2x9+9qbhM3UOxIE0dheG1NxqWLa3BriQlNA9ijiQxm7CyAfZevje0PaHQ0lfiToQB9L4XRi3FYTRaLRhZlNmDQxTHnXcIw/E0WtpmD6Mz1sOcFPFwjs1sxHRUNnamgszbtBNcTj3aL0zCwuvNW5twy9JI9OEZfuzjyR9l9Tkyf2lrGv1oYkx2JaOLCxcNz8kjQeT1Inz6jsijPGOwmg02jDPppyr2Q2I8sjjX28azlhOsFMcy05TYTsiDdO8FJuLfh/ftqOmvmnNjfq3QxfbL2Wrgz1Lil2MQIg0KvFlMEmvei0NU8SLjUn3NrBpFFw1eEy7pll1h7mx+UnMDBDSaBfhYJLe91kaiz0LI+c8jYIYcZQWyVLZyutJ4fdnJu1CGu5xPZiks6be/EODN9Z9TcKQskVzxk0dWxoFM28aqiXiyM/B2drvx2JrRld5Ws29RVM7ujVZCK0zEmh8wV7Tw3HN9Q010dhUrN/gTRXXLI7GG58K4lhyjcOeOVRDW2A0PeVa59OiQzmw/aERR9PTsdBNzlZz76FX0rAQbVy40K9gZilO1UznKHSbG9tbI7jQ3FX32hQzF1bAKjSAsasa7P0aX809a9e478DNVHe04USaYo51mUbBJzX3nAx0E6vXuCsPrNU9y3BmpnidII2CR5OuJFzvsK9r3NaG074jN1Gi+ncxC1xab7NQ53jgeod9XeOruTfuS6QhE7LXPcPg1OI1Jl25U1brIOqAfTCru3/Dd+kGUv1F0cbmtt859jiNgiNlnaxMzcKu13itaYrv2M3zoPqnJc/MHirOkUZBaFKWGdc+7MBNnWmKi2uE2lh388bV1a7SKEjSKLg28oi5/sG1NMV38KaJJT1aeKsnl1f2TqNgkUbBuejtAMfSFFe3MLiXncLgs+s7mJl6xydJRyZtoeYBVdKUvV/fvqM3ylJ2nhAdKtsz1fldrQppy5GymSZa0qEMe6/f+Q7fJLbSlKGyVvNWbAVgpmkf0yg41f/7PBLuDXiFs9Xcu+qFNCynKfku7a3aQ8TUPe7MdO2pGS8iEPgj2thnUdR3/Kawlaa0VhxrAglNBPKXpI8mCom5Z3rPUHssijqz78mbHzJ7bsTWOpI/JI3btHdIyTE8UVZRPzE/B4X/bsLKOqusEWqVo8EkTXohDXPRf5W9dT87KY53xnd9jdAfNo7fPNJ9yP0sWYgKXwaT9GOfpHEg6R/Z28XslxEHNQKwwmru2bgZzweTdCc5+W0ZUPOt98lyHtiK6ViACtzv+gJ+m47W5Nh3Ft8yF8cV1xp0hLNdlwf023bE5qG2mWVxPDW9JQLAHtmp4ctv6UHfyX4/wmezsfIB1xy0nMNdGr62koY3DcfeNGysp8HUN5rYFuDSpCsjrjtoOXaloayYcqYGl6prUBzHkhYubI0AsANn2665UXnK1TxO/rXwW01vtrz+eWzyKOm+T/0cUB+WplyLfBtM0sri2CbSWC8INprnG2E1tWfqjZiWhZ5FG5WkYXL5i7Xfrn1NwhLimDUojmNJ313aIgFghyBg75HGazfGTdOrYDmwS3vgTcOFy6uBAWzgourubKWlYVKQyzf+ysyRXdrDBj/CsaSv3jR8YGoWuhptVIk0rt7580O5sUv7vQOf40ZSQicptISrKuttVJFGGRtduHCjmGXxmu7gzDtJSVnAdYaq0LdRasrV9CT8XfI1nXk61AjsyZET803Z9GzMNQqbaGDKtciPwSQtNQtYNtKoEj24tEv7TM0WR4ucKat3zIg8wEGOy65c/q40TEHvouoH8Kaha+JwpQHr0sgjRh7gGKVS+jKRxrY1iktXCoFGHE20nJeJPBYUTMERPpYpiL5b0/Cm4ULZVOI2OLX6lencfFK2NqZr/FS2k9pDGgUJ12//aLimkXM9mKSzraVhbrLve7gZTlx5PsOkW18dFUfON2V1oWeea0Ealnl3HdH3pPGgrOdgV36kUeDUTepNw6cdUi+bfDERSIxAkIYl/hpM0uW20ki0v5Wiv6RR4NRN6tiUbKlvgYJASGGQRiMpyqvS2FNq8seHMUVJl8RxoqwHZdSya+ynsiXvnyUtkAjSsJWivCWNfaUmbRDHgYk42rywzk9lSyAujEwWpDNIo44U5S1p7DM1KeLsfiLeNLxR9iRvVx42+2UkkpifhbJp5yX7uSCNbVOUjdIw62b8U/PF7Ko4XJ6WrVMs6yzSKLi1cKNcqR0FaRucOfRZXk1RPrzyD+oO0/P9REauhdBGZKfeNAzU8OJClhg2fLGOHLtZIGP82h/4DUmjKA4nU4E0CkJJp7K/VQKAE18mr22q5G8Izw8smv/YcXEs0ig4NREHRUUg2ngl0hhb/mBOi2Mt6oi5jqBHlIs0GpBGW8SRpFFwruzBt4TrCXrA4ab1Q12RRivEYeQRp1FwRMoCfU1RfpOGuWGPG/yArRBHIWXJ5QHQT2k0GGW0VRzLgjxmXF+ANBBHWXkkZjFj5AFd44+6xro0XOqCzDdabk1n5po8HkTNA7rByVvScK0z71At3CvVyOPOyONW7ZxtSbhX4E1pOLzIbd45etW2kTY1j0cz2/JR2WPsSAPaxvi1SMPlb/N846Hbto56GgUvaRR8KqQu3JTQ+vRk1IIP/9mVrRF2TV1M9HGurHBK7QNcZlgshrYl0ihyaZb9b/2aF6ZR7DqNgr9M+oJAwPlooyiNNj2e3LqZlZLpS1EgpDDgrjTMojtt41DS9y5uNGQEkqcwR8oWqZkhEXBBGvkiPKMWH8yTmfm57eKamGbB4ETZVga54M/MSTyROw150G1G69Jo+4V3KenEm4ZXXV/7cl0iRiRn5qSOzLkctfyLANwsCfwmjYOOHFTsTcP7NAoe+nQ20yj4pmxXNkkKCzI5UTZdfWLOcVEmiAUqsZp7o8EkTT6s5ystZ6hsWnYs6arvS/gXoq5vZf6+SX3yFeh/cpvAhhQl6UJNYxMXkhKTrjxzriunPgCbGEuK8ynXww4e4FDS3940nHWhpwPAFfyWTrdW4VJZT8dHTjfATpxIWZ/GqAcHe2iijmeiDoCtOcil0SfyWsct5x+gMqNcGuOeHXg+w7JweDkAAFcj9t5FGkWOJX01hdIR1wNAOXyG4L9C6T31DoC3Wc29UR/Tk9dSlkCmt4PhAHiVEZHGn/J48qYh8gAgPanEIfIAQBrIA2B3Tj6IJx2ryONe2Ypas74/DAe95cBXN587qVMen5UVTB+YqgXSEyjLUNKNpH9MazrPtUBv+MAQ7MyFpAtvGv5Uto7nzDxiDoA04N3UJZAUeNPwRdluas/UPoD0BMpGH0/Kah8z0hcg0oCyDJW1qV960/BXIfpgNTFAGlBJIJKUpzAxNRBAGlA2hbmQJG8a/pAU5z/UQQBpwHscm5+bDRJZEIkA0oCqEvkpaWF+YkkJIoEmpbFUNzZL6jKH5udC2bSuTGE1F8kSmYBNafxQu3aMh4yhOW/5uctlIkm/CjLJN0xK9P89TZALbMuS9KTbQpGJTv7AyGWdnwWxzNIomDGUsMYCacCmNEgm3QH4AzpCAaCyNBYMAwCUJPGVFcsAAN5lMEkT0hMAqJyexAwDAJRJTXJpAACU4WcujYSxAIASLCXJpzMQAEqyKKYniAMASuEXcxUAgDeIi9KgwQsA3iMpSoMGLwB4k8Ek/U0aMUMCAG/wXzZCIRQAyvDzN2kw7QoAVSMNSfrGuABAFWkwgwIAlaRBigIAm1jmMydEGgBQhh/FX/wnjTQKYsYGADYQb5SGgWIoAKyzeEsapCgAUEkapCgAUCQpFkGRBgC8xx8li9+kkUbBkhQFAN4KJPwyZgEApPGWNEhRAEDaUM9AGgDwFi+bfvMPaZi6BikKAMSlpGF4ZrwAes1yMEmfkQYAlOXVbGOjNMyiPAnjBtBbnitJw/DCuAEgjSrSmDFuAL3kZTBJl5WlkUbBghQFgCijSqRBigKANCpLgxQFgNSkvDRMisIDbABEGaUjDUn6wjgC9ILlvqRBigJAalJeGuZZFAqiAN3nocxf8vf5YgDQWhaDSVqqfllKGmZ7g4RxBegspWuXfoUXfWRcATrJUhVql1WkMTMvDgDdolQBtLI0KIgCdJb7Kn/Zr/PFAaAVUUZSmzTMOhtEGwDdofLMqG/jTQDASeLBJI1rl4aZfo0Zb4DWE27zj3ybbwYA7Y4ytpYG0QZA69n6QVR/hzcl2gBoJ8lgks6sS4NoA6C13O3yj/0d35xoA6BdxK9tgmRFGkQbAK1j5y96fw8f4przANAKnredMdmrNEyXKEsCArjP3T5exN/Th7kVT8ACuMxj1WdMapWGeQKWoiiAmyy1x4dN9xVpKI2CB7HdAYCTaUmV9TKsSWOfORMA7I14l0au2qVhpmApigI4FGXs+wX9Gj4kRVEAN3gsu8J4o9IwRVF6NwCaJVFNK+3VEWkojYJnldjeDQBq43qfxc/apZF/aNIUgMbSkriuF69NGqQpAN1KS2xEGqQpAB1KS6xIo5CmJJxLgNoJ60xLrEmDNAXACvFgkt7beCMbkUbe9MWzKQD1YPWL2bf1RmkU3IsFewBqKQHs6wlWp6Rh+CSmYQH2yeOuy/c5LQ1T3zjnPAPshXgwSW9tv6ntSENpFCxEYRRgVxITuVvHb+JN0yiYSZpx3gG2T/Xr7sdwShpGHNdi0R6Abbiu4+lV56VhOEccAJUI972oTqukUWj8YkYF4H1mthq4XI408sLoOeIAeJPFYJI6MYHgu/AhjDhYXxTgFWHIoVYF35UPYmZUmIoF+J1E0nlTMyVOS6MgDiIOgIylGpxabYU0jDgeRA8HwNJEGM7NLvoujpbp4UAcgDAcxHd11BAHIAw38V0ePcQBCANpbCuOe64nQBhIo4o4QjEdCwgDaVQUxwxxQAdZtEkYrZLGmjhoOQeEgTQqiYNnVaDtxHKs07Oz0jDiyHvxeawe2shsMElbKYzWSgNxQIu5deVp1d5Jw4gjX6h4xrUIjpM/R/LY9gPx234AaRQsTS8HMyvgKomy+kUn9jX2u3JWTIH0VBRIwS2eJZ22bYakF9Iw4lhIOhJ1DnCD+8Ek/dTWgmcvpFFIV05F6zk0R97h2cn9i/2unjXTen5u8kkAW8SSjgaTNO7qAfpdPntmt/pTk1cC1B1d3La5/wJp/J6ufBLt51AfeTv4Yx8O1u/LWS3MrsRc47BH7geTtFOzI0jjd3EkaRScS7oi6oA9RBenXS12Io0/5fFF2dQstQ6oSl676FV00XtpGHHktY5PYoYFypE3aj32eRD8vl8FaRQ8p1FwpKyvg5QFNpEoK3R+GkzS3n/B+FwP/8kjNCnLjNGAtVSk030XSGP3lOVazLKA9KCsSeuRoUAaZeSxMLMs58ijd8yMLO663qSFNOqRR1yQR8KI9EIW19QtkMa+5HGkrL+DC6p7sjhFFkijLnl8MfIgbelWZMFSChX4wBBsF3lIir1peCLpxkQg4D5LZQXOL0QVSKMpeSwkXXvTMDTy+ChpxMg4x0LSw2CSfmEokIYr8kgk3Um686bhhYk8PjIyTqQgj6QfSMN1gbxIevGm4UjSpRFIG6OPtkZMsZHFC1OmSKON0UcoKTS1j8uWpS9tkkairFbxQq0CaXRFIAuTV98VBHIl6YDR2ZqFiSi+kX4gjT4KZCzphNEplXo8E1EgDQQiyZuGB5IujEDGYhYmjyZiSfFgkr4wHEgDfhfIUtIX8yNTSD0rRCF9iERi87MwaQeFTAfx0jRlFNpworJI5LggkVHNIvmWRsG47uNazb2RpAPqEkgD7MnkRNJhQSS5THYtslqRBiANcE8oQyOQPCrJxVJkjDSgLP8Dkb6h41xEexQAAAAASUVORK5CYII=",Qc=a(1302),Vc=Object(F.a)((function(e){return{close:{position:"absolute",top:5,right:5,padding:15},header:{display:"flex",justifyContent:"center",alignItems:"center"},dialogContent:{padding:20}}})),Kc=i.a.memo((function(e){var t=e.isOpen,a=e.handleClose,r=e.maxWidth,i=void 0===r?"sm":r,c=e.title,s=void 0===c?"":c,o=e.subtitle,l=void 0===o?"":o,d=e.image,u=e.content,j=e.actions,p=Vc();return Object(n.jsxs)(Ai.a,{fullWidth:!0,maxWidth:i,open:t,onClose:a,children:[Object(n.jsxs)(Ii.a,{className:p.header,disableTypography:!0,children:[Object(n.jsx)(Sr.a,{className:p.close,onClick:a,color:"inherit",size:"small",children:Object(n.jsx)(Qc.a,{})}),Object(n.jsxs)(H.a,{container:!0,spacing:1,children:[Object(n.jsx)(H.a,{item:!0,xs:12,children:d}),Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)(Z.a,{align:"center",variant:"h5",component:"p",children:s})}),Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)(Z.a,{align:"center",variant:"subtitle1",component:"h1",children:l})})]})]}),Object(n.jsx)(Ri.a,{className:p.dialogContent,children:u}),j&&Object(n.jsx)(Mi.a,{children:j})]})})),Jc=Object(F.a)((function(e){return{margin:{margin:e.spacing(1)},form:Object(N.a)({display:"flex",flexDirection:"column",marginLeft:"10%",marginRight:"10%",width:"80%",overflow:"auto"},e.breakpoints.down("xs"),{marginLeft:0,marginRight:0,width:"100%"}),logo:{display:"block",marginLeft:"auto",marginRight:"auto",width:"30%",marginTop:15,marginBottom:15},footer:{display:"flex",flexDirection:"column",width:"100%",justifyContent:"center",alignItems:"center",paddingTop:30,paddingBottom:15},link:{marginTop:10,marginBottom:10},"@global":{"*::-webkit-scrollbar":{width:"0.4em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)"},"*::-webkit-scrollbar-thumb":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)",borderRadius:"15px",backgroundColor:"rgba(0,0,0,.1)"}}}})),Xc={emailError:null,passwordError:null},Yc=function(){var e=Jc(),t=Object(B.g)(),a=R(),i=a.uiState,c=a.dispatch,s=x().login,o=Object(r.useState)(Xc),l=Object(p.a)(o,2),d=l[0],m=l[1],b=Object(r.useState)(!1),f=Object(p.a)(b,2),g=f[0],h=f[1],O=Object(r.useState)(!1),v=Object(p.a)(O,2),y=v[0],w=v[1],k=jc({email:"",password:""}),S=Object(p.a)(k,3),C=S[0],T=S[1],A=S[2],I=C.email,P=C.password,M=d.emailError,L=d.passwordError,F=function(e){h(null),m((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(N.a)({},e.target.name+"Error",null))})),T(e)},z=function(){var e=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Object.keys(C).map((function(e,t){return""===C[e].trim()?(m((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(N.a)({},e+"Error","Este campo es requerido."))})),!1):(m((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(N.a)({},e+"Error",null))})),!0)})).reduce((function(e,t){return e&&t}))){e.next=3;break}return e.abrupt("return");case 3:if(/^[-\w.%+]{1,64}@(?:[A-Z0-9]{1,63}\.){1,125}[A-Z]{2,63}$/i.test(I)||(m((function(e){return Object(E.a)(Object(E.a)({},e),{},{emailError:"El correo debe tener la siguiente estructura: example@example.com"})})),0)){e.next=5;break}return e.abrupt("return");case 5:if(P.length>=8&&P.length<=16||(m((function(e){return Object(E.a)(Object(E.a)({},e),{},{passwordError:"La contrase\xf1a debe tener entre 8 y 16 caracteres."})})),0)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,s(I,P);case 9:(a=e.sent).ok?H():h(a.message);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){c({type:D.ui.closeModal,payload:"Login"}),A(),m(Xc),w(!1),h(null)};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Kc,{isOpen:i.isLoginModalOpen,handleClose:H,title:"\xa1Bienvenido!",subtitle:"Completa los campos para ingresar con tu cuenta",image:Object(n.jsx)("img",{className:e.logo,src:qc,alt:"Logo"}),content:Object(n.jsxs)("form",{className:e.form,onSubmit:z,noValidate:!0,children:[g&&Object(n.jsxs)(Gr.a,{severity:"error",variant:"outlined",children:[" ",g]}),Object(n.jsx)(Pi.a,{error:!!M,helperText:M,margin:"dense",variant:"outlined",name:"email",value:I,onChange:F,label:"Email",type:"email",fullWidth:!0}),Object(n.jsx)(Pi.a,{error:!!L,helperText:L,margin:"dense",variant:"outlined",name:"password",value:P,onChange:F,label:"Contrase\xf1a",type:y?"text":"password",fullWidth:!0,InputProps:{endAdornment:Object(n.jsx)(Sr.a,{style:{height:40,width:40},onClick:function(){w(!y)},onMouseDown:function(e){e.preventDefault()},children:y?Object(n.jsx)(Uc.a,{}):Object(n.jsx)(Gc.a,{})})}}),Object(n.jsxs)("div",{className:e.footer,children:[Object(n.jsx)(U.a,{variant:"outlined",type:"submit",fullWidth:!0,children:"Iniciar Sesi\xf3n"}),Object(n.jsx)("div",{style:{paddingTop:20},children:Object(n.jsx)(Or.a,{href:"#",align:"center",variant:"body1",onClick:function(e){e.preventDefault(),c({type:D.ui.closeModal,payload:"Login"}),t.push("/reset-password")},children:"\xbfOlvidaste tu contrase\xf1a?"})}),Object(n.jsx)("div",{style:{paddingBottom:15,paddingTop:10},children:Object(n.jsx)(Or.a,{href:"#",variant:"body1",onClick:function(e){e.preventDefault(),H(),c({type:D.ui.openModal,payload:"Register"})},children:"\xbfNo tienes cuenta? Reg\xedstrate"})})]})]})})})},_c=Object(F.a)((function(e){return{form:{display:"flex",flexDirection:"column",marginLeft:"10%",marginRight:"10%",width:"80%"},logo:Object(N.a)({display:"block",marginLeft:"auto",marginRight:"auto",width:"20%",marginTop:15,marginBottom:15},e.breakpoints.down("xs"),{width:"35%"}),footer:{display:"flex",flexDirection:"column",width:"100%",justifyContent:"center",alignItems:"center",paddingTop:30,paddingBottom:15},"@global":{"*::-webkit-scrollbar":{width:"0.4em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)"},"*::-webkit-scrollbar-thumb":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)",borderRadius:"15px",backgroundColor:"rgba(0,0,0,.1)"}}}})),$c={nameError:null,lastnameError:null,emailError:null,passwordError:null,confirmPasswordError:null},es=i.a.memo((function(){var e=_c(),t=R(),a=t.uiState,i=t.dispatch,c=x().register,s=Object(r.useState)(null),o=Object(p.a)(s,2),l=o[0],d=o[1],m=Object(r.useState)($c),b=Object(p.a)(m,2),f=b[0],g=b[1],h=jc({name:"",lastname:"",email:"",password:"",confirmPassword:""}),O=Object(p.a)(h,3),v=O[0],y=O[1],w=O[2],k=v.name,S=v.lastname,C=v.email,T=v.password,A=v.confirmPassword,I=f.nameError,P=f.lastnameError,M=f.emailError,L=f.passwordError,B=f.confirmPasswordError,F=function(){i({type:D.ui.closeModal,payload:"Register"}),w(),g($c),d(null)},z=function(e){d(null),g((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(N.a)({},e.target.name+"Error",null))})),y(e)},H=function(){var e=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Object.keys(v).map((function(e,t){return""===v[e].trim()?(g((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(N.a)({},e+"Error","Este campo es requerido."))})),!1):(g((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(N.a)({},e+"Error",null))})),!0)})).reduce((function(e,t){return e&&t}))){e.next=3;break}return e.abrupt("return");case 3:if(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,16}$/.test(T)?T.trim()===A.trim()||(g((function(e){return Object(E.a)(Object(E.a)({},e),{},{passwordError:"Las contrase\xf1as no coinciden.",confirmPasswordError:"Las contrase\xf1as no coinciden."})})),0):(g((function(e){return Object(E.a)(Object(E.a)({},e),{},{passwordError:"La contrase\xf1a debe tener al menos un car\xe1cter en min\xfascula, uno en may\xfascula, un n\xfamero y debe tener entre 8 y 16 caract\xe9res de longitud."})})),0)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,c(v);case 7:(a=e.sent).ok?F():d(a.message);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(Kc,{isOpen:a.isRegisterModalOpen,handleClose:F,title:"\xa1Bienvenido!",subtitle:"Completa los campos para registrar tu cuenta",image:Object(n.jsx)("img",{className:e.logo,src:qc,alt:"Logo"}),content:Object(n.jsxs)("form",{className:e.form,onSubmit:H,noValidate:!0,children:[l&&Object(n.jsx)(Gr.a,{severity:"error",variant:"outlined",children:l}),Object(n.jsx)(Pi.a,{variant:"outlined",error:!!I,helperText:I,margin:"dense",name:"name",value:k,onChange:z,label:"Nombres",type:"text",fullWidth:!0}),Object(n.jsx)(Pi.a,{variant:"outlined",error:!!P,helperText:P,margin:"dense",name:"lastname",value:S,onChange:z,label:"Apellidos",type:"text",fullWidth:!0}),Object(n.jsx)(Pi.a,{variant:"outlined",error:!!M,helperText:M,margin:"dense",name:"email",value:C,onChange:z,label:"Email",type:"email",fullWidth:!0}),Object(n.jsx)(Pi.a,{variant:"outlined",error:!!L,helperText:L,margin:"dense",name:"password",value:T,onChange:z,label:"Contrase\xf1a",type:"password",fullWidth:!0}),Object(n.jsx)(Pi.a,{variant:"outlined",error:!!B,helperText:B,margin:"dense",name:"confirmPassword",value:A,onChange:z,label:"Repetir contrase\xf1a",type:"password",fullWidth:!0}),Object(n.jsxs)("div",{className:e.footer,children:[Object(n.jsx)(U.a,{color:"primary",variant:"outlined",type:"submit",fullWidth:!0,children:"Registrarme"}),Object(n.jsx)(Or.a,{href:"#",style:{paddingTop:20,paddingBottom:15},variant:"body1",onClick:function(e){e.preventDefault(),F(),i({type:D.ui.openModal,payload:"Login"})},children:"\xbfYa tienes cuenta?"})]})]})})})),ts=function(e,t){switch(t.type){case D.design.updateDesign:return Object(E.a)(Object(E.a)({},e),{},{design:t.payload});case D.design.changeMetadataField:return null!==t.payload.subfield?Object(E.a)(Object(E.a)({},e),{},{design:Object(E.a)(Object(E.a)({},e.design),{},{metadata:Object(E.a)(Object(E.a)({},e.design.metadata),{},Object(N.a)({},t.payload.field,Object(E.a)(Object(E.a)({},e.design.metadata[t.payload.field]),{},Object(N.a)({},t.payload.subfield,t.payload.value))))})}):Object(E.a)(Object(E.a)({},e),{},{design:Object(E.a)(Object(E.a)({},e.design),{},{metadata:Object(E.a)(Object(E.a)({},e.design.metadata),{},Object(N.a)({},t.payload.field,t.payload.value))})});case D.design.changeTaskField:var a=e.design.data.learningActivities;return a.forEach((function(e,n){e.id===t.payload.learningActivityID&&e.tasks.forEach((function(e,r){e.id===t.payload.taskID&&(null!==t.payload.subfield?a[n].tasks[r][t.payload.field][t.payload.subfield]=t.payload.value:a[n].tasks[r][t.payload.field]=t.payload.value)}))})),Object(E.a)(Object(E.a)({},e),{},{design:Object(E.a)(Object(E.a)({},e.design),{},{data:Object(E.a)(Object(E.a)({},e.design.data),{},{learningActivities:a})})});case D.design.setCurrentLearningResultField:return Object(E.a)(Object(E.a)({},e),{},{currentLearningResult:Object(E.a)(Object(E.a)({},e.currentLearningResult),{},Object(N.a)({},t.payload.field,t.payload.value))});case D.design.clearCurrentLearningResult:return Object(E.a)(Object(E.a)({},e),{},{currentLearningResult:{category:{_id:null,name:null},verb:null,description:null,editing:!1,index:null}});case D.design.setCurrentLearningResult:return Object(E.a)(Object(E.a)({},e),{},{currentLearningResult:t.payload});case D.design.setBloomCategories:return Object(E.a)(Object(E.a)({},e),{},{bloomCategories:t.payload});case D.design.setBloomVerbs:return Object(E.a)(Object(E.a)({},e),{},{bloomVerbs:t.payload});case D.design.setDesignPrivileges:return Object(E.a)(Object(E.a)({},e),{},{design:Object(E.a)(Object(E.a)({},e.design),{},{privileges:t.payload})});case D.design.addDesignKeyword:return Object(E.a)(Object(E.a)({},e),{},{design:Object(E.a)(Object(E.a)({},e.design),{},{keywords:[].concat(Object(xr.a)(e.design.keywords),[t.payload])})});case D.design.removeDesignKeyword:return Object(E.a)(Object(E.a)({},e),{},{design:Object(E.a)(Object(E.a)({},e.design),{},{keywords:Object(xr.a)(e.design.keywords.filter((function(e){return e!==t.payload})))})});case D.design.updateReadOnlyLink:return Object(E.a)(Object(E.a)({},e),{},{design:Object(E.a)(Object(E.a)({},e.design),{},{readOnlyLink:t.payload})});case D.design.setAssessments:return Object(E.a)(Object(E.a)({},e),{},{design:Object(E.a)(Object(E.a)({},e.design),{},{assessments:t.payload})});case D.design.setScoreMean:return Object(E.a)(Object(E.a)({},e),{},{design:Object(E.a)(Object(E.a)({},e.design),{},{metadata:Object(E.a)(Object(E.a)({},e.design.metadata),{},{scoreMean:t.payload})})});case D.design.commentDesign:var n=Object(xr.a)(e.design.comments),r=n.find((function(e){return e._id.toString()===t.payload._id.toString()})),i=n.indexOf(r);return r&&-1!==i?n[i]=t.payload:n.push(t.payload),Object(E.a)(Object(E.a)({},e),{},{design:Object(E.a)(Object(E.a)({},e.design),{},{comments:n})});case D.design.deleteComment:return Object(E.a)(Object(E.a)({},e),{},{design:Object(E.a)(Object(E.a)({},e.design),{},{comments:e.design.comments.filter((function(e){return e._id.toString()!==t.payload.toString()}))})});case D.design.reorderActivities:return Object(E.a)(Object(E.a)({},e),{},{design:Object(E.a)(Object(E.a)({},e.design),{},{data:Object(E.a)(Object(E.a)({},e.design.data),{},{learningActivities:e.design.data.learningActivities.sort((function(e,a){return-1===t.payload.indexOf(e.id)?1:-1===t.payload.indexOf(a.id)?-1:t.payload.indexOf(e.id)-t.payload.indexOf(a.id)}))})})});case D.design.reorderTasks:var c=e.design.data.learningActivities;return c.forEach((function(e,a){e.id===t.payload.learningActivityId&&c[a].tasks.sort((function(e,a){return-1===t.payload.newOrder.indexOf(e.id)?1:-1===t.payload.newOrder.indexOf(a.id)?-1:t.payload.newOrder.indexOf(e.id)-t.payload.newOrder.indexOf(a.id)}))})),Object(E.a)(Object(E.a)({},e),{},{design:Object(E.a)(Object(E.a)({},e.design),{},{data:Object(E.a)(Object(E.a)({},e.design.data),{},{learningActivities:c})})});case D.design.setConnectedUsers:return Object(E.a)(Object(E.a)({},e),{},{users:t.payload});default:return e}},as=Object(r.createContext)();function ns(){var e=Object(r.useContext)(as);if(void 0===e)throw new Error("useDesignState must be used within a DesignProvider");return e}var rs={design:null,users:[],currentLearningResult:{category:{_id:null,name:null},verb:null,description:null,editing:!1,index:null},bloomCategories:[],bloomVerbs:[]},is=function(e){var t=e.children,a=Object(r.useReducer)(ts,rs),i=Object(p.a)(a,2),c=i[0],s=i[1];return Object(n.jsx)(as.Provider,{value:{designState:c,dispatch:s},children:t})},cs=Object(F.a)((function(e){return{root:{},title:{color:e.palette.text.primary},logo:{height:e.spacing(4)},brand:Object(N.a)({marginLeft:10},e.breakpoints.down("xs"),{marginLeft:0}),search:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},searchInput:{width:"100%",height:40,"& fieldset":{borderTopRightRadius:0,borderBottomRightRadius:0}},searchButton:{borderTopLeftRadius:0,borderBottomLeftRadius:0,height:40},searchForm:Object(N.a)({width:"50%",display:"flex",alignItems:"center"},e.breakpoints.down("xs"),{width:"100%",padding:"0px 5px"}),btn:{margin:"0px 5px",height:35},userAndOptions:Object(N.a)({display:"flex",justifyContent:"flex-end",alignItems:"center"},e.breakpoints.down("xs"),{justifyContent:"center"}),navbarColor:{background:e.palette.background.navbar},navbarLetter:{textDecoration:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:e.palette.text.primary,cursor:"pointer"},menuOptions:Object(N.a)({marginRight:10},e.breakpoints.down("xs"),{marginRight:0})}})),ss=function(){var e=Object(l.b)(),t=Object(B.g)(),a=Object(B.h)(),i=Object(r.useState)(null),c=Object(p.a)(i,2),s=c[0],o=c[1],d=Object(z.a)(),m=Object(mr.a)(d.breakpoints.down("xs")),b=Wc(),f=b.userConfig,g=b.setUserConfig,h=R(),O=h.uiState,v=h.dispatch,y=x(),w=y.authState,k=y.logout,S=Object(r.useState)(""),C=Object(p.a)(S,2),T=C[0],A=C[1],I=ns().designState.design,P=function(){e.clear(),o(null),k()},M=function(){o(null)},L=function(e){g(Object(E.a)(Object(E.a)({},f),{},Object(N.a)({},e.target.name,e.target.checked)))},F=function(){var e=Object(j.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),T.trim().length>0&&(null===I||a.pathname.includes("reader")||a.pathname.includes("shared-link")||O.userSaveDesign?t.push("/users/search?q=".concat(T.trim())):(v({type:D.ui.openModal,payload:"CheckSaveDesign"}),v({type:D.ui.setHistoryInCheckSaveDesign,payload:{url:"/users/search?q=".concat(T.trim())}})),A(""));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(j.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),null===I||a.pathname.includes("reader")||a.pathname.includes("shared-link")||O.userSaveDesign?t.push("/profile/".concat(w.user.uid)):(v({type:D.ui.openModal,payload:"CheckSaveDesign"}),v({type:D.ui.setHistoryInCheckSaveDesign,payload:{url:"/profile/".concat(w.user.uid)}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(j.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),null===I||a.pathname.includes("reader")||a.pathname.includes("shared-link")||O.userSaveDesign?t.push("/"):(v({type:D.ui.openModal,payload:"CheckSaveDesign"}),v({type:D.ui.setHistoryInCheckSaveDesign,payload:{url:"/"}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){o(e.currentTarget)},V=cs(),K=function(){return Object(n.jsxs)(H.a,{item:!0,xs:m?6:12,sm:4,lg:2,className:V.userAndOptions,children:[Object(n.jsxs)(U.a,{size:"small",onClick:W,style:{display:"flex",alignItems:"center",textTransform:"none"},children:[Object(n.jsx)(G.a,{style:{display:"flex",alignItems:"center",marginRight:10,textAlign:"center",width:35,height:35,fontSize:16},alt:Dr(w.user.name,w.user.lastname),src:w.user.img&&w.user.img.length>0?"".concat("http://dma.uct.cl/","uploads/users/").concat(w.user.img):"",children:Ar(w.user.name,w.user.lastname)}),Object(n.jsx)(Z.a,{className:V.navbarLetter,children:Dr(w.user.name,w.user.lastname)})]}),Object(n.jsx)(Sr.a,{onClick:Q,className:V.menuOptions,children:Object(n.jsx)(Rc.a,{})}),Object(n.jsxs)(ei.a,{anchorEl:s,open:Boolean(s),keepMounted:!0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:M,children:[Object(n.jsx)(ti.a,{children:Object(n.jsx)(Tc.a,{control:Object(n.jsx)(Nc.a,{checked:f.darkTheme,onChange:L,name:"darkTheme"}),label:"Tema Oscuro"})}),Object(n.jsxs)(ti.a,{onClick:P,children:[Object(n.jsx)(ai.a,{children:Object(n.jsx)(kc.a,{})}),"Cerrar sesi\xf3n"]})]})]})};return Object(n.jsxs)("div",{className:V.root,children:[Object(n.jsx)(Ec.a,{position:"static",className:V.navbarColor,elevation:0,children:Object(n.jsx)(Dc.a,{style:{padding:0},children:Object(n.jsxs)(H.a,{container:!0,children:[Object(n.jsx)(H.a,{item:!0,xs:m?6:12,sm:3,lg:2,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},children:Object(n.jsx)(U.a,{size:"small",onClick:q,className:V.brand,children:Object(n.jsx)("img",{className:V.logo,src:Cc,alt:"Logo"})})}),m&&w.token&&K(),w.token?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(H.a,{item:!0,xs:12,sm:5,lg:8,style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(n.jsx)("div",{className:V.search,children:Object(n.jsxs)("form",{className:V.searchForm,onSubmit:F,noValidate:!0,children:[Object(n.jsx)(Ac.a,{className:V.searchInput,margin:"dense",variant:"outlined",name:"filter",value:T,type:"text",placeholder:"Buscar usuario",onChange:function(e){var t=e.target;A(t.value)}}),Object(n.jsx)(U.a,{variant:"contained",disableElevation:!0,color:"primary",type:"submit",className:V.searchButton,children:Object(n.jsx)(Sc.a,{})})]})})}),!m&&K()]}):Object(n.jsxs)(H.a,{item:!0,xs:12,sm:9,lg:10,className:V.userAndOptions,children:[Object(n.jsx)(U.a,{className:V.btn,variant:"contained",color:"primary",size:"small",onClick:function(){v({type:D.ui.openModal,payload:"Login"})},children:"Ingresar"}),Object(n.jsx)(U.a,{className:V.btn,variant:"outlined",color:"primary",size:"small",onClick:function(){v({type:D.ui.openModal,payload:"Register"})},children:"Registrarme"})]})]})})}),Object(n.jsx)(Yc,{}),Object(n.jsx)(es,{})]})},os=a(1311),ls=Object(F.a)((function(e){return{pos:{width:"fit-content"},footerColor:{background:e.palette.background.navbar}}})),ds=function(){var e=ls();return Object(n.jsx)(Ec.a,{position:"static",className:e.footerColor,children:Object(n.jsx)(os.a,{maxWidth:"md",className:e.pos,children:Object(n.jsx)(Dc.a,{children:Object(n.jsx)(Z.a,{variant:"body1",color:"textPrimary",children:"\xa9 2021 Universidad Cat\xf3lica de Temuco"})})})})},us=a(1329),js=Object(F.a)((function(e){return{leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},workspace:{paddingTop:20,paddingLeft:30,paddingRight:30,background:e.palette.background.workSpace,minHeight:"calc(100vh - 128px)"},rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},icon:{marginRight:10}}})),ps=function(){var e=js(),t=Object(fr.a)(["shared-designs"],function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pageParam,n=void 0===a?0:a,e.next=3,Lr(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{refetchOnWindowFocus:!1,getNextPageParam:function(e,t){if(e.nPages!==t.length)return e.from}});return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(H.a,{container:!0,children:[Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.leftPanel,children:Object(n.jsx)(Oi,{})}),Object(n.jsxs)(H.a,{item:!0,xs:12,md:6,lg:8,className:e.workspace,children:[Object(n.jsx)(Z.a,{variant:"h4",style:{marginBottom:5},children:"Compartidos conmigo"}),Object(n.jsx)(br.a,{}),Object(n.jsx)(Jr,Object(E.a)(Object(E.a)({},t),{},{label:"shared-with-me"}))]}),Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.rightPanel})]})})},ms=a(1336),bs=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("category");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error(t.message);case 5:return e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fs=a(1347),gs=Object(F.a)((function(e){return{keywordList:{width:"100%",display:"flex",justifyContent:"flex-start",height:48,mouseWheel:"horizontal",overflowX:"auto",overflowY:"hidden",listStyle:"none",padding:e.spacing(.5),margin:0},keyword:{margin:e.spacing(.5)},searchContainer:{display:"flex",alignItems:"center",marginBottom:15},input:{height:40,"& fieldset":{borderTopRightRadius:0,borderBottomRightRadius:0}},button:{borderTopLeftRadius:0,borderBottomLeftRadius:0,height:40},keywordFilter:{paddingLeft:0,backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius}}})),hs=function(e){var t=e.keywords,a=e.onChangeKeywords,i=gs(),c=Object(r.useState)(""),s=Object(p.a)(c,2),o=s[0],l=s[1],d=Object(r.useState)(null),u=Object(p.a)(d,2),j=u[0],m=u[1],b=Ci();return Object(n.jsxs)(W.a,{ref:b,component:"ul",className:i.keywordFilter,children:[Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o.trim().length&&!t.includes(o.toLowerCase())?(a([].concat(Object(xr.a)(t),[o.toLowerCase()]),"add",o.toLowerCase()),l("")):t.includes(o.toLowerCase())&&m("La palabra clave ya se encuentra agregada al filtro.")},className:i.searchContainer,children:[Object(n.jsx)(Pi.a,{className:i.input,size:"small",variant:"outlined",value:o,onChange:function(e){var t=e.target;l(t.value),j&&m(null)},label:"Palabra Clave",error:!!j,helperText:j,fullWidth:!0}),Object(n.jsx)(U.a,{variant:"contained",disableElevation:!0,color:"primary",type:"submit",className:i.button,children:"Agregar"})]}),Object(n.jsx)("div",{className:i.keywordList,children:t.map((function(e,r){return Object(n.jsx)("li",{children:Object(n.jsx)(fs.a,{label:e,onDelete:function(e){return function(e){e===t.length-1?a(Object(xr.a)(t.slice(0,e)),"remove",t[e]):a([].concat(Object(xr.a)(t.slice(0,e)),Object(xr.a)(t.slice(e+1,t.length))),"remove",t[e])}(r)},className:i.keyword})},"keyword-".concat(r))}))})]})},xs=Object(F.a)((function(e){return{leftPanel:Object(N.a)({display:"flex",flexDirection:"column",justifyContent:"stretch",borderRight:"1px solid ".concat(e.palette.divider),position:"relative"},e.breakpoints.up("sm"),{height:"calc(100vh - 128px)"}),workspace:{paddingLeft:30,paddingRight:30,background:e.palette.background.workSpace,minHeight:"calc(100vh - 128px)"},rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},icon:{marginRight:10},sectionTitle:{marginTop:20,marginBottom:20},category:{width:"100%",paddingLeft:20},categoriesContainer:Object(N.a)({},e.breakpoints.up("sm"),{overflow:"auto",overflowX:"hidden"}),keywordList:{display:"flex",justifyContent:"flex-start",height:48,mouseWheel:"horizontal",overflowX:"auto",overflowY:"hidden",listStyle:"none",padding:e.spacing(.5),margin:0},keyword:{margin:e.spacing(.5)},searchContainer:{display:"flex",alignItems:"center",marginTop:20,marginBottom:15},input:{height:40,"& fieldset":{borderTopRightRadius:0,borderBottomRightRadius:0}},button:{borderTopLeftRadius:0,borderBottomLeftRadius:0,height:40},keywordFilter:{paddingLeft:0,backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius}}})),Os=function(){var e=xs(),t=Object(r.useState)(""),a=Object(p.a)(t,2),i=a[0],c=a[1],s=Object(r.useState)(""),o=Object(p.a)(s,2),l=o[0],d=o[1],m=Object(r.useState)([]),b=Object(p.a)(m,2),f=b[0],g=b[1],h=Object(r.useState)([]),x=Object(p.a)(h,2),O=x[0],v=x[1],y=Object(gr.a)("categories",Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bs();case 2:return t=e.sent,g(t.categories.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{selected:!1})}))),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}),w=Object(fr.a)(["filtered-designs",l].concat(Object(xr.a)(O),Object(xr.a)(f)),function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pageParam,n=void 0===a?0:a,e.next=3,Mr(i,O,f.filter((function(e){return e.selected})),n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{refetchOnWindowFocus:!1,getNextPageParam:function(e,t){if(e.nPages!==t.length)return e.from}}),k=function(){d(i)};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(H.a,{container:!0,children:[Object(n.jsxs)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.leftPanel,children:[Object(n.jsx)(Oi,{}),Object(n.jsx)(Z.a,{style:{marginTop:20,marginLeft:20},children:"Categor\xedas"}),Object(n.jsx)("div",{className:e.categoriesContainer,children:y.isLoading?Object(xr.a)(Array(10).keys()).map((function(e){return Object(n.jsxs)("div",{style:{margin:10,display:"flex",alignItems:"center"},children:[Object(n.jsx)(qr.a,{style:{borderRadius:4,marginRight:5},variant:"rect",height:20,width:20,animation:"wave"}),Object(n.jsx)("div",{style:{width:"100%"},children:Object(n.jsx)(qr.a,{style:{borderRadius:4},variant:"rect",height:20,animation:"wave"})})]},"category-skeleton-".concat(e))})):f&&f.map((function(t,a){return Object(n.jsx)(Tc.a,{className:e.category,control:Object(n.jsx)(ms.a,{checked:t.selected,onChange:function(e){return function(e){var t=Object(xr.a)(f);t[e].selected=!t[e].selected,g(t),k()}(a)}}),label:t.name},t._id)}))})]}),Object(n.jsxs)(H.a,{item:!0,xs:12,md:6,lg:8,className:e.workspace,children:[Object(n.jsxs)("div",{className:e.sectionTitle,children:[Object(n.jsx)(Z.a,{variant:"h4",children:"Buscar Dise\xf1o"}),Object(n.jsx)(br.a,{})]}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),k()},className:e.searchContainer,children:[Object(n.jsx)(Pi.a,{className:e.input,size:"small",variant:"outlined",value:i,onChange:function(e){var t=e.target;return c(t.value)},label:"Nombre/Propietario",onBlur:k,placeholder:"Ingresa el nombre o propietario para buscar dise\xf1os",InputProps:{endAdornment:i.trim().length?Object(n.jsx)(Sr.a,{size:"small",onClick:function(){c(""),d("")},onMouseDown:function(e){return e.preventDefault()},children:Object(n.jsx)(Li.a,{})}):Object(n.jsx)("div",{})},fullWidth:!0}),Object(n.jsx)(U.a,{className:e.button,variant:"contained",color:"primary",type:"submit",disableElevation:!0,children:"Buscar"})]}),Object(n.jsx)(hs,{keywords:O,onChangeKeywords:function(e,t,a){v(e)}}),Object(n.jsxs)("div",{className:e.sectionTitle,children:[Object(n.jsx)(Z.a,{variant:"h4",children:"Repositorio P\xfablico"}),Object(n.jsx)(br.a,{}),y.isError?Object(n.jsx)(Z.a,{children:y.error.message}):w.isError?Object(n.jsx)(Z.a,{children:w.error.message}):Object(n.jsx)(Jr,Object(E.a)(Object(E.a)({},w),{},{label:"public-repository"}))]})]}),Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.rightPanel})]})})},vs=a(610),ys=a.n(vs),ws=Object(F.a)((function(e){var t,a,n;return{root:{display:"flex",width:"100%",padding:5,borderRadius:10,marginTop:10,backgroundColor:e.palette.background.design},card:{display:"flex",width:"100%"},body:{width:"100%",display:"flex",marginLeft:10,marginRight:10,flexDirection:"column",justifyContent:"flex-start"},photo:{margin:10,width:e.spacing(8),height:e.spacing(8)},name:(t={width:"50%"},Object(N.a)(t,e.breakpoints.down("sm"),{width:"70%"}),Object(N.a)(t,e.breakpoints.down("xs"),{width:"100%"}),t),location:(a={width:"35%"},Object(N.a)(a,e.breakpoints.down("sm"),{width:"50%"}),Object(N.a)(a,e.breakpoints.down("xs"),{width:"80%"}),a),ocupation:(n={width:"35%"},Object(N.a)(n,e.breakpoints.down("sm"),{width:"50%"}),Object(N.a)(n,e.breakpoints.down("xs"),{width:"80%"}),n)}})),ks=function(){var e=ws(),t=Object(z.a)();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsxs)("div",{className:e.card,children:[Object(n.jsx)("div",{className:e.photo,children:Object(n.jsx)(qr.a,{width:t.spacing(8),height:t.spacing(8),variant:"circle",animation:"wave"})}),Object(n.jsxs)("div",{className:e.body,children:[Object(n.jsx)(qr.a,{className:e.name,animation:"wave",height:42,style:{borderRadius:4}}),Object(n.jsx)(qr.a,{className:e.location,animation:"wave",height:20,style:{borderRadius:4}}),Object(n.jsx)(qr.a,{className:e.ocupation,animation:"wave",height:20,style:{borderRadius:4}})]})]})})},Ss=Object(F.a)((function(e){return{leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},workspace:Object(N.a)({paddingLeft:30,paddingRight:30,paddingBottom:50,background:e.palette.background.workSpace,height:"auto"},e.breakpoints.up("md"),{height:"calc(100vh - 128px)",overflow:"auto"}),rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},icon:{marginRight:10},usersContainer:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:15},errorContainer:{marginTop:15,marginBottom:15,display:"flex",width:"100%",justifyContent:"center"},error:{minWidth:"50%",display:"flex",justifyContent:"center",textAlign:"center",alignItems:"center"},loadMore:{marginTop:50}}})),Cs=function(){var e=Ss(),t=Object(B.g)(),a=Object(B.h)(),r=ys.a.parse(a.search).q,i=function(e){t.push(e)},c=Object(fr.a)("search-users",function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pageParam,n=void 0===a?0:a,e.next=3,tc(r,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{refetchOnWindowFocus:!1,getNextPageParam:function(e,t){if(e.nPages!==t.length)return e.from}}),s=c.data,o=c.status,l=c.error,d=c.isFetchingNextPage,p=c.fetchNextPage,m=c.hasNextPage;return r?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(H.a,{container:!0,children:[Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.leftPanel,children:Object(n.jsxs)(ji.a,{component:"nav","aria-label":"main mailbox folders",children:[Object(n.jsxs)(pi.a,{button:!0,onClick:function(){return i("/my-designs")},children:[Object(n.jsx)(fi.a,{className:e.icon}),Object(n.jsx)(mi.a,{primary:"Mis Dise\xf1os"})]}),Object(n.jsx)(br.a,{}),Object(n.jsxs)(pi.a,{button:!0,onClick:function(){return i("/shared-with-me")},children:[Object(n.jsx)(gi.a,{className:e.icon}),Object(n.jsx)(mi.a,{primary:"Compartidos Conmigo"})]}),Object(n.jsx)(br.a,{}),Object(n.jsxs)(pi.a,{button:!0,onClick:function(){return i("/public-repository")},children:[Object(n.jsx)(hi.a,{className:e.icon}),Object(n.jsx)(mi.a,{primary:"Repositorio P\xfablico"})]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{item:!0,xs:12,md:6,lg:8,className:e.workspace,children:"loading"===o?Object(n.jsxs)("div",{style:{paddingTop:15},children:[Object(n.jsx)(Z.a,{variant:"h4",children:"Buscando usuarios..."}),Object(n.jsx)("div",{children:Object(xr.a)(Array(6).keys()).map((function(e){return Object(n.jsx)(ks,{},"user-skeleton-".concat(e))}))})]}):"error"===o?Object(n.jsx)(Gr.a,{severity:"error",variant:"outlined",className:e.error,children:l.message}):Object(n.jsxs)("div",{style:{paddingTop:15},children:[Object(n.jsx)(Z.a,{variant:"h4",children:"Usuarios encontrados"}),s.pages[0].users.length>0?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:e.usersContainer,children:[s.pages.map((function(e,t){return e.users.map((function(e,t){return Object(n.jsx)(xc,Object(E.a)({},e),e._id)}))})),s&&m&&Object(n.jsx)(U.a,{className:e.loadMore,color:"primary",onClick:function(){return p()},children:d?"Cargando m\xe1s...":"Cargar M\xe1s"})]})}):Object(n.jsx)(Gr.a,{severity:"error",variant:"outlined",className:e.error,children:"No se han encontrado coincidencias."})]})}),Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.rightPanel})]})}):Object(n.jsx)("div",{className:e.errorContainer,children:Object(n.jsx)(Gr.a,{severity:"error",variant:"outlined",className:e.error,children:"No se ha ingresado filtro para la b\xfasqueda de usuarios. Por favor ingrese informaci\xf3n en la entrada de texto de la barra de navegaci\xf3n para buscar usuarios y presione 'enter' o el \xedcono de b\xfasqueda."})})},Ts=a(1332),Ns=a(1321),Es=a(1322),Ds=a(1290),As=a(1288),Is=a(1346),Rs=a(1334),Ps=a(76),Ms=a(628),Ls=a(629),Bs=a(611),Fs=a(29),zs=a(626),Hs=Object(r.createContext)();function Ws(){var e=Object(r.useContext)(Hs);if(void 0===e)throw new Error("SharedDocContext must be used within a SharedDocProvider");return e}var Zs=function(e){var t=e.children,a=Object(r.useState)(null),i=Object(p.a)(a,2),c=i[0],s=i[1],o=Object(r.useState)(null),l=Object(p.a)(o,2),d=l[0],u=l[1],j=Object(r.useState)(null),m=Object(p.a)(j,2),b=m[0],f=m[1],g=Object(r.useState)(!1),h=Object(p.a)(g,2),O=h[0],v=h[1],y=x().authState,w=Object(r.useCallback)((function(e){if(d)return!1;if(!y.user)return!1;var t=new Fs.d({guid:e});s(t);var a=new zs.a("ws://dma.uct.cl/yjs-websocket-server",e,t),n={name:Dr(y.user.name,y.user.lastname),color:y.user.color};a.awareness.setLocalStateField("user",n),a.on("status",(function(e){"connected"===e.status?v(!0):v(!1)})),u(a),f(n)}),[d,y.user]),k=Object(r.useCallback)((function(){s(null),u(null),f(null)}),[s,u,f]);return Object(n.jsx)(Hs.Provider,{value:{doc:c,provider:d,connectToDesign:w,clearDoc:k,user:b,connected:O},children:t})},Us=(a(707),a(612)),Gs=a(613),qs=a(614),Qs=a(615),Vs=a(1312),Ks=a(1313);function Js(e){var t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText}var Xs=Object(F.a)((function(e){return{root:function(e){e.multiline,e.rowMax,e.focused;return{width:"100%",display:"flex"}},inputContainer:function(e){var t=e.multiline,a=e.rowMax;e.focused,e.type;return{width:"100%",cursor:"text",height:t&&1===a?"auto":"calc(22px * ".concat(a," + 34px)"),overflow:"auto"}},actions:function(){return{display:"flex",flexDirection:"column",width:70,justifyContent:"space-between",borderWidth:1,borderStyle:"solid",borderColor:e.palette.action.disabled,borderTopRightRadius:5,borderBottomRightRadius:5}},action:function(){return{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"}},editorx:function(e){var t=e.multiline,a=e.rowMax;return{height:t&&1===a?"auto":"calc(22px * ".concat(a," + 34px)")}},"@global":{".ProseMirror":function(t){t.multiline,t.rowMax;return{height:"100%",overflow:"auto",overflowX:"hidden",width:"100%",fontSize:e.typography.body1.fontSize,fontFamily:e.typography.fontFamily,fontStyle:"normal",paddingTop:"1rem",paddingBottom:"1rem",paddingLeft:10,paddingRight:10}},".ProseMirror p":{marginBlockStart:0,marginBlockEnd:0},".ProseMirror:focus":{outline:"none"},".ProseMirror p.is-editor-empty:first-child::before":{content:"attr(data-empty-text)",float:"left",color:"dark"===e.palette.type?e.palette.grey[400]:e.palette.grey[600],pointerEvents:"none",height:0}}}})),Ys=Object(r.forwardRef)((function(e,t){var a=e.name,i=e.multiline,c=e.rowMax,s=void 0===c?1:c,o=e.maxLength,l=e.onChange,d=(e.placeholder,e.initialvalue),u=void 0===d?"":d,j=e.type,m=void 0===j?"text":j,b=e.max,f=e.min,g=e.deleteOnRemove,h=void 0!==g&&g,x=e.onSynced,O=Object(r.useRef)(!0),v=Object(r.useState)(!1),y=Object(p.a)(v,2),w=y[0],k=y[1],S=Xs({multiline:i,rowMax:s,focused:w,type:m}),C=Object(r.useState)(!1),T=Object(p.a)(C,2),N=T[0],E=T[1],D=Ws(),A=D.doc,I=D.provider,R=D.user,P=Object(r.useState)(null),M=Object(p.a)(P,2),L=M[0],B=M[1];Object(r.useEffect)((function(){return function(){O.current=!1}}),[]);var F=Object(r.useCallback)((function(e){var t=e.content,a="";return 1===t.length?t[0].content?t[0].content[0].text:"":(t.forEach((function(e,n){e.content?n===t.length-1?a+="".concat(e.content[0].text):a+="".concat(e.content[0].text,"\n"):n===t.length-1?a+="":a+="\n"})),a)}),[]),z=Object(r.useCallback)((function(){if(L)return i?F(L.getJSON()):Js(L.getHTML().toString()).trim().toString()}),[L,i,F]),H=Object(r.useCallback)((function(e){var t="";i&&e.toString().split("\n").forEach((function(e){t+="<p>".concat(e,"</p>")})),null===L||void 0===L||L.commands.first((function(a){var n=a.commands;return[function(){return n.setContent(i?t:e.toString())}]}))}),[L,i]);Object(r.useImperativeHandle)(t,(function(){return{clearText:function(){A&&L&&H("")}}})),Object(r.useEffect)((function(){return function(){A&&L&&h&&H("")}}),[A,L,H,h]),Object(r.useEffect)((function(){L||O.current&&B(new Ps.a({editorProps:"number"===m?{handleTextInput:function(e,t,a,n){return!(!isNaN(n)||"-"===n)||("0"===n&&"00"===e.dom.firstChild.textContent||("-"===n&&e.dom.firstChild.textContent.match(/-/g).length>1||"-"===n&&null!==f&&f>=0||"-"===n&&0!==e.dom.firstChild.textContent.indexOf("-")||(null!==b&&parseInt(e.dom.firstChild.textContent)>b||null!==f&&parseInt(e.dom.firstChild.textContent)<f)))},handlePaste:function(e,t,a){var n;if(1!==a.content.childCount)return!0;if(isNaN(a.content.firstChild.textContent))return!0;var r=e.dom.firstChild.textContent+a.content.firstChild.textContent;return!!(r.includes("-")&&(null===(n=r.match(/-/g))||void 0===n?void 0:n.length)>1||r.includes("-")&&0!==r.indexOf("-"))||(null!==b&&parseInt(r)>b||null!==f&&parseInt(r)<f)}}:{},extensions:[Us.a.extend({content:i?"block+":"block"}),Gs.a,qs.a,Ls.a.configure({provider:I,user:R}),Ms.a.configure({document:A,field:a}),Qs.a.configure({limit:o})],onUpdate:function(e){if(O.current){var t=i?F(e.editor.getJSON()):Js(e.editor.getHTML().toString()).toString(),n="number"!==m||isNaN(t)?t:parseInt(t);l&&F(e.transaction.docs[0].toJSON())!==t&&l({target:{name:a,type:m,value:"number"===m&&isNaN(n)?0:n}})}},onFocus:function(e){e.editor,e.event;O.current&&k(!0)},onBlur:function(e){e.editor,e.event;O.current&&k(!1)}}))}),[L,A,b,o,f,i,a,l,I,m,R,F]),Object(r.useEffect)((function(){if(L)if(I.synced){if(!N){var e=z();""===e&&O.current&&(H(u),x&&x(e,H),E(!0))}}else I.once("synced",(function(){if(!N){var e=z();""===e&&O.current&&(H(u),x&&x(e,H),E(!0))}}))}),[L,I.synced,z,u,x,I,H,N]);var Z=Object(r.useCallback)((function(){var e=z();if(L&&"number"===m){if(!e.length||"-"===e)return H(null!==f&&void 0!==f?f:0);if(e=parseInt(e),!(null!==b&&e+1>b))return l&&l({target:{name:a,type:m,value:"number"===m&&isNaN(e)?0:e+1}}),H(e+1)}}),[L,m,H,l,b,z,f,a]),U=Object(r.useCallback)((function(){var e=z();if(L&&"number"===m){if(!e.length||"-"===e)return H(null!==f&&void 0!==f?f:0);if(e=parseInt(e),!(null!==f&&e-1<f))return l&&l({target:{name:a,type:m,value:"number"===m&&isNaN(e)?0:e-1}}),H(e-1)}}),[L,m,H,l,f,z,a]);return L?Object(n.jsxs)("div",{className:S.root,children:[Object(n.jsx)("div",{className:S.inputContainer,onClick:function(){w||L.chain().focus("end").run()},children:Object(n.jsx)(Bs.a,{editor:L,className:"".concat(S.editorx)})}),"number"===m&&Object(n.jsxs)("div",{className:S.actions,children:[Object(n.jsx)(W.a,{className:S.action,component:uc.a,onClick:Z,children:Object(n.jsx)(Vs.a,{})}),Object(n.jsx)(br.a,{}),Object(n.jsx)(W.a,{className:S.action,component:uc.a,onClick:U,children:Object(n.jsx)(Ks.a,{})})]})]}):Object(n.jsx)("div",{children:"Conectando..."})})),_s=function(e,t){return e.initialvalue===t.initialvalue},$s=i.a.memo(Ys,_s),eo=Object(F.a)((function(e){return{trashIcon:{display:"flex"},tasksSpacing:{position:"relative",width:"100%",height:"100%",marginTop:e.spacing(1),background:e.palette.background.workSpace},taskBody:{padding:10,position:"relative",left:"5%",width:"95%",height:"100%"},taskSpacingDescription:{marginLeft:e.spacing(2),marginTop:e.spacing(2)},taskSpacingDescriptionBD:{marginBottom:e.spacing(1)},colorLearningType:{position:"absolute",width:"5%",height:"100%"},timeField:Object(N.a)({display:"flex",alignItems:"center",marginRight:10},e.breakpoints.down("md"),{marginRight:0}),grid:{display:"flex",alignItems:"center"},gridContainer:Object(N.a)({display:"grid",gridTemplateColumns:"50% 50%",gridTemplateRows:"auto",gridTemplateAreas:"\n            'learningType modality'\n            'workingTime format'\n            'description description'"},e.breakpoints.down("md"),{gridTemplateAreas:"\n                'learningType learningType'\n                'modality modality'\n                'format format'\n                'workingTime workingTime'\n                'description description'"}),firstRow:{display:"grid",gridTemplateColumns:"auto auto 10%",gridTemplateRows:"auto",gridTemplateAreas:"'learningType modality'"},learningTypeContainer:{gridArea:"learningType",width:"100%",display:"flex"},learningType:Object(N.a)({marginRight:10},e.breakpoints.down("md"),{marginRight:0,marginTop:10}),modality:Object(N.a)({gridArea:"modality",width:"100%",display:"flex"},e.breakpoints.down("md"),{marginTop:10}),format:Object(N.a)({gridArea:"format",display:"flex",justifyContent:"space-between",alignSelf:"flex-end"},e.breakpoints.down("md"),{marginTop:10}),delete:{alignSelf:"flex-start",justifySelf:"center"},resourceLinkGrid:{display:"grid",gridTemplateColumns:"25% 75%"},fab:{maxHeight:"20px",minHeight:"20px",minWidth:"20px",maxWidth:"20px"},icon:{maxHeight:"15px",minHeight:"15px",minWidth:"15px",maxWidth:"15px"}}})),to=Object(r.forwardRef)((function(e,t){var a,i,c,s,o=e.learningActivityIndex,l=e.index,d=e.task,u=e.learningActivityID,j=e.sumHours,m=e.sumMinutes,b=e.refTask,f=(Object(ur.a)(e,["learningActivityIndex","index","task","learningActivityID","sumHours","sumMinutes","refTask"]),eo()),g=C(),h=g.socket,x=g.online,O=g.emitWithTimeout,v=Ws().connected,y=Object(r.useRef)(!0),k=Object(r.useRef)(),S=Object(r.useRef)(),T=Object(r.useRef)(),N=ns().designState.design,A=N.metadata,I=R(),P=I.uiState,M=I.dispatch,L=Object(w.b)().enqueueSnackbar,B=Object(z.a)(),F=Object(mr.a)(B.breakpoints.down("md")),H=jc({description:d.description,learningType:d.learningType&&""!==d.learningType.trim()?d.learningType:"Seleccionar",modality:d.modality&&""!==d.modality.trim()?d.modality:"Seleccionar",format:d.format&&""!==d.format.trim()?d.format:"Seleccionar",timeHours:null!==(a=d.duration.hours)&&void 0!==a?a:0,timeMinutes:null!==(i=d.duration.minutes)&&void 0!==i?i:0,timeDesignHours:null!==(c=A.workingTimeDesign.hours)&&void 0!==c?c:0,timeDesignMinutes:null!==(s=A.workingTimeDesign.minutes)&&void 0!==s?s:0,groupSize:d.groupSize&&2!==d.groupSize?d.groupSize:2}),G=Object(p.a)(H,4),Q=G[0],V=G[1],K=G[3];Object(r.useEffect)((function(){P.newTask&&null!==b.current&&(b.current.scrollIntoView(!1),M({type:D.ui.setScrollToNewTask,payload:!1}))}),[]),Object(r.useImperativeHandle)(t,(function(){return{clearTexts:function(){var e,t,a;null===k||void 0===k||null===(e=k.current)||void 0===e||e.clearText(),null===S||void 0===S||null===(t=S.current)||void 0===t||t.clearText(),null===T||void 0===T||null===(a=T.current)||void 0===a||a.clearText()}}})),Object(r.useEffect)((function(){return function(){y.current=!1}}),[]),Object(r.useEffect)((function(){y.current&&Q.description!==d.description&&K((function(e){return Object(E.a)(Object(E.a)({},e),{},{description:d.description})}))}),[Q.description,d.description,K]),Object(r.useEffect)((function(){y.current&&Q.learningType!==d.learningType&&K((function(e){return Object(E.a)(Object(E.a)({},e),{},{learningType:d.learningType&&""!==d.learningType.trim()?d.learningType:"Seleccionar"})}))}),[Q.learningType,d.learningType,K]),Object(r.useEffect)((function(){y.current&&Q.modality!==d.modality&&K((function(e){return Object(E.a)(Object(E.a)({},e),{},{modality:d.modality&&""!==d.modality.trim()?d.modality:"Seleccionar"})}))}),[Q.modality,d.modality,K]),Object(r.useEffect)((function(){y.current&&Q.format!==d.format&&K((function(e){return Object(E.a)(Object(E.a)({},e),{},{format:d.format&&""!==d.format.trim()?d.format:"Seleccionar"})}))}),[Q.format,d.format,K]),Object(r.useEffect)((function(){y.current&&Q.timeHours!==d.duration.hours&&K((function(e){var t;return Object(E.a)(Object(E.a)({},e),{},{timeHours:null!==(t=d.duration.hours)&&void 0!==t?t:0})}))}),[Q.timeHours,d.duration.hours,K]),Object(r.useEffect)((function(){y.current&&Q.timeMinutes!==d.duration.minutes&&K((function(e){var t;return Object(E.a)(Object(E.a)({},e),{},{timeMinutes:null!==(t=d.duration.minutes)&&void 0!==t?t:0})}))}),[Q.timeMinutes,d.duration.minutes,K]);var J=Q.description,X=Q.learningType,Y=Q.modality,_=Q.format,$=Q.timeHours,ee=Q.timeMinutes,te=Q.groupSize,ae=function(e){var t=e.target,a=t.name,n=t.value,r=null;a.includes("description")?a="description":a.includes("timeHours")?(a="duration",r="hours",n=isNaN(n)?0:n):a.includes("timeMinutes")&&(a="duration",r="minutes",n=isNaN(n)?0:n),y.current&&V({target:t}),null===h||void 0===h||h.emit("edit-task-field",{designId:N._id,learningActivityID:u,taskID:d.id,field:a,value:n,subfield:r,sumHours:j,sumMinutes:m},O((function(e){if(!e.ok)return L(e.message,{variant:"error",autoHideDuration:2e3});P.userSaveDesign&&M({type:D.ui.setUserSaveDesign,payload:!1})}),(function(){x&&v||L(r?'Error al editar el campo "'.concat(r,'" del campo "').concat(a,'". Por favor revise su conexi\xf3n. Tiempo de espera excedido.'):'Error al editar el campo "'.concat(a,'". Por favor revise su conexi\xf3n. Tiempo de espera excedido.'),{variant:"error",autoHideDuration:2e3})})))},ne=function(){M({type:D.ui.setResourceLink,payload:{learningActivityIndex:o,taskIndex:l}}),M({type:D.ui.openModal,payload:"Resource"})},re=function(e){var t,a,n;""===J&&"Seleccionar"===X&&"Seleccionar"===Y&&"Seleccionar"===_&&0===$&&0===ee?(null===k||void 0===k||null===(t=k.current)||void 0===t||t.clearText(),null===S||void 0===S||null===(a=S.current)||void 0===a||a.clearText(),null===T||void 0===T||null===(n=T.current)||void 0===n||n.clearText(),null===h||void 0===h||h.emit("delete-task",{designId:N._id,learningActivityID:u,taskID:d.id},O((function(e){return e.ok&&P.userSaveDesign&&M({type:D.ui.setUserSaveDesign,payload:!1}),L(e.message,{variant:e.ok?"success":"error",autoHideDuration:2e3})}),(function(){return L("Error al eliminar la tarea. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})})))):(M({type:D.ui.setConfirmData,payload:{type:"tarea",args:{designId:N._id,learningActivityID:u,taskID:d.id},actionMutation:null}}),M({type:D.ui.openModal,payload:"Confirmation"}))},ie=function(e){y.current&&V(e),null===h||void 0===h||h.emit("edit-task-field",{designId:N._id,learningActivityID:u,taskID:d.id,field:e.target.name,value:e.target.value,subfield:null},O((function(e){if(!e.ok)return L(e.message,{variant:"error",autoHideDuration:2e3});P.userSaveDesign&&M({type:D.ui.setUserSaveDesign,payload:!1})}),(function(){return L('Error al editar el campo "'.concat(e.target.name,'". Por favor revise su conexi\xf3n. Tiempo de espera excedido.'),{variant:"error",autoHideDuration:2e3})})))};Object(r.useEffect)((function(){N.metadata.workingTimeDesign.hours>=N.metadata.workingTime.hours&&(N.metadata.workingTimeDesign.hours>N.metadata.workingTime.hours||N.metadata.workingTimeDesign.minutes>N.metadata.workingTime.minutes)&&L("Su tiempo de trabajo de dise\xf1o es mayor al tiempo de trabajo definido, por favor disminuya el tiempo de trabajo asignado en las tareas o aumente el tiempo en los metadatos.",{variant:"warning",autoHideDuration:5e3,preventDuplicate:!0})}),[N.metadata.workingTimeDesign.hours,N.metadata.workingTime.hours,N.metadata.workingTimeDesign.minutes,N.metadata.workingTime.minutes,L]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(W.a,{style:{height:"100%"},ref:b,children:Object(n.jsx)(q.a,{square:!0,className:f.tasksSpacing,children:Object(n.jsxs)(W.a,{style:{display:"flex",position:"relative",height:"100%",width:"100%"},children:["Investigaci\xf3n"===d.learningType?Object(n.jsx)(W.a,{className:f.colorLearningType,style:{backgroundColor:"#57A8E7"}}):"Adquisici\xf3n"===d.learningType?Object(n.jsx)(W.a,{className:f.colorLearningType,style:{backgroundColor:"#E95D5D"}}):"Producci\xf3n"===d.learningType?Object(n.jsx)(W.a,{className:f.colorLearningType,style:{backgroundColor:"#C8951F"}}):"Discusi\xf3n"===d.learningType?Object(n.jsx)(W.a,{className:f.colorLearningType,style:{backgroundColor:"#087A4C"}}):"Colaboraci\xf3n"===d.learningType?Object(n.jsx)(W.a,{className:f.colorLearningType,style:{backgroundColor:"#DFDF3F"}}):"Pr\xe1ctica"===d.learningType?Object(n.jsx)(W.a,{className:f.colorLearningType,style:{backgroundColor:"#A75BCD"}}):void 0,Object(n.jsx)("div",{className:f.taskBody,children:Object(n.jsxs)("div",{className:f.gridContainer,children:[Object(n.jsxs)("div",{className:f.learningTypeContainer,children:[Object(n.jsxs)(As.a,{fullWidth:!0,variant:"outlined",className:f.learningType,children:[Object(n.jsx)(Is.a,{id:"learningType-task-".concat(d.id,"-learningActivity-").concat(u),shrink:!0,children:"Aprendizaje"}),Object(n.jsxs)(Rs.a,{labelId:"learningType-task-".concat(d.id,"-learningActivity-").concat(u),label:"Aprendizaje",name:"learningType",value:X,onChange:ie,children:[Object(n.jsx)(ti.a,{value:"Seleccionar",children:" Seleccionar "}),Object(n.jsx)(ti.a,{value:"Investigaci\xf3n",children:" Investigaci\xf3n "}),Object(n.jsx)(ti.a,{value:"Adquisici\xf3n",children:" Adquisici\xf3n "}),Object(n.jsx)(ti.a,{value:"Producci\xf3n",children:" Producci\xf3n "}),Object(n.jsx)(ti.a,{value:"Discusi\xf3n",children:" Discusi\xf3n "}),Object(n.jsx)(ti.a,{value:"Colaboraci\xf3n",children:" Colaboraci\xf3n "}),Object(n.jsx)(ti.a,{value:"Pr\xe1ctica",children:" Pr\xe1ctica "})]})]}),F&&Object(n.jsx)(kr.a,{title:"Eliminar tarea",className:f.delete,children:Object(n.jsx)(Sr.a,{onClick:function(){return re()},children:Object(n.jsx)(Er.a,{fontSize:"small"})})})]}),Object(n.jsxs)("div",{className:f.modality,children:[Object(n.jsxs)(As.a,{fullWidth:!0,variant:"outlined",children:[Object(n.jsx)(Is.a,{id:"modality-task-".concat(d.id,"-learningActivity-").concat(u),shrink:!0,children:" Modalidad "}),Object(n.jsxs)(Rs.a,{labelId:"modality-task-".concat(d.id,"-learningActivity-").concat(u),label:"Aprendizaje",name:"modality",value:Y,onChange:ie,children:[Object(n.jsx)(ti.a,{value:"Seleccionar",children:" Seleccionar "}),Object(n.jsx)(ti.a,{value:"Presencial-As\xedncrono",children:" Presencial-As\xedncrono"}),Object(n.jsx)(ti.a,{value:"Presencial-S\xedncrono",children:" Presencial-S\xedncrono"}),Object(n.jsx)(ti.a,{value:"Online-As\xedncrono",children:" Online-As\xedncrono"}),Object(n.jsx)(ti.a,{value:"Online-S\xedncrono",children:" Online-S\xedncrono"})]})]}),!F&&Object(n.jsx)(kr.a,{title:"Eliminar tarea",className:f.delete,children:Object(n.jsx)(Sr.a,{onClick:function(){return re()},children:Object(n.jsx)(Er.a,{fontSize:"small"})})})]}),Object(n.jsxs)("div",{style:{width:"100%",gridArea:"workingTime",marginTop:3},children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:" Tiempo de trabajo "}),Object(n.jsxs)("div",{className:f.timeField,children:[Object(n.jsx)(Pi.a,{label:"Horas",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"none",variant:"outlined",color:"primary",InputProps:{inputComponent:$s,inputProps:{ref:k,name:"timeHours-task-".concat(d.id,"-learning-activity-").concat(u),placeholder:"Horas",initialvalue:$,onChange:ae,type:"number",min:0}}}),Object(n.jsx)(Z.a,{style:{marginLeft:10,marginRight:10},children:" : "}),Object(n.jsx)(Pi.a,{label:"Minutos",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"none",variant:"outlined",color:"primary",InputProps:{inputComponent:$s,inputProps:{ref:S,name:"timeMinutes-task-".concat(d.id,"-learning-activity-").concat(u),placeholder:"Minutos",initialvalue:ee,onChange:ae,type:"number",min:0,max:59}}})]})]}),Object(n.jsx)("div",{style:{marginTop:20},children:Object(n.jsx)(U.a,{variant:"outlined",onClick:ne,children:" Administrar recursos"})}),Object(n.jsxs)("div",{className:f.format,children:[Object(n.jsxs)(As.a,{fullWidth:!0,variant:"outlined",children:[Object(n.jsx)(Is.a,{id:"format-task-".concat(d.id,"-learningActivity-").concat(u),shrink:!0,children:" Formato "}),Object(n.jsxs)(Rs.a,{labelId:"format-task-".concat(d.id,"-learningActivity-").concat(u),label:"Formato",name:"format",value:_,onChange:ie,children:[Object(n.jsx)(ti.a,{value:"Seleccionar",children:" Seleccionar "}),Object(n.jsx)(ti.a,{value:"Grupal",children:" Grupal"}),Object(n.jsx)(ti.a,{value:"Individual",children:" Individual"}),Object(n.jsx)(ti.a,{value:"Toda la clase",children:" Toda la clase"})]})]}),"Grupal"===_&&N.metadata.classSize>1&&Object(n.jsxs)(As.a,{fullWidth:!0,variant:"outlined",children:[Object(n.jsx)(Is.a,{id:"group-task-".concat(d.id,"-learningActivity-").concat(u),shrink:!0,children:" Personas "}),Object(n.jsxs)(Rs.a,{labelId:"group-quantity-task-".concat(d.id,"-learningActivity-").concat(u),label:"Cantidad",name:"groupSize",value:te,onChange:ie,type:"number",children:[Object(n.jsxs)(ti.a,{value:2,children:[" ",2," "]}),Object(n.jsxs)(ti.a,{value:3,children:[" ",3," "]}),Object(n.jsxs)(ti.a,{value:4,children:[" ",4," "]}),Object(n.jsxs)(ti.a,{value:5,children:[" ",5," "]})]})]})]}),Object(n.jsx)(Pi.a,{style:{gridArea:"description",marginTop:10},InputLabelProps:{shrink:!0},label:"Descripci\xf3n",fullWidth:!0,margin:"none",variant:"outlined",color:"primary",InputProps:{inputComponent:$s,inputProps:{ref:T,name:"description-task-".concat(d.id,"-learning-activity-").concat(u),placeholder:"Descripci\xf3n",initialvalue:J,onChange:ae,multiline:!0}}})]})})]})})},l)})})),ao=Object(F.a)((function(e){return{root:{display:"flex",width:"100%",border:"1px solid ".concat(e.palette.divider),height:"100%"},title:{display:"flex",alignItems:"center"},colorBox:{width:10,height:10,marginRight:5,border:"1px solid #dddddd"},colorBoxRightPanel:{width:13,height:13,marginRight:5},spacingGraphic:{marginTop:e.spacing(1),display:"flex",flexWrap:"wrap"},legend:{marginTop:e.spacing(.5),marginLeft:e.spacing(.5),marginRight:e.spacing(.5),display:"flex",alignItems:"center"}}})),no=function(e){var t=e.height,a=void 0===t?25:t,r=e.items,i=e.type,c=e.legends,s=e.colorGraphicToPdf,o=ao(),l=Wc().userConfig,d=[],u=0;return r.map((function(e){return u=e.value+u})),"Activity"===i?d=(l.darkTheme,["#57A8E7","#E95D5D","#C8951F","#087A4C","#DFDF3F","#A75BCD"]):"Format"===i?d=(l.darkTheme,["rgba(61, 156, 65, 0.8)","rgba(224, 243, 225, 0.8)","rgba(102, 242, 108, 0.75)"]):"Modality"===i&&(d=(l.darkTheme,["#A6CAF6","#6996CD","#5FA2EF","#135BB3"])),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:o.root,style:{height:a},children:r.map((function(e,t){return Object(n.jsx)(kr.a,{title:Object(n.jsxs)("div",{className:o.title,children:[Object(n.jsx)("div",{className:o.colorBox,style:{backgroundColor:d[t]}}),"".concat(e.title,": ").concat((100*e.value/u).toFixed(1),"%")]}),arrow:!0,children:Object(n.jsx)("div",{style:{width:"".concat(100*e.value,"%"),height:"100%",backgroundColor:d[t]}})},"nombreGrafico".concat(t))}))}),c&&Object(n.jsx)("div",{className:o.spacingGraphic,children:r.map((function(e,t){return Object(n.jsxs)("div",{className:o.legend,children:[Object(n.jsx)("div",{className:o.colorBoxRightPanel,style:{backgroundColor:d[t]}}),s?Object(n.jsxs)(Z.a,{variant:"caption",children:[" ",e.title," "]}):Object(n.jsxs)(Z.a,{variant:"caption",style:{color:"#000000"},children:[" ",e.title," "]})]},"legends-".concat(t))}))})]})},ro=[{title:"Investigaci\xf3n",value:0,minutes:0},{title:"Adquisici\xf3n",value:0,minutes:0},{title:"Producci\xf3n",value:0,minutes:0},{title:"Discusi\xf3n",value:0,minutes:0},{title:"Colaboraci\xf3n",value:0,minutes:0},{title:"Pr\xe1ctica",value:0,minutes:0}],io=[{title:"Investigaci\xf3n",value:0,minutes:0},{title:"Adquisici\xf3n",value:0,minutes:0},{title:"Producci\xf3n",value:0,minutes:0},{title:"Discusi\xf3n",value:0,minutes:0},{title:"Colaboraci\xf3n",value:0,minutes:0},{title:"Pr\xe1ctica",value:0,minutes:0}],co=[{title:"Grupal",value:0,minutes:0},{title:"Individual",value:0,minutes:0},{title:"Toda la clase",value:0,minutes:0}],so=[{title:"Presencial-As\xedncrono",value:0,minutes:0},{title:"Presencial-S\xedncrono",value:0,minutes:0},{title:"Online-As\xedncrono",value:0,minutes:0},{title:"Online-S\xedncrono",value:0,minutes:0}],oo=a(1314),lo=a(1315),uo=a(215),jo=a.n(uo),po=Object(F.a)((function(e){return{unitSpacing:{marginBottom:e.spacing(3)},titleUnitSpacing:{display:"flex",paddingLeft:10,paddingRight:10,marginTop:e.spacing(1)},graphicUnitSpacing:{width:"100%",paddingLeft:10,paddingRight:10,display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.spacing(1)},trashIcon:{marginLeft:"auto"},spacingDescriptionlearningActivity:{marginTop:e.spacing(1)},spacingDescription:{marginTop:e.spacing(2),marginRight:e.spacing(2)},spacingLinkedResults:{marginTop:e.spacing(2)},buttonPos:{marginTop:e.spacing(1),marginLeft:"auto"},gridTask:{marginTop:e.spacing(1),marginLeft:e.spacing(1)},descriptionContainer:{display:"flex",flexDirection:"column",padding:e.spacing(1)},learningResultList:{display:"flex",flexWrap:"nowrap",flexDirection:"column",paddingLeft:15,maxHeight:200,overflow:"auto",overflowX:!0},delete:{alignSelf:"center",justifySelf:"center"},fab:{position:"absolute",bottom:e.spacing(-5),right:e.spacing(2)},taskContainer:{position:"relative",marginBottom:e.spacing(6)},ellipsis:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}})),mo=Object(r.forwardRef)((function(e,t){var a=e.index,i=e.learningActivity,c=e.sumHours,s=e.sumMinutes,o=e.refActivity,l=po(),d=ns().designState,u=d.design,j=C(),m=j.socket,b=j.online,f=j.emitWithTimeout,g=Ws().connected,h=R(),x=h.uiState,O=h.dispatch,v=Object(w.b)().enqueueSnackbar,y=Object(z.a)(),k=Object(mr.a)(y.breakpoints.down("xs")),S=Object(r.useState)(null),T=Object(p.a)(S,2),N=T[0],A=T[1],I=Object(r.useRef)(!0),P=Object(r.useRef)(),M=Object(r.useRef)(),L=Object(r.useRef)([]),B=i.tasks.reduce((function(e,t){return e[t.id]=Object(r.createRef)(),e}),{}),F=jc({title:i.title,description:i.description}),U=Object(p.a)(F,4),G=U[0],Q=U[1],V=U[3];Object(r.useEffect)((function(){return x.newActivity&&null!==o.current&&(o.current.scrollIntoView(!1),O({type:D.ui.setScrollToNewActivity,payload:!1})),function(){I.current=!1}}),[]),Object(r.useEffect)((function(){V({title:i.title,description:i.description})}),[u,V,i]);var K=G.title,J=G.description,X=function(){var e,t,a;""!==K||""!==J||0!==i.learningResults.length||void 0!==i.tasks&&0!==i.tasks.length?(O({type:D.ui.setConfirmData,payload:{type:"actividad",args:{designId:u._id,learningActivityID:i.id},actionMutation:null}}),O({type:D.ui.openModal,payload:"Confirmation"})):(null===L||void 0===L||null===(e=L.current)||void 0===e||e.forEach((function(e){return null===e||void 0===e?void 0:e.clearTexts()})),null===P||void 0===P||null===(t=P.current)||void 0===t||t.clearText(),null===M||void 0===M||null===(a=M.current)||void 0===a||a.clearText(),null===m||void 0===m||m.emit("delete-learningActivity",{designId:u._id,learningActivityID:i.id},f((function(e){return e.ok&&x.userSaveDesign&&O({type:D.ui.setUserSaveDesign,payload:!1}),v(e.message,{variant:e.ok?"success":"error",autoHideDuration:2e3})}),(function(){return v("Error al eliminar la actividad. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})}))));x.userSaveDesign&&O({type:D.ui.setUserSaveDesign,payload:!1})},Y=function(){var e=jo()().toString();null===m||void 0===m||m.emit("new-task",{designId:u._id,learningActivityID:i.id,id:e},f((function(e){if(!e.ok)return v(e.message,{variant:"error",autoHideDuration:2e3});x.userSaveDesign&&O({type:D.ui.setUserSaveDesign,payload:!1})}),(function(){return v("Error al agregar la tarea. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})}))),O({type:D.ui.setScrollToNewTask,payload:!0})},_=function(){O({type:D.ui.setReorderTasksModalState,payload:{learningActivityId:u.data.learningActivities[a].id,tasks:u.data.learningActivities[a].tasks}}),O({type:D.ui.openModal,payload:"ReorderTasks"})},$=function(e){var t=e.target,a=t.name;t.name.includes("title")?a="title":t.name.includes("description")&&(a="description"),null===m||void 0===m||m.emit("edit-unit-field",{designId:u._id,learningActivityID:i.id,field:a,value:t.value},f((function(e){if(!e.ok)return v(e.message,{variant:"error",autoHideDuration:2e3});x.userSaveDesign&&O({type:D.ui.setUserSaveDesign,payload:!1})}),(function(){b&&g||v("Error al editar el campo ".concat(a," de la actividad. Por favor revise su conexi\xf3n. Tiempo de espera excedido."),{variant:"error",autoHideDuration:2e3})}))),I.current&&Q({target:Object(E.a)(Object(E.a)({},t),{},{name:a})})},ee=function(){var e=u.metadata.results.map((function(e){return Object(n.jsx)(Tc.a,{classes:{label:l.ellipsis},label:Object(n.jsx)(kr.a,{title:e.verb+" "+e.description,arrow:!0,children:Object(n.jsx)(Z.a,{className:l.ellipsis,children:e.verb+" "+e.description})}),control:Object(n.jsx)(ms.a,{checked:!!i.learningResults.find((function(t){return t.verb===e.verb})),onChange:function(t){return function(e,t,a){if(t){var n=0;i.learningResults.forEach((function(e,t){e.verb===a.verb&&e.description===a.description&&(n=t)})),null===m||void 0===m||m.emit("delete-learning-result-from-learningActivity",{designId:u._id,learningActivityID:i.id,indexLearningResults:n},f((function(e){if(!e.ok)return v(e.message,{variant:"error",autoHideDuration:2e3});x.userSaveDesign&&O({type:D.ui.setUserSaveDesign,payload:!1})}),(function(){return v("Error al desvincular el aprendizaje esperado de la actividad. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})})))}else null===m||void 0===m||m.emit("add-learning-result-to-learningActivity",{designId:u._id,learningActivityID:i.id,result:a},f((function(e){if(!e.ok)return v(e.message,{variant:"error",autoHideDuration:2e3});x.userSaveDesign&&O({type:D.ui.setUserSaveDesign,payload:!1})}),(function(){return v("Error al vincular el aprendizaje esperado a la actividad. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})})))}(0,!!i.learningResults.find((function(t){return t.verb===e.verb})),e)}})},"learning-result-".concat(e.verb))}));return 0===e.length?Object(n.jsx)(W.a,{style:{marginLeft:-15,paddingRight:10},fontSize:"caption.fontSize",fontStyle:"italic",textAlign:"justify",children:"No hay aprendizajes esperados en este dise\xf1o. Para agregar aprendizajes esperados, por favor ve a la pesta\xf1a de metadatos."}):e},te=function(e){e.stopPropagation(),A(e.currentTarget)},ae=function(){A(null),O({type:D.ui.setEvaluation,payload:{learningActivityIndex:a}}),O({type:D.ui.openModal,payload:"Evaluation"})};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(H.a,{ref:o,children:Object(n.jsxs)(q.a,{className:l.unitSpacing,children:[Object(n.jsxs)(H.a,{container:!0,children:[Object(n.jsxs)(H.a,{item:!0,xs:12,sm:5,className:l.titleUnitSpacing,children:[Object(n.jsx)(Pi.a,{label:"T\xedtulo",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"none",variant:"outlined",color:"primary",InputProps:{inputComponent:$s,inputProps:{ref:P,name:"title-learning-activity-".concat(i.id),placeholder:"T\xedtulo",initialvalue:K,onChange:$}}}),k&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Sr.a,{onClick:te,children:Object(n.jsx)(ii.a,{})}),Object(n.jsxs)(ei.a,{onBlur:function(){return A(null)},anchorEl:N,open:Boolean(N),anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},onClose:function(){return A(null)},children:[Object(n.jsxs)(ti.a,{onClick:ae,children:[Object(n.jsx)(oo.a,{fontSize:"small"}),Object(n.jsx)(Z.a,{children:"Definir Evaluaci\xf3n"})]}),d.users.length>1?Object(n.jsx)(kr.a,{title:"Esta funci\xf3n no esta disponible de manera colaborativa, debe haber 1 solo usuario conectado.",arrow:!0,children:Object(n.jsx)(W.a,{children:Object(n.jsxs)(ti.a,{disabled:!0,onClick:_,children:[Object(n.jsx)(lo.a,{style:{marginRight:10}}),Object(n.jsx)(Z.a,{children:"Ordenar Tareas"})]})})}):Object(n.jsxs)(ti.a,{onClick:_,children:[Object(n.jsx)(lo.a,{style:{marginRight:10}}),Object(n.jsx)(Z.a,{children:"Ordenar Tareas"})]}),Object(n.jsxs)(ti.a,{onClick:X,children:[Object(n.jsx)(Er.a,{fontSize:"small"}),Object(n.jsx)(Z.a,{children:"Eliminar"})]})]})]})]}),void ro.forEach((function(e){e.value=0})),Object(n.jsxs)(H.a,{item:!0,xs:12,sm:7,className:l.graphicUnitSpacing,children:[u.data.learningActivities[a]&&u.data.learningActivities[a].tasks&&u.data.learningActivities[a].tasks.forEach((function(e){ro.forEach((function(t){t.title===e.learningType&&(t.minutes=60*e.duration.hours+e.duration.minutes,t.value=t.value+t.minutes)}))})),Object(n.jsx)(no,{items:ro,type:"Activity"}),!k&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Sr.a,{onClick:te,children:Object(n.jsx)(ii.a,{})}),Object(n.jsxs)(ei.a,{onBlur:function(){return A(null)},anchorEl:N,open:Boolean(N),anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},onClose:function(){return A(null)},children:[Object(n.jsxs)(ti.a,{onClick:ae,children:[Object(n.jsx)(oo.a,{fontSize:"small",style:{marginRight:8}}),Object(n.jsx)(Z.a,{children:"Definir Evaluaci\xf3n"})]}),d.users.length>1?Object(n.jsx)(kr.a,{title:"Esta funci\xf3n no esta disponible de manera colaborativa, debe haber 1 solo usuario conectado.",arrow:!0,children:Object(n.jsx)(W.a,{children:Object(n.jsxs)(ti.a,{disabled:!0,onClick:_,children:[Object(n.jsx)(lo.a,{style:{marginRight:10}}),Object(n.jsx)(Z.a,{children:"Ordenar Tareas"})]})})}):Object(n.jsxs)(ti.a,{onClick:_,children:[Object(n.jsx)(lo.a,{style:{marginRight:10}}),Object(n.jsx)(Z.a,{children:"Ordenar Tareas"})]}),Object(n.jsxs)(ti.a,{onClick:X,children:[Object(n.jsx)(Er.a,{fontSize:"small",style:{marginRight:8}}),Object(n.jsx)(Z.a,{children:"Eliminar Actividad"})]})]})]})]})]}),Object(n.jsx)(br.a,{}),Object(n.jsxs)(H.a,{container:!0,spacing:2,children:[Object(n.jsxs)(H.a,{item:!0,xs:12,sm:8,className:l.taskContainer,children:[Object(n.jsx)(H.a,{id:"tasks",className:l.gridTask,children:u.data.learningActivities[a]&&u.data.learningActivities[a].tasks&&u.data.learningActivities[a].tasks.map((function(e,t){return Object(n.jsx)(to,{ref:function(e){return L.current.push(e)},refTask:B[e.id],index:t,task:e,learningActivityIndex:a,learningActivityID:i.id,sumHours:c,sumMinutes:s},"task-".concat(e.id,"-").concat(t,"-learningActivity-").concat(a))}))}),Object(n.jsx)(kr.a,{title:"Agregar tarea",arrow:!0,children:Object(n.jsx)(Ds.a,{"aria-label":"add-task",className:l.fab,size:"small",color:"primary",onClick:Y,children:Object(n.jsx)(bi.a,{fontSize:"small"})})})]}),Object(n.jsx)(H.a,{item:!0,xs:12,sm:4,children:Object(n.jsxs)("div",{className:l.descriptionContainer,children:[Object(n.jsx)(H.a,{className:l.spacingDescription,children:Object(n.jsx)(Pi.a,{label:"Descripci\xf3n",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"none",variant:"outlined",color:"primary",InputProps:{inputComponent:$s,inputProps:{ref:M,name:"description-learning-activity-".concat(i.id),placeholder:"Descripci\xf3n",initialvalue:J,rowMax:3,multiline:!0,onChange:$}}})}),Object(n.jsx)(Z.a,{variant:"body2",className:l.spacingLinkedResults,color:"textSecondary",children:" Resultados Vinculados "}),Object(n.jsx)("div",{className:l.learningResultList,children:ee()})]})})]})]})},a)})})),bo=a(251),fo=a.n(bo),go=function(e){var t=e.items,a=e.colorGraphicToPdf,r=Wc().userConfig;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(fo.a,{id:"pie",palette:(r.darkTheme,["#57A8E7","#E95D5D","#C8951F","#087A4C","#DFDF3F","#A75BCD"]),dataSource:t,title:"An\xe1lisis",theme:r.darkTheme&&a?"generic.contrast":"generic.light",children:[Object(n.jsx)(bo.Series,{argumentField:"title",valueField:"value"}),Object(n.jsx)(bo.Legend,{verticalAlignment:"bottom",horizontalAlignment:"center",itemTextPosition:"right",rowCount:2}),Object(n.jsx)(bo.Tooltip,{enabled:!0,customizeTooltip:function(e){return{text:"".concat(e.argumentText," - ").concat((100*e.percent).toFixed(1),"%")}},zIndex:2})]})})})},ho=a(1339),xo=a(1316),Oo=Object(F.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},titleSectionShare:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},divSectionShare:{padding:20}}})),vo=function(){var e=Object(z.a)(),t=Oo(),a=Object(r.useRef)(!0),i=R(),c=i.uiState,s=i.dispatch,o=ns().designState.design,l=Object(r.useState)(""),d=Object(p.a)(l,1)[0],m=Object(r.useState)(""),b=Object(p.a)(m,2),f=b[0],g=b[1],h=Object(w.b)().enqueueSnackbar,x=C(),O=x.socket,v=x.emitWithTimeout,y=Object(r.useState)(Object(xr.a)(o.privileges)),k=Object(p.a)(y,2),S=k[0],T=k[1];Object(r.useEffect)((function(){return function(){a.current=!1}}),[]);var N=Object(gr.a)(["user-profile",o.owner],Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ec(o.owner);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}),A=N.data,I=N.error,P=N.isError,M=N.isLoading,B=function(){s({type:D.ui.closeModal,payload:"Share"}),setTimeout((function(){a.current&&T(Object(xr.a)(o.privileges))}),e.transitions.duration.enteringScreen)},F=function(){navigator.clipboard.writeText("http://dma.uct.cl/shared-link/"+o.readOnlyLink),h("Enlace copiado.",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:2e3})},q=function(){null===O||void 0===O||O.emit("generate-new-share-link",{designId:o._id},v((function(e){return h(e.message,{variant:e.ok?"success":"error",autoHideDuration:2e3})}),(function(){return h("Error al generar el nuevo enlace. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})})))};if(I)return Object(n.jsx)("div",{className:t.error,children:Object(n.jsx)(Gr.a,{severity:"error",variant:"outlined",children:I})});if(!o||!A)return Object(n.jsx)(Z.a,{children:"Cargando..."});return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Ai.a,{open:c.isShareModalOpen,onClose:B,maxWidth:"sm",fullWidth:!0,children:[Object(n.jsx)(Ii.a,{children:"Compartir Dise\xf1o"}),Object(n.jsx)(Sr.a,{"aria-label":"close",className:t.closeButton,onClick:B,children:Object(n.jsx)(mc.a,{})}),Object(n.jsx)(Ri.a,{dividers:!0,style:{padding:0},children:M?Object(n.jsx)(Z.a,{children:"Cargando..."}):P?Object(n.jsx)("div",{className:t.error,children:Object(n.jsx)(Gr.a,{severity:"error",variant:"outlined",children:I})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:t.divSectionShare,children:[Object(n.jsx)("div",{className:t.titleSectionShare,children:Object(n.jsx)(Z.a,{color:"textSecondary",children:" Compartir mediante enlace "})}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:10,paddingLeft:10,paddingRight:10},children:[Object(n.jsx)(Z.a,{align:"justify",children:" Mediante el siguiente enlace puedes compartir este dise\xf1o en modo solo lectura: "}),Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(n.jsx)(Or.a,{style:{wordBreak:"break-word"},component:L.b,to:"/shared-link/".concat(o.readOnlyLink),onClick:B,align:"center",children:"http://dma.uct.cl/shared-link/"+o.readOnlyLink}),Object(n.jsx)(Ui,{options:[{icon:Object(n.jsx)(xo.a,{fontSize:"small"}),label:"Copiar enlace",onSelect:F},{icon:Object(n.jsx)(bi.a,{}),label:"Generar nuevo enlace",onSelect:q}]})]})]})]}),Object(n.jsx)(br.a,{}),Object(n.jsxs)("div",{className:t.divSectionShare,children:[Object(n.jsx)("div",{className:t.titleSectionShare,children:Object(n.jsx)(Z.a,{color:"textSecondary",children:" Compartir a contactos "})}),Object(n.jsx)("div",{children:Object(n.jsx)(ho.a,{value:d,blurOnSelect:!0,onChange:function(e,t){!function(e){if(e){var t=A.contacts.find((function(t){return t.name===e}));t&&(o.privileges.map((function(e){return e.user._id===t._id})).reduce((function(e,t){return e||t}))?h("El usuario ya se encuentra agregado",{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:2e3}):a.current&&T([].concat(Object(xr.a)(S),[{user:t,type:1}])),a.current&&g(""))}}(t)},inputValue:f,onInputChange:function(e,t){a.current&&g(t)},options:A.contacts.map((function(e){return e.name})),getOptionSelected:function(e,t){return e.id===t.id},renderInput:function(e){return Object(n.jsx)(Pi.a,Object(E.a)(Object(E.a)({},e),{},{label:"Buscar Contacto",margin:"normal",variant:"outlined",InputProps:Object(E.a)({},e.InputProps)}))}})}),Object(n.jsxs)("div",{children:[Object(n.jsx)(br.a,{style:{marginBottom:10}}),S.map((function(e,t){return Object(n.jsx)(H.a,{container:!0,style:{marginBottom:10},children:Object(n.jsxs)(H.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},children:[Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(n.jsx)(W.a,{style:{justifyContent:"space-between"},children:Object(n.jsx)(G.a,{style:{marginRight:7}})}),Object(n.jsxs)(W.a,{style:{justifyContent:"space-between"},children:[Object(n.jsx)(Z.a,{children:e.user.name+" "+e.user.lastname}),Object(n.jsx)(Z.a,{color:"textSecondary",children:e.user.email})]})]}),Object(n.jsx)(W.a,{children:e.user._id===o.owner?Object(n.jsx)(Z.a,{children:"Propietario"}):Object(n.jsx)(As.a,{variant:"outlined",size:"small",children:Object(n.jsxs)(Rs.a,{name:"type",value:e.type,onChange:function(n){!function(e,t,n){var r=e.target.value;if(r!==t)if("Quitar"===r)n===S.length-1?a.current&&T(Object(xr.a)(S.slice(0,n))):a.current&&T([].concat(Object(xr.a)(S.slice(0,n)),Object(xr.a)(S.slice(n+1,S.length))));else{var i=Object(E.a)({},S[n]);i.type=r,n===S.length-1?a.current&&T([].concat(Object(xr.a)(S.slice(0,n)),[i])):a.current&&T([].concat(Object(xr.a)(S.slice(0,n)),[i],Object(xr.a)(S.slice(n+1,S.length))))}}(n,e.type,t)},children:[Object(n.jsx)(ti.a,{value:0,children:" Editor "}),Object(n.jsx)(ti.a,{value:1,children:" Lector"}),Object(n.jsx)(ti.a,{value:"Quitar",children:" Quitar"})]},"privileges-action-".concat(t))})})]})},"privilege-".concat(t))}))]})]})]})}),Object(n.jsxs)(Mi.a,{children:[Object(n.jsx)(U.a,{onClick:B,children:"Cancelar"}),Object(n.jsx)(U.a,{variant:"contained",color:"primary",onClick:function(){null===O||void 0===O||O.emit("change-design-privileges",{designId:o._id,privileges:Object(xr.a)(S)},v((function(e){e.ok||a.current&&T(Object(xr.a)(o.privileges)),h(e.message,{variant:e.ok?"success":"error",autoHideDuration:2e3})}),(function(){a.current&&T(Object(xr.a)(o.privileges)),h("Error al compartir el dise\xf1o. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})}))),s({type:D.ui.closeModal,payload:"Share"})},children:"Listo"})]})]})})},yo=a(17),wo=a(211),ko=function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(new Date(Date.now())),c=Object(p.a)(i,2),s=c[0],o=c[1],l=Object(r.useState)([]),d=Object(p.a)(l,2);return{confirmDateConfiguration:a,setDateConfiguration:n,selectedDate:s,setSelectedDate:o,privileges:d[0],setPrivileges:d[1]}},So=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],Co=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],To=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.getFullYear(),n=e.getDate(),r=So[e.getMonth()],i=Co[e.getDay()];return t?"".concat(i,", ").concat(n," de ").concat(r," de ").concat(a):"".concat(n," de ").concat(r," de ").concat(a)},No=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={hour:"numeric",minute:"numeric"};return t&&(a.second="numeric"),e.toLocaleTimeString("es-ES",a)},Eo=function(e){var t=e.design,a=e.img,i=e.typeUserPDF,c=Object(wo.a)(ko),s=c.selectedDate,o=c.privileges,l=yo.StyleSheet.create({logo:{width:250,objectFit:"cover",marginVertical:15,marginHorizontal:"auto"},title:{fontSize:20,textAlign:"center",marginBottom:25},box:{width:"100%"},pageNumber:{position:"absolute",fontSize:12,bottom:30,left:0,right:0,textAlign:"center",color:"grey"},date:{position:"absolute",fontSize:12,bottom:50,textAlign:"center"},marginTitle:{fontSize:15,marginLeft:35,marginTop:15},secondTitle:{fontSize:17,textAlign:"center",marginBottom:15,marginLeft:16,marginRight:16},body:{paddingTop:35,paddingBottom:65},table:{display:"table",flexDirection:"column",marginLeft:15,marginBottom:10,marginRight:15,justifyContent:"flex-start",alignContent:"stretch",flexWrap:"nowrap",alignItems:"stretch"},row:{display:"flex",flexDirection:"row",justifyContent:"space-around",fontSize:12},cell:{flexGrow:1,flexShrink:1,marginLeft:16,marginRight:16,marginBottom:3,flexBasis:"auto",alignSelf:"stretch"},breakLine:{width:"100%",height:400}}),d=Object(r.useRef)(!0),u=0;return Object(r.useEffect)((function(){return function(){d.current=!1}}),[]),o.forEach((function(e){e.selected&&(u+=1)})),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(yo.Document,{children:Object(n.jsxs)(yo.Page,{size:"A4",wrap:!0,style:l.body,children:[Object(n.jsxs)(yo.View,{style:l.box,children:[Object(n.jsx)(yo.Image,{src:Cc,style:l.logo}),""===t.metadata.name?Object(n.jsx)(yo.Text,{style:l.title,children:" Nombre no definido. "}):Object(n.jsxs)(yo.Text,{style:l.title,children:[" ",t.metadata.name,". "]}),Object(n.jsxs)(yo.View,{style:{textAlign:"center",marginBottom:15},children:[o.map((function(e){return e.selected})).reduce((function(e,t){return e||t}))&&1===u?Object(n.jsx)(yo.Text,{style:{fontSize:12,color:"#979797"},children:"Autor"}):u>1&&Object(n.jsx)(yo.Text,{style:{fontSize:12,color:"#979797"},children:"Autores"}),o.map((function(e,t){return e.selected?Object(n.jsx)("div",{children:Object(n.jsx)(yo.Text,{style:{fontSize:12,marginLeft:10},children:e.user.name+" "+e.user.lastname})},"author-".concat(t)):Object(n.jsx)("div",{},"author-".concat(t))}))]}),"teacher"===i?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(yo.View,{style:l.table,children:[Object(n.jsxs)(yo.View,{style:[l.row],children:[Object(n.jsx)(yo.Text,{style:[l.cell,{color:"#979797"}],children:"Nombre"}),Object(n.jsx)(yo.Text,{style:[l.cell,{color:"#979797"}],children:"\xc1rea disciplinar"})]}),Object(n.jsxs)(yo.View,{style:[l.row],children:[""===t.metadata.name?Object(n.jsx)(yo.Text,{style:l.cell,children:"No especificado"}):Object(n.jsxs)(yo.Text,{style:l.cell,children:[t.metadata.name,"."]}),Object(n.jsxs)(yo.Text,{style:l.cell,children:[t.metadata.category.name,"."]})]}),Object(n.jsxs)(yo.View,{style:[l.row],children:[Object(n.jsx)(yo.Text,{style:[l.cell,{color:"#979797"}],children:"Tiempo de trabajo"}),Object(n.jsx)(yo.Text,{style:[l.cell,{color:"#979797"}],children:"Tama\xf1o de la clase"})]}),Object(n.jsxs)(yo.View,{style:[l.row],children:[Object(n.jsxs)(yo.Text,{style:l.cell,children:[t.metadata.workingTime.hours," hrs : ",t.metadata.workingTime.minutes," min."]}),Object(n.jsxs)(yo.Text,{style:l.cell,children:[t.metadata.classSize,"."]})]}),Object(n.jsx)(yo.View,{style:[l.row],children:Object(n.jsx)(yo.Text,{style:[l.cell,{color:"#979797"}],children:"Conocimiento Previo"})}),Object(n.jsx)(yo.View,{style:[l.row],children:""===t.metadata.priorKnowledge?Object(n.jsx)(yo.Text,{style:l.cell,children:"No especificado."}):Object(n.jsxs)(yo.Text,{style:l.cell,children:[t.metadata.priorKnowledge,"."]})}),Object(n.jsxs)(yo.View,{style:{marginLeft:16,marginRight:16},children:[Object(n.jsx)(yo.Text,{style:{fontSize:12,color:"#979797",marginTop:5,marginBottom:5},children:"Descripci\xf3n"}),""===t.metadata.description?Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center"},children:"No definido."}):Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center"},children:t.metadata.description})]}),Object(n.jsxs)(yo.View,{style:{marginLeft:16,marginRight:16},children:[Object(n.jsx)(yo.Text,{style:{fontSize:12,color:"#979797",marginTop:5,marginBottom:5},children:"Pauta de evaluaci\xf3n"}),""===t.metadata.evaluationPattern?Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center"},children:"No definido."}):Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center",color:"#5564eb"},children:t.metadata.evaluationPattern})]}),Object(n.jsxs)(yo.View,{style:{marginLeft:16,marginRight:16},children:[Object(n.jsx)(yo.Text,{style:{fontSize:12,color:"#979797",marginTop:5,marginBottom:5},children:"Evaluaci\xf3n"}),""===t.metadata.evaluation?Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center"},children:"No definido."}):Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center"},children:t.metadata.evaluation})]})]})}):Object(n.jsxs)(yo.View,{style:{marginLeft:45,marginBottom:10,marginRight:45},children:[Object(n.jsx)(yo.Text,{style:{color:"#2F5396",marginBottom:5},children:"\xbfQu\xe9 aprender\xe1s en este modulo?"}),""===t.metadata.description?Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center",marginBottom:15},children:"No definido."}):Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center",marginBottom:15},children:t.metadata.description}),Object(n.jsx)(yo.Text,{style:{color:"#2F5396",marginBottom:5},children:"\xbfQu\xe9 necesitas conocer previamente?"}),""===t.metadata.priorKnowledge?Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center",marginBottom:15},children:"No especificado."}):Object(n.jsxs)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center",marginBottom:15},children:[t.metadata.priorKnowledge,"."]}),Object(n.jsx)(yo.Text,{style:{color:"#2F5396",marginBottom:5},children:"\xbfC\xf3mo ser\xe1s evaluado?"}),""===t.metadata.evaluation?Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center",marginBottom:15},children:"No definido."}):Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center",marginBottom:15},children:t.metadata.evaluation}),Object(n.jsx)(yo.Text,{style:{color:"#2F5396",marginBottom:5},children:"La pauta de evaluaci\xf3n la encuentras en:"}),""===t.metadata.evaluationPattern?Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center",marginBottom:15},children:"No definido."}):Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center",color:"#5564eb",marginBottom:15},children:t.metadata.evaluationPattern})]}),Object(n.jsxs)(yo.View,{style:"teacher"===i?[l.table,{marginLeft:16,marginRight:16,height:650}]:{marginLeft:45,marginBottom:10,marginRight:45,height:650},wrap:!1,children:["teacher"===i?Object(n.jsx)(yo.Text,{style:[l.secondTitle,{borderBottom:1,borderColor:"#979797"}],children:" Aprendizajes esperados."}):Object(n.jsx)(yo.Text,{style:{color:"#2F5396",marginTop:5,marginBottom:5},children:"\xbfQu\xe9 aprendizajes espec\xedficos se esperan?"}),0===t.metadata.results.length?Object(n.jsx)(yo.Text,{style:{fontSize:12,marginBottom:5,marginLeft:16},children:"No han sido proporcionados."}):t.metadata.results.map((function(e,t){return Object(n.jsx)(yo.View,{children:"teacher"===i?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(yo.Text,{style:{fontSize:12,color:"#979797",marginTop:2,marginBottom:2,marginLeft:16},children:["Aprendizaje esperado n\xfamero ",t+1,":"]}),Object(n.jsx)(yo.Text,{style:{fontSize:12,marginBottom:2,marginLeft:16},children:e.verb+" "+e.description})]}):Object(n.jsxs)(yo.Text,{style:{fontSize:12,marginTop:2,marginBottom:2,marginLeft:16},children:[t+1,".- ",e.verb+" "+e.description]})},"learning-result-".concat(t))}))]}),Object(n.jsxs)(yo.View,{style:[l.table],wrap:!1,children:[Object(n.jsx)(yo.Text,{style:[l.secondTitle,{borderBottom:1,borderColor:"#979797"}],children:" Actividades"}),t.data.learningActivities&&t.data.learningActivities.map((function(e,t){return Object(n.jsxs)(yo.View,{style:{marginBottom:20},wrap:!(t>=1),children:[Object(n.jsx)(yo.View,{style:{marginBottom:5},children:Object(n.jsxs)(yo.Text,{style:{fontSize:14,marginLeft:16},children:["Actividad ",t+1,": ",""===e.title?Object(n.jsx)(yo.Text,{style:{fontSize:13,marginLeft:16},children:" No definido. "}):Object(n.jsxs)(yo.Text,{style:{fontSize:13,marginLeft:16},children:[" ",e.title," "]})]})}),Object(n.jsx)(yo.View,{style:{marginLeft:16,marginRight:20,marginBottom:10},children:0===e.evaluation.length?Object(n.jsx)(yo.Text,{style:{fontSize:13},children:" No se ha especificado."}):e.evaluation.map((function(e,t){return Object(n.jsxs)(yo.View,{children:[Object(n.jsxs)(yo.Text,{style:{fontSize:12,color:"#979797",marginTop:10,marginBottom:5},children:["Evaluaci\xf3n ",t+1,": ","Seleccionar"===e.type?Object(n.jsx)(yo.Text,{style:{fontSize:12,justifyContent:"center"},children:"No definido."}):Object(n.jsx)(yo.Text,{style:{fontSize:12,justifyContent:"center"},children:e.type})]}),""===e.description?Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center"},children:"No definido."}):Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"flex-end"},children:e.description})]},"evaluation-".concat(t))}))}),"student"===i&&Object(n.jsx)(yo.View,{style:{marginBottom:5},children:Object(n.jsxs)(yo.Text,{style:{marginLeft:16,fontSize:12,color:"#6AA3D8"},children:[" Para desarrollar la Actividad ",t+1," deber\xe1s cumplir las siguientes tareas:"]})}),e.tasks&&e.tasks.map((function(e,a){return Object(n.jsxs)(yo.View,{style:"student"===i&&{marginLeft:16,marginRight:16},children:["student"===i&&Object(n.jsxs)(yo.Text,{style:{marginLeft:16,fontSize:12,marginTop:10,marginBottom:5},children:[" Tarea n\xfamero ",a+1,"."]}),Object(n.jsxs)(yo.View,{style:"teacher"===i?[l.table,{borderColor:"Investigaci\xf3n"===e.learningType?"#57A8E7":"Adquisici\xf3n"===e.learningType?"#E95D5D":"Producci\xf3n"===e.learningType?"#C8951F":"Discusi\xf3n"===e.learningType?"#087A4C":"Colaboraci\xf3n"===e.learningType?"#DFDF3F":"Pr\xe1ctica"===e.learningType?"#A75BCD":"Seleccionar"===e.learningType&&"#979797",borderLeftWidth:40}]:{marginBottom:10,marginLeft:15,marginRight:15},children:[Object(n.jsxs)(yo.View,{style:[l.row,{marginTop:5}],children:["teacher"===i&&Object(n.jsx)(yo.Text,{style:[l.cell,{color:"#979797"}],children:"Aprendizaje"}),Object(n.jsx)(yo.Text,{style:[l.cell,{color:"#979797"}],children:"Tiempo"}),Object(n.jsx)(yo.Text,{style:[l.cell,{color:"#979797"}],children:"Modalidad"})]}),Object(n.jsxs)(yo.View,{style:[l.row],children:["teacher"===i&&Object(n.jsx)(n.Fragment,{children:"Seleccionar"===e.learningType?Object(n.jsx)(yo.Text,{style:[l.cell],children:"No especificado."}):Object(n.jsx)(yo.Text,{style:[l.cell],children:e.learningType})}),Object(n.jsxs)(yo.Text,{style:[l.cell],children:[e.duration.hours," hrs : ",e.duration.minutes," min."]}),"Seleccionar"===e.modality||0===e.modality.trim().length?Object(n.jsx)(yo.Text,{style:[l.cell],children:" No especificado. "}):Object(n.jsxs)(yo.Text,{style:[l.cell],children:[" ",e.modality," "]})]}),Object(n.jsxs)(yo.View,{style:[l.row],children:[Object(n.jsx)(yo.Text,{style:[l.cell,{color:"#979797"}],children:"Formato"}),"Grupal"===e.format&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(yo.Text,{style:[l.cell,{color:"#979797"}],children:"N\xfamero de integrantes"}),"teacher"===i&&Object(n.jsx)(yo.Text,{style:[l.cell,{color:"#979797"}]})]})]}),Object(n.jsxs)(yo.View,{style:[l.row],children:["Seleccionar"===e.format||0===e.format.trim().length?Object(n.jsx)(yo.Text,{style:[l.cell],children:"No especificado."}):Object(n.jsx)(yo.Text,{style:[l.cell],children:e.format}),"Grupal"===e.format&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(yo.Text,{style:l.cell,children:[" ",e.groupSize]}),"teacher"===i&&Object(n.jsx)(yo.Text,{style:[l.cell,{color:"#979797"}]})]})]}),Object(n.jsxs)(yo.View,{style:{marginLeft:16,marginRight:16},children:[Object(n.jsx)(yo.Text,{style:{fontSize:12,color:"#979797",marginTop:10,marginBottom:5},children:"Descripci\xf3n"}),""===e.description?Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center"},children:" No especificado. "}):Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center"},children:e.description}),Object(n.jsxs)(yo.View,{style:{marginBottom:5},children:[Object(n.jsx)(yo.Text,{style:{fontSize:12,color:"#979797",marginTop:15,marginBottom:5},children:"Enlace de recursos"}),0===e.resourceLinks.length?Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center"},children:"No se han proporcionado recursos"}):e.resourceLinks.map((function(e,r){return Object(n.jsx)("div",{children:Object(n.jsx)(yo.View,{style:{marginBottom:5},children:""===e.title?Object(n.jsxs)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center"},children:["T\xedtulo no definido, ",""===e.link?Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center"},children:"No definido."}):Object(n.jsx)(yo.Link,{wrap:!0,style:{fontSize:12,justifyContent:"center",color:"#5564eb"},children:e.link})]}):Object(n.jsxs)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center"},children:[e.title,", ",""===e.link?Object(n.jsx)(yo.Text,{wrap:!0,style:{fontSize:12,justifyContent:"center"},children:"No definido."}):Object(n.jsx)(yo.Link,{wrap:!0,style:{fontSize:12,justifyContent:"center",color:"#5564eb"},children:e.link})]})})},"resource-".concat(r,"-task-").concat(a,"-learningnActivity").concat(t))}))]})]})]})]},"task-".concat(a))}))]},"learning-activity-".concat(t))}))]}),Object(n.jsx)(yo.View,{style:{marginTop:15},wrap:!1,children:"teacher"===i&&Object(n.jsx)(yo.Image,{src:a})})]}),Object(n.jsx)(yo.Text,{style:l.date,render:function(e){return 1===e.pageNumber&&To(new Date(s),!0)},fixed:!0}),Object(n.jsx)(yo.Text,{style:l.pageNumber,render:function(e){var t=e.pageNumber,a=e.totalPages;return"".concat(t," / ").concat(a)},fixed:!0})]})})})},Do=a(622),Ao=a.n(Do),Io=function(e){var t=e.children,a=e.value,r=e.index,i=Object(ur.a)(e,["children","value","index"]);return Object(n.jsx)("div",Object(E.a)(Object(E.a)({role:"tabpanel",hidden:a!==r,id:"full-width-tabpanel-".concat(r),"aria-labelledby":"full-width-tab-".concat(r)},i),{},{children:a===r&&Object(n.jsx)(Z.a,{component:"span",children:t})}))},Ro=a(1349),Po=a(1317),Mo=a(1318),Lo=a(89),Bo=a(1330),Fo=a(623),zo=a(391),Ho=a.n(zo),Wo=Object(F.a)((function(e){return{author:{padding:"15px 10px 15px 20px",display:"flex",justifyContent:"start",alignItems:"center",textDecoration:"none"}}})),Zo=function(){var e=Wo(),t=R(),a=t.uiState,i=t.dispatch,c=Object(wo.a)(ko),s=c.selectedDate,o=c.setSelectedDate,l=c.privileges,d=c.setPrivileges,u=Object(r.useState)(!1),j=Object(p.a)(u,2),m=j[0],b=j[1],f=Object(r.useRef)(!0);Object(r.useEffect)((function(){return function(){f.current=!1}}),[]);var g=function(e){return function(t,a){f.current&&b(!!a&&e)}};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(W.a,{children:[Object(n.jsxs)(Ro.a,{expanded:"panel1"===m,onChange:g("panel1"),children:[Object(n.jsx)(Po.a,{expandIcon:Object(n.jsx)(Ho.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:Object(n.jsx)(Z.a,{children:"Definir fecha que se mostrar\xe1 en el documento PDF generado."})}),Object(n.jsx)(Mo.a,{children:Object(n.jsx)("div",{children:Object(n.jsx)(Lo.a,{utils:Fo.a,children:Object(n.jsx)(H.a,{container:!0,children:Object(n.jsx)(Bo.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Definir fecha",value:s,onChange:function(e){f.current&&o(e)},KeyboardButtonProps:{"aria-label":"change date"}})})})})})]}),Object(n.jsxs)(Ro.a,{expanded:"panel2"===m,onChange:g("panel2"),children:[Object(n.jsx)(Po.a,{expandIcon:Object(n.jsx)(Ho.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:Object(n.jsx)(Z.a,{children:"Definir autores en el documento"})}),Object(n.jsx)(Mo.a,{children:Object(n.jsx)("div",{style:{marginTop:10},children:Object(n.jsx)(As.a,{component:"fieldset",children:a.pdf.privileges.map((function(t,a){var r;return Object(n.jsx)("div",{style:{marginTop:10},children:0===t.type&&Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:e.author,children:[Object(n.jsx)(Tc.a,{control:Object(n.jsx)(ms.a,{checked:t.selected,onChange:function(e){return function(e,t){if(f.current){var a=JSON.parse(JSON.stringify(l));a[t].selected=!a[t].selected,d(a),i({type:D.ui.setPDFConfig,payload:{field:"privileges",value:a}})}}(0,a)}})}),Object(n.jsx)(G.a,{alt:Dr(t.user.name,t.user.lastname),src:null!==(r=t.user.img)&&void 0!==r?r:"",children:Ar(t.user.name,t.user.lastname)}),Object(n.jsx)(Z.a,{style:{marginLeft:10,marginRight:10},children:t.user.name+" "+t.user.lastname})]})})},"authors-".concat(a))}))})})})]})]})})},Uo=a(1320),Go=Object(F.a)((function(e){return{spaceInit:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},menu:{borderBottom:"1px solid ".concat(e.palette.divider)},tabBar:{display:"flex",justifyContent:"space-between",alignItems:"center"},container:{display:"flex",height:"100%",width:"100%"},panel:{width:"100%"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},loadingFile:{"-webkit-backface-visibility":"hidden",animation:"$scaleAnimation 1000ms ".concat(e.transitions.easing.easeInOut),animationIterationCount:"infinite",animationDirection:"alternate"},"@keyframes scaleAnimation":{from:{height:300,width:300},to:{height:150,width:150}}}})),qo=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}},Qo=function(e){var t=e.imgGraphic,a=e.setPdfView,i=Go(),c=Object(z.a)(),s=R(),o=s.uiState,l=s.dispatch,d=o.pdf.typeUserPDF,m=ns().designState.design,b=Object(r.useState)(null),f=Object(p.a)(b,2),g=f[0],h=f[1],x=Object(r.useState)(0),O=Object(p.a)(x,2),v=O[0],y=O[1],w=Object(wo.a)(ko).setPrivileges,k=Object(r.useState)(null),S=Object(p.a)(k,2),C=S[0],T=S[1],N=Object(r.useRef)(!0);Object(r.useEffect)((function(){return function(){N.current=!1}}),[]),Object(r.useEffect)((function(){if(N.current){var e=[];m.privileges.forEach((function(t){var a=JSON.parse(JSON.stringify(t));a.selected=!1,e.push(a)})),w(e),l({type:D.ui.setPDFConfig,payload:{field:"privileges",value:e}})}}),[m.privileges,l,w]),Object(r.useEffect)((function(){N.current&&g&&m&&d&&T(Object(n.jsx)(Eo,{design:m,img:g,typeUserPDF:d}))}),[m,g,d,T]);var A=function(){l({type:D.ui.closeModal,payload:"PDF"}),setTimeout((function(){l({type:D.ui.setPDF,payload:null}),a(!1)}),c.transitions.duration.enteringScreen)};return g||function(){var e=Object(j.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N.current){e.next=5;break}return e.next=3,Ao()(t.current,{width:800,height:700,scrollX:279});case 3:a=e.sent,h(a.toDataURL("image/jpeg"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),g&&C?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Ai.a,{onClose:A,open:o.isPDFModalOpen,fullScreen:!0,children:[Object(n.jsxs)(Ii.a,{className:i.titleMargin,children:["Exportar dise\xf1o",Object(n.jsxs)(Ts.a,{value:v,onChange:function(e,t){y(t)},indicatorColor:"primary",textColor:"primary","aria-label":"full width tabs",centered:!0,children:[Object(n.jsx)(Ns.a,Object(E.a)({label:"CONFIGURACI\xd3N"},qo(0))),Object(n.jsx)(Ns.a,Object(E.a)({label:"VISTA PREVIA"},qo(1)))]})]}),Object(n.jsx)(Sr.a,{"aria-label":"close",className:i.closeButton,onClick:A,children:Object(n.jsx)(mc.a,{})}),Object(n.jsx)(Ri.a,{dividers:!0,children:Object(n.jsxs)(W.a,{className:i.container,children:[Object(n.jsx)(Io,{value:v,index:0,className:i.panel,children:Object(n.jsx)(Zo,{})}),Object(n.jsx)(Io,{value:v,index:1,className:i.panel,children:Object(n.jsx)(yo.PDFViewer,{width:"100%",height:"100%",children:t&&C&&C})})]})}),Object(n.jsxs)(Mi.a,{children:[Object(n.jsx)(U.a,{onClick:A,children:"Cancelar"}),Object(n.jsx)("div",{className:i.spaceInit,children:Object(n.jsx)(yo.PDFDownloadLink,{style:{textDecoration:"none"},document:C,fileName:"designdata.pdf",children:function(e){e.blob,e.url;var t=e.loading;e.error;return Object(n.jsx)(U.a,{variant:"contained",disabled:t,children:" Descargar "})}})})]})]})}):Object(n.jsx)(qi.a,{className:i.backdrop,open:!0,children:Object(n.jsxs)(W.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(n.jsx)(W.a,{width:300,height:300,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(n.jsx)(Uo.a,{className:i.loadingFile})}),Object(n.jsx)(Z.a,{children:"Generando archivo pdf..."})]})})},Vo=Object(F.a)((function(e){return{spaceResource:{marginTop:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tooltip:{maxHeight:"25px",minHeight:"25px",minWidth:"25px",maxWidth:"25px"},icon:{maxHeight:"25px",minHeight:"25px",minWidth:"25px",maxWidth:"25px"},resourceLinkGrid:{display:"grid",gridTemplateColumns:"95% 5%"}}})),Ko=function(e){var t=e.index,a=e.resource,i=e.newResource,c=e.setNewResource,s=Vo(),o=R(),l=o.uiState,d=o.dispatch,u=Object(r.useRef)(!0);Object(r.useEffect)((function(){return function(){u.current=!1}}),[]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:s.spaceResource,children:Object(n.jsxs)(H.a,{children:[Object(n.jsxs)("div",{className:s.resourceLinkGrid,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(Pi.a,{variant:"outlined",margin:"dense",name:"title",value:a.title,onChange:function(e){return function(e){var a=e.target.value;u.current&&c((function(e){return e.map((function(e,n){return n===t&&(e.title=a),e}))})),l.userSaveDesign&&d({type:D.ui.setUserSaveDesign,payload:!1})}(e)},label:"T\xedtulo",type:"text",fullWidth:!0}),Object(n.jsx)(Pi.a,{variant:"outlined",margin:"dense",name:"link",value:a.link,onChange:function(e){return function(e){var a=e.target.value;u.current&&c((function(e){return e.map((function(e,n){return n===t&&(e.link=a),e}))})),l.userSaveDesign&&d({type:D.ui.setUserSaveDesign,payload:!1})}(e)},label:"Enlace",type:"text",fullWidth:!0})]}),Object(n.jsx)("div",{children:Object(n.jsx)(W.a,{display:"flex",flexDirection:"row-reverse",children:Object(n.jsx)(W.a,{children:Object(n.jsx)(kr.a,{title:"Eliminar recurso",className:s.tooltip,children:Object(n.jsx)(Sr.a,{onClick:function(){return function(e){e===i.length-1?u.current&&c(Object(xr.a)(i.slice(0,e))):u.current&&c([].concat(Object(xr.a)(i.slice(0,e)),Object(xr.a)(i.slice(e+1,i.length)))),l.userSaveDesign&&d({type:D.ui.setUserSaveDesign,payload:!1})}(t)},children:Object(n.jsx)(Er.a,{className:s.icon})})})})})})]}),Object(n.jsx)(br.a,{style:{marginTop:10}})]})},t)})},Jo=Object(F.a)((function(e){return{spaceInit:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},buttonZone:Object(N.a)({width:"100%",display:"flex",justifyContent:"space-between"},e.breakpoints.down("xs"),{flexWrap:"wrap"}),resourceZone:Object(N.a)({height:"auto"},e.breakpoints.up("xs"),{height:"90%",overflow:"auto",overflowX:"hidden"}),contentSpace:Object(N.a)({height:"auto",paddingBottom:e.spacing(6)},e.breakpoints.up("xs"),{height:"calc(100vh - 500px)",overflow:"auto"})}})),Xo=function(){var e=Jo(),t=Object(z.a)(),a=Object(r.useRef)(!0),i=R(),c=i.uiState,s=i.dispatch,o=c.resourceLink,l=o.learningActivityIndex,d=o.taskIndex,u=ns().designState.design,j=Object(r.useState)(Object(xr.a)(u.data.learningActivities[l].tasks[d].resourceLinks)),m=Object(p.a)(j,2),b=m[0],f=m[1],g=C(),h=g.socket,x=g.emitWithTimeout,O=Object(w.b)().enqueueSnackbar;Object(r.useEffect)((function(){return function(){a.current=!1}}),[]);var v=function(){s({type:D.ui.closeModal,payload:"Resource"}),setTimeout((function(){a.current&&f(Object(xr.a)(u.data.learningActivities[l].tasks[d].resourceLinks)),s({type:D.ui.setResourceLink,payload:{learningActivityIndex:null,taskIndex:null}})}),t.transitions.duration.enteringScreen)};return Object(n.jsx)("div",{children:Object(n.jsxs)(Ai.a,{onClose:v,open:c.isResourceModalOpen,fullWidth:!0,maxWidth:"md",children:[Object(n.jsx)(Ii.a,{children:"Administrar Recursos"}),Object(n.jsx)(Sr.a,{"aria-label":"close",className:e.closeButton,onClick:v,children:Object(n.jsx)(mc.a,{})}),Object(n.jsx)(Ri.a,{dividers:!0,children:Object(n.jsxs)(H.a,{className:e.contentSpace,children:[Object(n.jsx)("div",{className:e.buttonZone,children:Object(n.jsx)(U.a,{variant:"outlined",color:"primary",onClick:function(){a.current&&f([].concat(Object(xr.a)(b),[{title:"",link:""}])),c.userSaveDesign&&s({type:D.ui.setUserSaveDesign,payload:!1})},children:"Agregar recurso"})}),Object(n.jsx)(W.a,{className:e.resourceZone,children:Object(n.jsx)(W.a,{children:b.map((function(e,t){return Object(n.jsx)(Ko,{index:t,resource:e,newResource:b,setNewResource:f},"resource-".concat(t,"-task-").concat(d,"-learningActivity-").concat(l))}))})})]})}),Object(n.jsxs)(Mi.a,{children:[Object(n.jsx)(U.a,{onClick:v,children:"Cancelar"}),Object(n.jsx)(U.a,{variant:"contained",color:"primary",onClick:function(){null===h||void 0===h||h.emit("change-resource-in-task",{designId:u._id,learningActivityIndex:l,taskIndex:d,resources:Object(xr.a)(b)},x((function(e){O(e.message,{variant:e.ok?"success":"error",autoHideDuration:2e3})}),(function(){return O("Error al modificar los recursos en la tarea. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})}))),s({type:D.ui.closeModal,payload:"Resource"})},children:"Guardar recursos"})]})]})})},Yo=Object(F.a)((function(e){return{spaceResource:{marginTop:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},tooltip:{maxHeight:"25px",minHeight:"25px",minWidth:"25px",maxWidth:"25px"},icon:{maxHeight:"25px",minHeight:"25px",minWidth:"25px",maxWidth:"25px"},resourceEvaluationGrid:{display:"grid",gridTemplateColumns:"95% 5%"}}})),_o=function(e){var t=e.index,a=e.evaluation,r=e.newEvaluation,i=e.setNewEvaluation,c=e.learningActivityIndex,s=Yo(),o=R(),l=o.uiState,d=o.dispatch;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:s.spaceResource,children:Object(n.jsxs)(H.a,{children:[Object(n.jsxs)("div",{className:s.resourceEvaluationGrid,children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)(As.a,{fullWidth:!0,variant:"outlined",children:[Object(n.jsx)(Is.a,{id:"evaluation-".concat(t,"-learningActivity-").concat(c),children:" Tipo de evaluaci\xf3n "}),Object(n.jsxs)(Rs.a,{labelId:"evaluationtype-".concat(t,"-learningActivity-").concat(c),label:"Tipo de evaluaci\xf3n",name:"type",value:a.type,onChange:function(e){return function(e){var a=e.target.value;i((function(e){return e.map((function(e,n){return n===t&&(e.type=a),e}))})),l.userSaveDesign&&d({type:D.ui.setUserSaveDesign,payload:!1})}(e)},children:[Object(n.jsx)(ti.a,{value:"Seleccionar",children:" Seleccionar "}),Object(n.jsx)(ti.a,{value:"Diagnostico",children:" Diagnostico"}),Object(n.jsx)(ti.a,{value:"Formativa",children:" Formativa"}),Object(n.jsx)(ti.a,{value:"Sumativa",children:" Sumativa"})]})]}),Object(n.jsx)(Pi.a,{variant:"outlined",margin:"dense",name:"description",value:a.description,onChange:function(e){return function(e){var a=e.target.value;i((function(e){return e.map((function(e,n){return n===t&&(e.description=a),e}))})),l.userSaveDesign&&d({type:D.ui.setUserSaveDesign,payload:!1})}(e)},label:"Descripci\xf3n",type:"text",fullWidth:!0,multiline:!0,rows:4})]}),Object(n.jsx)("div",{children:Object(n.jsx)(W.a,{display:"flex",flexDirection:"row-reverse",children:Object(n.jsx)(W.a,{children:Object(n.jsx)(kr.a,{title:"Eliminar evaluaci\xf3n",className:s.tooltip,children:Object(n.jsx)(Sr.a,{onClick:function(){return function(e){e===r.length-1?i(Object(xr.a)(r.slice(0,e))):i([].concat(Object(xr.a)(r.slice(0,e)),Object(xr.a)(r.slice(e+1,r.length)))),l.userSaveDesign&&d({type:D.ui.setUserSaveDesign,payload:!1})}(t)},children:Object(n.jsx)(Er.a,{className:s.icon})})})})})})]}),Object(n.jsx)(br.a,{style:{marginTop:10}})]})},t)})},$o=Object(F.a)((function(e){return{spaceInit:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},buttonZone:Object(N.a)({width:"100%",display:"flex",justifyContent:"space-between"},e.breakpoints.down("xs"),{flexWrap:"wrap"}),resourceZone:Object(N.a)({height:"auto"},e.breakpoints.up("xs"),{height:"100%",overflow:"auto",overflowX:"hidden"}),contentSpace:Object(N.a)({height:"auto",paddingBottom:e.spacing(6)},e.breakpoints.up("xs"),{height:"calc(100vh - 500px)",overflow:"auto"})}})),el=function(){var e=$o(),t=Object(z.a)(),a=R(),i=a.uiState,c=a.dispatch,s=ns().designState.design,o=C(),l=o.socket,d=o.emitWithTimeout,u=i.evaluationData.learningActivityIndex,j=Object(r.useState)(Object(xr.a)(s.data.learningActivities[u].evaluation)),m=Object(p.a)(j,2),b=m[0],f=m[1],g=Object(w.b)().enqueueSnackbar,h=function(){c({type:D.ui.closeModal,payload:"Evaluation"}),setTimeout((function(){f(s.data.learningActivities[u].evaluation),c({type:D.ui.setEvaluation,payload:{learningActivityIndex:null}})}),t.transitions.duration.enteringScreen)};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Ai.a,{onClose:h,open:i.isEvaluationModalOpen,fullWidth:!0,maxWidth:"md",children:[Object(n.jsx)(Ii.a,{children:"Evaluaci\xf3n de la actividad."}),Object(n.jsx)(Sr.a,{"aria-label":"close",className:e.closeButton,onClick:h,children:Object(n.jsx)(mc.a,{})}),Object(n.jsxs)(Ri.a,{dividers:!0,children:[Object(n.jsx)(Z.a,{color:"textSecondary",style:{marginBottom:10},children:" En el siguiente apartado el docente deber\xe1 definir las evaluaciones que el estudiante deber\xe1 realizar en cada actividad, se tienen 3 tipos de evaluaciones. La primera evaluaci\xf3n es de tipo diagnostico. La segunda de tipo Formativa. La tercera ser\xe1 de tipo sumativa."}),Object(n.jsx)("div",{className:e.buttonZone,children:Object(n.jsx)(U.a,{variant:"outlined",color:"primary",onClick:function(){f([].concat(Object(xr.a)(b),[{type:"Seleccionar",description:""}])),i.userSaveDesign&&c({type:D.ui.setUserSaveDesign,payload:!1})},children:"Agregar evaluaci\xf3n"})}),Object(n.jsx)(H.a,{className:e.contentSpace,children:Object(n.jsx)(W.a,{className:e.resourceZone,children:Object(n.jsx)(W.a,{children:b.map((function(e,t){return Object(n.jsx)(_o,{index:t,evaluation:e,newEvaluation:b,setNewEvaluation:f,learningActivityIndex:u},"evaluation-".concat(t,"-learningActivity-").concat(u))}))})})})]}),Object(n.jsxs)(Mi.a,{children:[Object(n.jsx)(U.a,{onClick:h,children:"Cancelar"}),Object(n.jsx)(U.a,{variant:"contained",color:"primary",onClick:function(){null===l||void 0===l||l.emit("add-evaluation-in-activity",{designId:s._id,learningActivityID:s.data.learningActivities[u].id,evaluation:Object(xr.a)(b)},d((function(e){e.ok&&i.userSaveDesign&&c({type:D.ui.setUserSaveDesign,payload:!1}),g(e.message,{variant:e.ok?"success":"error",autoHideDuration:2e3})}),(function(){return g("Error al modificar las evaluaciones de la actividad de aprendizaje. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})}))),h()},children:"Guardar evaluaci\xf3n."})]})]})})},tl=a(172),al=Object(F.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},root:{margin:10,height:400},dndZone:{width:"100%",padding:10,backgroundColor:e.palette.background.default},ellipsis:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},draggable:{display:"flex",alignItems:"center",height:55,width:"100%",marginBottom:5,border:"1px solid ".concat(e.palette.divider),borderRadius:e.shape.borderRadius,padding:"5px 10px",backgroundColor:e.palette.background.paper}}})),nl=function(){var e=Object(z.a)(),t=al(),a=Object(r.useRef)(!0),i=R(),c=i.uiState,s=i.dispatch,o=ns().designState,l=o.design,d=Object(w.b)().enqueueSnackbar,u=C(),j=u.socket,m=u.emitWithTimeout,b=Object(r.useState)(Object(xr.a)(l.data.learningActivities)),f=Object(p.a)(b,2),g=f[0],h=f[1];Object(r.useEffect)((function(){return function(){a.current=!1}}),[]),Object(r.useEffect)((function(){a.current&&h(Object(xr.a)(l.data.learningActivities))}),[l.data.learningActivities]);var x=function(){s({type:D.ui.closeModal,payload:"ReorderActivities"}),setTimeout((function(){a.current&&h(Object(xr.a)(l.data.learningActivities))}),e.transitions.duration.enteringScreen)};if(!l)return Object(n.jsx)(Z.a,{children:"Cargando..."});return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Ai.a,{open:c.isReorderActivitiesModalOpen,onClose:x,maxWidth:"sm",fullWidth:!0,children:[Object(n.jsx)(Ii.a,{children:"Ordenar Actividades"}),Object(n.jsx)(Sr.a,{"aria-label":"close",className:t.closeButton,onClick:x,children:Object(n.jsx)(mc.a,{})}),Object(n.jsx)(Ri.a,{dividers:!0,style:{padding:0},children:Object(n.jsxs)(W.a,{className:t.root,children:[Object(n.jsx)(Z.a,{variant:"body2",gutterBottom:!0,style:{marginLeft:10,marginRight:10},children:"En la siguiente lista puede ordenar las actividades de aprendizaje como desee. Para hacer esto, arrastre y suelte las actividades."}),Object(n.jsx)(Z.a,{variant:"body2",gutterBottom:!0,style:{paddingLeft:10,paddingRight:10,fontSize:"0.75rem"},children:"IMPORTANTE: Esta funcionalidad solo se encuentra disponible cuando hay un solo usuario conectado al dise\xf1o de aprendizaje."}),o.users.length>1&&Object(n.jsx)(Gr.a,{severity:"warning",variant:"outlined",style:{display:"flex",alignItems:"center"},children:"Esta funcionalidad est\xe1 habilitada cuando hay un solo usuario conectado al dise\xf1o. Por lo tanto, no podr\xe1 guardar los cambios. Por favor int\xe9ntelo m\xe1s tarde, cuando solo usted est\xe9 conectado al dise\xf1o."}),g.length>0?Object(n.jsx)(tl.a,{onDragEnd:function(e){if(e.destination){var t=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),i=Object(p.a)(r,1)[0];return n.splice(a,0,i),n}(g,e.source.index,e.destination.index);a.current&&h(t)}},children:Object(n.jsx)(tl.c,{droppableId:"reorder-activities",children:function(e,a){return Object(n.jsxs)(W.a,Object(E.a)(Object(E.a)({},e.droppableProps),{},{ref:e.innerRef,className:t.dndZone,children:[g.map((function(e,a){return Object(n.jsx)(tl.b,{draggableId:e.id,index:a,children:function(a,r){return Object(n.jsxs)("div",Object(E.a)(Object(E.a)(Object(E.a)({ref:a.innerRef},a.draggableProps),a.dragHandleProps),{},{className:t.draggable,children:[Object(n.jsx)(lo.a,{style:{marginRight:10}}),Object(n.jsxs)(W.a,{className:t.ellipsis,children:[Object(n.jsx)(Z.a,{className:t.ellipsis,color:"textPrimary",title:e.title?e.title:"Actividad sin t\xedtulo",children:e.title?e.title:"Actividad sin t\xedtulo"}),Object(n.jsx)(Z.a,{className:t.ellipsis,color:"textSecondary",variant:"caption",title:e.description?e.description:"Actividad sin Descripci\xf3n",children:e.description?e.description:"Actividad sin Descripci\xf3n"})]})]}))}},e.id)})),e.placeholder]}))}})}):Object(n.jsx)(W.a,{fontSize:"caption.fontSize",fontStyle:"italic",textAlign:"center",marginTop:"50px",children:"No se han registrado actividades para este dise\xf1o de aprendizaje."})]})}),Object(n.jsxs)(Mi.a,{children:[Object(n.jsx)(U.a,{onClick:x,children:"Cancelar"}),Object(n.jsx)(U.a,{variant:"contained",color:"primary",disabled:o.users.length>1,onClick:function(){console.log(g.map((function(e){return e.id}))),null===j||void 0===j||j.emit("reorder-activities",{designId:l._id,newOrder:g.map((function(e){return e.id}))},m((function(e){return e.ok&&c.userSaveDesign&&s({type:D.ui.setUserSaveDesign,payload:!1}),d(e.message,{variant:e.ok?"success":"error",autoHideDuration:2e3})}),(function(){return d("Error la cambiar el orden de las actividades. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})}))),x()},children:"Guardar"})]})]})})},rl=Object(F.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},root:{margin:10,height:400},dndZone:{width:"100%",padding:10,backgroundColor:e.palette.background.default},ellipsis:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},draggable:{display:"flex",alignItems:"center",height:55,width:"100%",marginBottom:5,border:"1px solid ".concat(e.palette.divider),borderRadius:e.shape.borderRadius,padding:"5px 10px",backgroundColor:e.palette.background.paper}}})),il=function(){var e=Object(z.a)(),t=rl(),a=Object(r.useRef)(!0),i=R(),c=i.uiState,s=i.dispatch,o=ns().designState,l=o.design,d=Object(w.b)().enqueueSnackbar,u=C(),j=u.socket,m=u.emitWithTimeout,b=c.reorderTaskModalState,f=b.learningActivityId,g=b.tasks;Object(r.useEffect)((function(){return function(){a.current=!1}}),[]);var h=function(){s({type:D.ui.closeModal,payload:"ReorderTasks"}),setTimeout((function(){a.current&&s({type:D.ui.setReorderTasksModalState,payload:{learningActivityId:null,tasks:[]}})}),e.transitions.duration.enteringScreen)};if(!l)return Object(n.jsx)(Z.a,{children:"Cargando..."});return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Ai.a,{open:c.isReorderTasksModalOpen,onClose:h,maxWidth:"sm",fullWidth:!0,children:[Object(n.jsx)(Ii.a,{children:"Ordenar Tareas"}),Object(n.jsx)(Sr.a,{"aria-label":"close",className:t.closeButton,onClick:h,children:Object(n.jsx)(mc.a,{})}),Object(n.jsx)(Ri.a,{dividers:!0,style:{padding:0},children:Object(n.jsxs)(W.a,{className:t.root,children:[Object(n.jsx)(Z.a,{variant:"body2",gutterBottom:!0,style:{marginLeft:10,marginRight:10},children:"En la siguiente lista puede ordenar las tareas como desee. Para hacer esto, arrastre y suelte las tareas."}),Object(n.jsx)(Z.a,{variant:"body2",gutterBottom:!0,style:{paddingLeft:10,paddingRight:10,fontSize:"0.75rem"},children:"IMPORTANTE: Esta funcionalidad solo se encuentra disponible cuando hay un solo usuario conectado al dise\xf1o de aprendizaje."}),o.users.length>1&&Object(n.jsx)(Gr.a,{severity:"warning",variant:"outlined",style:{display:"flex",alignItems:"center"},children:"Esta funcionalidad est\xe1 habilitada cuando hay un solo usuario conectado al dise\xf1o. Por lo tanto, no podr\xe1 guardar los cambios. Por favor int\xe9ntelo m\xe1s tarde, cuando solo usted est\xe9 conectado al dise\xf1o."}),g.length>0?Object(n.jsx)(tl.a,{onDragEnd:function(e){if(e.destination){var t=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),i=Object(p.a)(r,1)[0];return n.splice(a,0,i),n}(g,e.source.index,e.destination.index);a.current&&s({type:D.ui.setReorderTasksModalState,payload:{learningActivityId:f,tasks:t}})}},children:Object(n.jsx)(tl.c,{droppableId:"reorder-activities",children:function(e,a){return Object(n.jsxs)(W.a,Object(E.a)(Object(E.a)({},e.droppableProps),{},{ref:e.innerRef,className:t.dndZone,children:[g.map((function(e,a){return Object(n.jsx)(tl.b,{draggableId:e.id,index:a,children:function(a,r){return Object(n.jsxs)("div",Object(E.a)(Object(E.a)(Object(E.a)({ref:a.innerRef},a.draggableProps),a.dragHandleProps),{},{className:t.draggable,children:[Object(n.jsx)(lo.a,{style:{marginRight:10}}),Object(n.jsxs)(W.a,{className:t.ellipsis,children:[Object(n.jsx)(Z.a,{className:t.ellipsis,color:"textPrimary",title:e.description?e.description:"Actividad sin descripci\xf3n",children:e.description?e.description:"Actividad sin descripci\xf3n"}),Object(n.jsx)(Z.a,{className:t.ellipsis,color:"textSecondary",variant:"caption",title:e.learningType?e.learningType:"Actividad sin tipo",children:e.learningType?e.learningType:"Actividad sin tipo"})]})]}))}},e.id)})),e.placeholder]}))}})}):Object(n.jsx)(W.a,{fontSize:"caption.fontSize",fontStyle:"italic",textAlign:"center",marginTop:"50px",children:"No se han registrado tareas para esta actividad de aprendizaje."})]})}),Object(n.jsxs)(Mi.a,{children:[Object(n.jsx)(U.a,{onClick:h,children:"Cancelar"}),Object(n.jsx)(U.a,{variant:"contained",color:"primary",disabled:o.users.length>1,onClick:function(){null===j||void 0===j||j.emit("reorder-tasks",{designId:l._id,learningActivityId:f,newOrder:g.map((function(e){return e.id}))},m((function(e){return e.ok&&c.userSaveDesign&&s({type:D.ui.setUserSaveDesign,payload:!1}),d(e.message,{variant:e.ok?"success":"error",autoHideDuration:2e3})}),(function(){return d("Error la cambiar el orden de las tareas. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})}))),h()},children:"Guardar"})]})]})})},cl=Object(F.a)((function(e){return{root:{background:e.palette.background.workSpace,minHeight:"calc(100vh - 412px)"},leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider),background:e.palette.background.paper},workspace:Object(N.a)({paddingLeft:15,paddingRight:15,position:"relative",background:e.palette.background.workSpace,height:"auto",paddingBottom:e.spacing(6)},e.breakpoints.up("md"),{height:"calc(100vh - 212px)",paddingBottom:e.spacing(4)}),rightPanel:{display:"flex",position:"relative",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider),background:e.palette.background.paper},buttonGroupWorkSpace:{height:"auto",marginTop:e.spacing(1),marginBottom:e.spacing(1)},textLeftPanel:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},spaceData:{marginBottom:e.spacing(1),borderBottom:"2px solid ".concat(e.palette.divider)},LeftPanelMetadata:Object(N.a)({marginTop:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),height:"auto",paddingBottom:e.spacing(1)},e.breakpoints.up("xs"),{height:"calc(100vh - 235px)",overflow:"auto"}),textLeftPanelMetadata:{marginTop:e.spacing(3)},graphicsSpacing:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},betweenGraphics:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},workSpaceUnits:Object(N.a)({width:"100%",height:"auto"},e.breakpoints.up("md"),{height:"85%",overflow:"auto",overflowX:"hidden"}),buttonZone:Object(N.a)({width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:15},e.breakpoints.down("md"),{flexWrap:"wrap"}),fab:{position:"absolute",bottom:5,right:e.spacing(2)},origin:{marginTop:10,marginBottom:10,border:"1px solid ".concat(e.palette.divider),borderRadius:4,cursor:"pointer",userSelect:"none",backgroundColor:e.palette.background.design,"&:hover":{boxShadow:"0px 0px 10px 0 #bcc3d6",background:e.palette.background.designHover}}}})),sl=function(){var e=cl(),t=ns().designState,a=x().authState,i=Object(B.g)(),c=t.design,s=c.metadata,o=C(),l=o.socket,d=o.emitWithTimeout,u=Object(w.b)().enqueueSnackbar,j=Object(z.a)(),m=Object(mr.a)(j.breakpoints.down("md")),b=R(),f=b.uiState,g=b.dispatch,h=Object(r.useState)(null),O=Object(p.a)(h,2),v=O[0],y=O[1],k=Object(r.useRef)(),S=Wc().userConfig,T=Object(r.useState)(!1),N=Object(p.a)(T,2),E=N[0],A=N[1],I=!1,P=!1,M=!1,F=Object(r.useMemo)((function(){return c.data.learningActivities.reduce((function(e,t){return e[t.id]=Object(r.createRef)(),e}),{})}),[c.data.learningActivities]),q=function(){g({type:D.ui.openModal,payload:"ReorderActivities"})},Q=function(e){A(!0),V(),g({type:D.ui.setPDF,payload:e}),g({type:D.ui.openModal,payload:"PDF"})},V=function(){y(null)};return c.data.learningActivities.forEach((function(e){void 0!==e.tasks&&e.tasks.forEach((function(e){""!==e.learningType&&"Seleccionar"!==e.learningType&&(I=!0),""!==e.format&&"Seleccionar"!==e.format&&(P=!0),""!==e.modality&&"Seleccionar"!==e.modality&&(M=!0)}))})),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(H.a,{container:!0,className:e.root,children:[Object(n.jsxs)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.leftPanel,children:[Object(n.jsx)(H.a,{container:!0,alignItems:"center",justify:"center",children:Object(n.jsx)(Z.a,{className:e.textLeftPanel,children:" INFORMACI\xd3N DISE\xd1O "})}),Object(n.jsx)(br.a,{className:e.spaceData}),Object(n.jsxs)(H.a,{className:e.LeftPanelMetadata,children:[Object(n.jsx)(H.a,{children:s&&s.name&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",children:" Nombre "}),Object(n.jsx)(Z.a,{variant:"body2",children:s.name}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:s&&s.category&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:e.textLeftPanelMetadata,children:"Tema"}),Object(n.jsxs)(Z.a,{variant:"body2",children:[" ",s.category.name," "]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:s&&s.workingTime&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:e.textLeftPanelMetadata,children:" Tiempo de trabajo "}),Object(n.jsxs)(Z.a,{variant:"body2",children:[" ",s.workingTime.hours," (hrs) : ",s.workingTime.minutes," (min)"]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:s&&s.workingTimeDesign&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:e.textLeftPanelMetadata,children:"Tiempo de trabajo Dise\xf1o"}),Object(n.jsxs)(Z.a,{variant:"body2",children:[" ",s.workingTimeDesign.hours," (hrs) : ",s.workingTimeDesign.minutes," (min)"]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:s&&null!==s.classSize&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:e.textLeftPanelMetadata,children:" Tama\xf1o de la clase "}),Object(n.jsxs)(Z.a,{variant:"body2",children:[" ",s.classSize," "]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:s&&s.priorKnowledge&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:e.textLeftPanelMetadata,children:" Conocimiento Previo "}),Object(n.jsxs)(Z.a,{variant:"body2",component:W.a,children:[" ",Object(n.jsx)("pre",{style:{fontFamily:"inherit",margin:0,wordBreak:"break-word",whiteSpace:"pre-wrap"},children:s.priorKnowledge})]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:s&&s.description&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:e.textLeftPanelMetadata,children:" Descripci\xf3n "}),Object(n.jsxs)(Z.a,{variant:"body2",component:W.a,children:[" ",Object(n.jsx)("pre",{style:{fontFamily:"inherit",margin:0,wordBreak:"break-word",whiteSpace:"pre-wrap"},children:s.description})," "]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:s&&s.evaluation&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:e.textLeftPanelMetadata,children:" Evaluaci\xf3n "}),Object(n.jsxs)(Z.a,{variant:"body2",component:W.a,children:[" ",Object(n.jsx)("pre",{style:{fontFamily:"inherit",margin:0,wordBreak:"break-word",whiteSpace:"pre-wrap"},children:s.evaluation})," "]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:s&&null!==s.scoreMean&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:e.textLeftPanelMetadata,children:" Valoraci\xf3n media (0 - 5) "}),Object(n.jsx)(W.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",children:s.scoreMean}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:s&&s.results&&Object(n.jsxs)("div",{className:e.textLeftPanelMetadata,children:[s.results.map((function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(Z.a,{variant:"body2",color:"textSecondary",children:["Aprendizaje esperado ",t+1]}),Object(n.jsx)(Z.a,{variant:"body2",gutterBottom:!0,children:e.verb+" "+e.description})]},"learning-result-".concat(t))})),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:c.origin&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:e.textLeftPanelMetadata,children:" Derivado del dise\xf1o: "}),Object(n.jsxs)(vr.a,{className:e.origin,elevation:0,children:[Object(n.jsx)(yr.a,{onClick:function(){return function(e){e.privileges.find((function(e){return a.user.uid===e.user._id}))?e.privileges.find((function(e){return a.user.uid===e.user&&0===e.type}))?i.push("/designs/".concat(e._id)):i.push("/designs/reader/".concat(e._id)):e.metadata.isPublic?i.push("/designs/reader/".concat(e._id)):u("Usted no tiene acceso a este dise\xf1o.",{variant:"error",autoHideDuration:2e3})}(c.origin)},children:Object(n.jsxs)(W.a,{style:{display:"flex",alignItems:"center",padding:5},children:[Object(n.jsx)(Tr.a,{style:{marginBottom:5}}),Object(n.jsx)(Z.a,{style:{marginLeft:10},variant:"body2",children:c.origin.metadata.name})]})}),Object(n.jsx)(br.a,{}),Object(n.jsx)(yr.a,{component:L.b,to:"/profile/".concat(c.origin.owner._id),children:Object(n.jsxs)(W.a,{style:{display:"flex",alignItems:"center",padding:5},children:[Object(n.jsx)(G.a,{style:{width:25,height:25,fontSize:15},alt:Dr(c.origin.owner.name,c.origin.owner.lastname),src:c.origin.owner.img&&c.origin.owner.img.length>0?"".concat("http://dma.uct.cl/","uploads/users/").concat(c.origin.owner.img):"",children:Ar(c.origin.owner.name,c.origin.owner.lastname)}),Object(n.jsx)(Z.a,{style:{marginLeft:10},variant:"body2",children:Dr(c.origin.owner.name,c.origin.owner.lastname)})]})})]})]})})]})]}),Object(n.jsxs)(H.a,{item:!0,xs:12,md:6,lg:8,className:e.workspace,children:[Object(n.jsxs)("div",{className:e.buttonZone,children:[Object(n.jsxs)(ei.a,{variant:"selectedMenu",anchorEl:v,keepMounted:!0,open:Boolean(v),onClose:V,children:[Object(n.jsx)(ti.a,{onClick:function(){return Q("teacher")},children:"PDF Docente"}),Object(n.jsx)(ti.a,{onClick:function(){return Q("student")},children:"PDF Estudiante"}),Object(n.jsx)(ti.a,{onClick:function(e){var t=JSON.parse(JSON.stringify(c));t.comments=[],t.assessments=[],t.folder="",t.origin=t._id,t.privileges=[],t.owner="",t.metadata.scoreMean=0;var a,n=Object(Gi.a)(t.data.learningActivities);try{for(n.s();!(a=n.n()).done;){var r=a.value;r.id=jo()().toString();var i,s=Object(Gi.a)(r.tasks);try{for(s.s();!(i=s.n()).done;){i.value.id=jo()().toString()}}catch(o){s.e(o)}finally{s.f()}}}catch(o){n.e(o)}finally{n.f()}delete t._id,delete t.createdAt,delete t.updatedAt,delete t.readOnlyLink,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"example.json";"object"===typeof e&&(e=JSON.stringify(e));var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),a.setAttribute("download",t),a.click()}(t,"".concat(0===c.metadata.name.trim().length?"Dise\xf1o sin nombre":c.metadata.name.trim(),".json")),V()},children:"Respaldar Dise\xf1o"})]}),Object(n.jsxs)(Es.a,{fullWidth:m,className:e.buttonGroupWorkSpace,children:[Object(n.jsx)(U.a,{onClick:function(e){y(e.currentTarget)},children:"Exportar"}),Object(n.jsx)(U.a,{onClick:function(){g({type:D.ui.openModal,payload:"Share"})},children:"Compartir"}),Object(n.jsx)(U.a,{onClick:function(e){null===l||void 0===l||l.emit("save-design",{designId:c._id},d((function(e){e.ok&&!f.userSaveDesign&&g({type:D.ui.setUserSaveDesign,payload:!0}),u(e.message,{variant:"success",autoHideDuration:2e3})}),(function(){return u("Error al intentar guardar el dise\xf1o. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})})))},children:"Guardar"})]}),t.users.length>1?Object(n.jsx)(kr.a,{title:"Esta funci\xf3n no esta disponible de manera colaborativa, debe haber 1 solo usuario conectado.",arrow:!0,children:Object(n.jsx)(W.a,{children:Object(n.jsxs)(U.a,{size:"small",fullWidth:m,style:{height:36},variant:"outlined",disabled:t.users.length>1,onClick:q,children:[Object(n.jsx)(lo.a,{style:{marginRight:10}})," Ordenar Actividades"]})})}):Object(n.jsxs)(U.a,{size:"small",fullWidth:m,style:{height:36},variant:"outlined",disabled:t.users.length>1,onClick:q,children:[Object(n.jsx)(lo.a,{style:{marginRight:10}})," Ordenar Actividades"]})]}),Object(n.jsx)(W.a,{id:"learningActivities",className:e.workSpaceUnits,children:Object(n.jsx)(W.a,{children:Object(n.jsx)(H.a,{className:e.workSpaceUnits,children:Object(n.jsx)(H.a,{children:c.data.learningActivities&&c.data.learningActivities.map((function(e,t){return Object(n.jsx)(mo,{refActivity:F[e.id],index:t,learningActivity:e,sumHours:0,sumMinutes:0},"learningActivity-".concat(e.id,"-").concat(t))}))})})})}),Object(n.jsx)(kr.a,{title:"Agregar actividad de aprendizaje",arrow:!0,children:Object(n.jsx)(Ds.a,{color:"primary",className:e.fab,onClick:function(){var e=jo()().toString();null===l||void 0===l||l.emit("new-learningActivity",{designId:c._id,id:e},d((function(e){if(!e.ok)return u(e.message,{variant:"error",autoHideDuration:2e3});f.userSaveDesign&&g({type:D.ui.setUserSaveDesign,payload:!1})}),(function(){return u("Error al agregar la nueva actividad de aprendizaje. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})}))),g({type:D.ui.setScrollToNewActivity,payload:!0})},children:Object(n.jsx)(bi.a,{})})})]}),Object(n.jsxs)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.rightPanel,children:[(ro.forEach((function(e){e.value=0})),io.forEach((function(e){e.value=0})),co.forEach((function(e){e.value=0})),void so.forEach((function(e){e.value=0}))),Object(n.jsx)("div",{style:{position:"absolute",zIndex:1,width:"100%"},children:Object(n.jsxs)(H.a,{className:e.graphicsSpacing,children:[c.data.learningActivities&&c.data.learningActivities.map((function(e){return e.tasks&&e.tasks.forEach((function(e){ro.forEach((function(t){t.title===e.learningType&&(t.minutes=60*e.duration.hours+e.duration.minutes,t.value=t.value+t.minutes)})),io.forEach((function(t){t.title===e.learningType&&(t.minutes=60*e.duration.hours+e.duration.minutes,t.value=t.value+t.minutes)})),co.forEach((function(t){t.title===e.format&&(t.minutes=60*e.duration.hours+e.duration.minutes,t.value=t.value+t.minutes)})),so.forEach((function(t){t.title===e.modality&&(t.minutes=60*e.duration.hours+e.duration.minutes,t.value=t.value+t.minutes)}))}))})),I&&Object(n.jsx)("div",{className:e.betweenGraphics,children:Object(n.jsx)(go,{items:io,colorGraphicToPdf:!0})}),P&&Object(n.jsxs)("div",{className:e.betweenGraphics,children:[Object(n.jsx)(Z.a,{children:"Formato"}),Object(n.jsx)(no,{items:co,type:"Format",legends:!0,colorGraphicToPdf:!0})]}),M&&Object(n.jsxs)("div",{className:e.betweenGraphics,children:[Object(n.jsx)(Z.a,{children:"Modalidad"}),Object(n.jsx)(no,{items:so,type:"Modality",legends:!0,colorGraphicToPdf:!0})]})]})}),Object(n.jsx)("div",{style:{zIndex:0,width:"100%"},children:Object(n.jsxs)(H.a,{className:e.graphicsSpacing,ref:k,children:[c.data.learningActivities&&c.data.learningActivities.map((function(e){return e.tasks&&e.tasks.forEach((function(e){ro.forEach((function(t){t.title===e.learningType&&(t.minutes=60*e.duration.hours+e.duration.minutes,t.value=t.value+t.minutes)})),io.forEach((function(t){t.title===e.learningType&&(t.minutes=60*e.duration.hours+e.duration.minutes,t.value=t.value+t.minutes)})),co.forEach((function(t){t.title===e.format&&(t.minutes=60*e.duration.hours+e.duration.minutes,t.value=t.value+t.minutes)})),so.forEach((function(t){t.title===e.modality&&(t.minutes=60*e.duration.hours+e.duration.minutes,t.value=t.value+t.minutes)}))}))})),I&&Object(n.jsx)("div",{className:e.betweenGraphics,children:Object(n.jsx)(go,{items:io,colorGraphicToPdf:!1})}),P&&Object(n.jsxs)("div",{className:e.betweenGraphics,children:[S.darkTheme?Object(n.jsx)(Z.a,{style:{color:"#000000"},children:"Formato"}):Object(n.jsx)(Z.a,{children:"Formato"}),Object(n.jsx)(no,{items:co,type:"Format",legends:!0,colorGraphicToPdf:!1})]}),M&&Object(n.jsxs)("div",{className:e.betweenGraphics,children:[S.darkTheme?Object(n.jsx)(Z.a,{style:{color:"#000000"},children:"Modalidad"}):Object(n.jsx)(Z.a,{children:"Modalidad"}),Object(n.jsx)(no,{items:so,type:"Modality",legends:!0,colorGraphicToPdf:!1})]})]})})]}),Object(n.jsx)(vo,{}),Object(n.jsx)(nl,{}),Object(n.jsx)(il,{}),E&&Object(n.jsx)(Qo,{imgGraphic:k,setPdfView:A}),f.isResourceModalOpen&&Object(n.jsx)(Xo,{}),f.isEvaluationModalOpen&&Object(n.jsx)(el,{})]})})},ol=Object(F.a)((function(e){return{root:Object(N.a)({position:"relative",display:"flex",padding:20,width:"49%",marginBottom:10,borderRadius:5,border:"1px solid ".concat(e.palette.divider)},e.breakpoints.down("xs"),{width:"100%"}),description:{overflow:"hidden",textOverflow:"ellipsis",textAlign:"justify"},actions:{width:96,display:"flex",alignItems:"flex-start"}}})),ll=function(e){var t=e.category,a=e.verb,r=e.description,i=e.index,c=ol(),s=R(),o=s.uiState,l=s.dispatch,d=ns(),u=d.designState,j=d.dispatch,p=u.design;return Object(n.jsxs)("div",{className:c.root,children:[Object(n.jsxs)("div",{style:{width:"100%"},children:[Object(n.jsx)(Z.a,{color:"textSecondary",gutterBottom:!0,variant:"caption",children:"Resultado"}),Object(n.jsxs)(Z.a,{variant:"body2",children:[a," ",r]})]}),Object(n.jsxs)("div",{className:c.actions,children:[Object(n.jsx)(Sr.a,{className:c.deleteIcon,onClick:function(){j({type:D.design.setCurrentLearningResult,payload:{category:t,verb:a,description:r,editing:!0,index:i}}),l({type:D.ui.openModal,payload:"LearningResult"})},children:Object(n.jsx)(ni.a,{})}),Object(n.jsx)(Sr.a,{className:c.deleteIcon,onClick:function(){l({type:D.ui.setConfirmData,payload:{type:"resultado de aprendizaje",args:{designId:p._id,index:i},actionMutation:null}}),l({type:D.ui.openModal,payload:"Confirmation"}),o.userSaveDesign&&l({type:D.ui.setUserSaveDesign,payload:!1})},children:Object(n.jsx)(Er.a,{})})]})]})},dl=a(1350),ul=a(1323),jl=a(1337),pl=a(1319),ml=Object(F.a)((function(e){return{root:{width:"100%",height:300,clipPath:"polygon(50% 0, 0 100%, 100% 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},option:{backgroundColor:e.palette.secondary.main,marginBottom:10,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.getContrastText(e.palette.secondary.main),"&:hover":{transition:"box-shadow .3s",cursor:"pointer",boxShadow:"0 0px 8px 0 rgba(0, 0, 0, 0.2), 0 0px 20px 0 rgba(0, 0, 0, 0.19)"}},crear:{paddingTop:30,height:"25%"},evaluar:{height:"16.6%"},analizar:{height:"16.6%"},aplicar:{height:"16.6%"},comprender:{height:"16.6%"},recordar:{height:"16.6%"},active:{boxShadow:"0 0px 8px 0 rgba(0, 0, 0, 0.2), 0 0px 20px 0 rgba(0, 0, 0, 0.19)",backgroundColor:e.palette.primary.main,color:e.palette.getContrastText(e.palette.primary.main)}}})),bl=function(){var e=ml(),t=ns(),a=t.designState,r=t.dispatch,i=a.currentLearningResult.category,c=a.bloomCategories;return Object(n.jsx)("div",{className:e.root,children:c.map((function(t){var a=i._id===t._id;return Object(n.jsx)("div",{onClick:function(){return e=a?null:t,void r({type:D.design.setCurrentLearningResultField,payload:{field:"category",value:e}});var e},className:"".concat(e.option," ").concat(e[t.name.toLowerCase()]," ").concat(a&&e.active),children:t.name},t._id)}))})},fl=a(1333),gl=Object(F.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:"center"},option:{minWidth:"25%"}}})),hl=function(){var e=gl(),t=ns(),a=t.designState,r=t.dispatch,i=a.currentLearningResult.category,c=a.currentLearningResult.verb,s=a.bloomVerbs;return Object(n.jsx)("div",{className:e.root,children:s.filter((function(e){return e.category===i._id})).map((function(t){var a=c===t.name;return Object(n.jsx)(Tc.a,{className:e.option,value:t.name,control:Object(n.jsx)(fl.a,{checked:a,onChange:function(e){return a=t.name,void r({type:D.design.setCurrentLearningResultField,payload:{field:"verb",value:a}});var a},value:t.name}),label:t.name},t._id)}))})},xl=Object(F.a)((function(e){return{closeButton:{color:e.palette.grey[500]},title:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},adornament:{display:"flex",alignItems:"flex-start"},steps:{padding:0,marginTop:30,marginBottom:30},stepContent:Object(N.a)({margin:20},e.breakpoints.down("xs"),{margin:10})}})),Ol=function(e){var t,a=e.design,i=e.isOpen,c=xl(),s=Object(z.a)(),o=Object(w.b)().enqueueSnackbar,l=C(),d=l.socket,u=l.emitWithTimeout,j=ns(),m=j.designState,b=j.dispatch,f=R(),g=f.uiState,h=f.dispatch,x=m.currentLearningResult,O=x.category,v=x.verb,y=x.editing,k=x.index,S=Object(r.useState)(null!==(t=m.currentLearningResult.description)&&void 0!==t?t:""),T=Object(p.a)(S,2),N=T[0],E=T[1],A=Object(r.useState)(0),I=Object(p.a)(A,2),P=I[0],M=I[1],L=["Selecciona una categor\xeda de bloom","Selecciona un verbo","Proporciona una descripci\xf3n"],B=Object(r.useRef)(!0);Object(r.useEffect)((function(){return function(){B.current=!1}}),[]),Object(r.useEffect)((function(){B.current&&E(m.currentLearningResult.description)}),[E,m.currentLearningResult.description]);var F=function(){h({type:D.ui.closeModal,payload:"LearningResult"}),setTimeout((function(){B.current&&M(0),E(""),b({type:D.design.clearCurrentLearningResult})}),s.transitions.duration.enteringScreen)};return Object(n.jsxs)(Ai.a,{fullWidth:!0,open:i,onClose:F,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(Ii.a,{style:{padding:"5px 5px 5px 16px"},children:Object(n.jsxs)(W.a,{className:c.title,children:[Object(n.jsx)(W.a,{className:c.ellipsis,children:y?"Editar aprendizaje esperado":"Nuevo aprendizaje esperado"}),Object(n.jsx)(Sr.a,{"aria-label":"close",className:c.closeButton,onClick:F,children:Object(n.jsx)(Li.a,{})})]})}),Object(n.jsxs)(Ri.a,{dividers:!0,style:{padding:0},children:[Object(n.jsx)(dl.a,{classes:{root:c.steps},activeStep:P,alternativeLabel:!0,children:L.map((function(e){return Object(n.jsx)(ul.a,{children:Object(n.jsx)(jl.a,{children:e})},e)}))}),0===P?Object(n.jsxs)(W.a,{className:c.stepContent,children:[Object(n.jsx)(Z.a,{style:{marginLeft:10,marginRight:10,marginBottom:10},align:"justify",children:"En la siguiente pir\xe1mide se encuentran las distintas categor\xedas o habilidades de pensamiento descritas seg\xfan la taxonom\xeda de Benjam\xedn Bloom."}),Object(n.jsx)(Z.a,{style:{marginLeft:10,marginRight:10,marginBottom:10},align:"justify",children:"Por favor seleccione la categor\xeda que m\xe1s sentido tenga con el aprendizaje esperado que desea crear."}),Object(n.jsx)(bl,{})]}):1===P?Object(n.jsxs)(W.a,{className:c.stepContent,children:[Object(n.jsxs)(Z.a,{style:{marginLeft:10,marginRight:10,marginBottom:10},align:"justify",children:['En la siguiente lista se encuentran los distintos verbos descritos por la taxonom\xeda de Bloom disponibles para la categor\xeda "',m.bloomCategories.find((function(e){return e._id===O._id})).name,'".']}),Object(n.jsx)(Z.a,{style:{marginLeft:10,marginRight:10,marginBottom:10},align:"justify",children:"Por favor seleccione el verbo que m\xe1s sentido tenga con el aprendizaje esperado que desea crear."}),Object(n.jsx)(hl,{})]}):Object(n.jsxs)(W.a,{className:c.stepContent,children:[Object(n.jsxs)(Z.a,{style:{marginLeft:10,marginRight:10,marginBottom:10},align:"justify",children:['Usted ha seleccionado el verbo "',v,'" correspondiente a la categor\xeda "',m.bloomCategories.find((function(e){return e._id===O._id})).name,'".']}),Object(n.jsx)(Z.a,{style:{marginLeft:10,marginRight:10,marginBottom:10},align:"justify",children:"Por favor complete la descripci\xf3n del resultado de aprendizaje."}),Object(n.jsx)(Pi.a,{multiline:!0,classes:{},rows:6,variant:"outlined",name:"description",value:null!==N&&void 0!==N?N:"",onChange:function(e){var t=e.target;return E(t.value)},label:"Descripci\xf3n",type:"text",InputProps:{style:{display:"flex",alignItems:"flex-start"},startAdornment:Object(n.jsx)(pl.a,{position:"start",style:{height:"100%"},classes:{root:c.adornament},children:Object(n.jsx)("div",{style:{width:"100%",height:"100%"},children:v})})},fullWidth:!0})]})]}),Object(n.jsxs)(Mi.a,{children:[Object(n.jsx)(U.a,{disabled:0===P,onClick:function(){B.current&&M((function(e){return e-1}))},children:"Volver"}),P===L.length-1?Object(n.jsx)(U.a,{variant:"contained",color:"primary",disabled:2===P&&(null===N||""===N),onClick:function(){if(!N||N&&""===N.trim())return console.log("No se ha ingresado una descripci\xf3n.");b({type:D.design.setCurrentLearningResultField,payload:{field:"description",value:N}}),y?y&&(null===d||void 0===d||d.emit("edit-learning-result",{designId:a._id,index:k,learningResult:{category:O,verb:v,description:N}},u((function(e){if(!e.ok)return o(e.message,{variant:"error",autoHideDuration:2e3});g.userSaveDesign&&h({type:D.ui.setUserSaveDesign,payload:!1}),F()}),(function(){return o("Error al editar el aprendizaje esperado. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})})))):null===d||void 0===d||d.emit("add-learning-result",{designId:a._id,learningResult:{category:O,verb:v,description:N}},u((function(e){if(!e.ok)return o(e.message,{variant:"error",autoHideDuration:2e3});g.userSaveDesign&&h({type:D.ui.setUserSaveDesign,payload:!1}),F()}),(function(){return o("Error al agregar el aprendizaje esperado. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})})))},children:"Finalizar"}):Object(n.jsx)(U.a,{variant:"contained",color:"primary",disabled:0===P?null===O._id:1===P&&null===v,onClick:function(){return 0===P&&null===O._id&&null===O.name?console.log("No ha seleccionado una categor\xeda de bloom."):1!==P||""!==v&&v?void(B.current&&M((function(e){return e+1}))):console.log("No ha seleccionado un verbo de bloom.")},children:"Siguiente"})]})]})},vl=a(1324),yl=Object(r.forwardRef)((function(e,t){var a=e.name,i=e.value,c=e.onSave,s=Object(ur.a)(e,["name","value","onSave"]),o=Object(r.useState)(!1),l=Object(p.a)(o,2),d=l[0],u=l[1],j=Object(r.useState)(i),m=Object(p.a)(j,2),b=m[0],f=m[1];Object(r.useEffect)((function(){f(i)}),[i,f]);var g=Object(r.useCallback)((function(){c&&c({target:{name:a,value:b}}),u(!1)}),[a,c,b]);Object(r.useImperativeHandle)(t,(function(){return{editing:d,handleSave:g}}));return Object(n.jsx)(Pi.a,Object(E.a)({name:a,disabled:!d,value:b,onChange:function(e){var t=e.target;f(t.value)},InputProps:{readOnly:!d,endAdornment:Object(n.jsx)(Sr.a,{onClick:d?g:function(){u(!0)},onMouseDown:function(e){return e.preventDefault()},children:d?Object(n.jsx)(vl.a,{}):Object(n.jsx)(ni.a,{})})}},s))})),wl=Object(F.a)((function(e){return{leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},workspace:{paddingTop:15,paddingLeft:30,paddingRight:30,background:e.palette.background.workSpace,minHeight:"calc(100vh - 177px)"},rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},title:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center"},sectionAction:Object(N.a)({},e.breakpoints.down("xs"),{width:"100%"}),content:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",marginTop:10,marginBottom:10},grid:{display:"flex",alignItems:"center"},category:{width:"100%"},categoryPopOver:{maxHeight:400},timeField:{marginRight:10,display:"flex",alignItems:"center"},clickHere:{textDecoration:"none",cursor:"pointer","&:hover":{textDecoration:"underline"}},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},learningResults:{flexWrap:"wrap"}}})),kl=Object(r.forwardRef)((function(e,t){var a,i,c,s,o,l,d=e.evaluationPatternRef,m=wl(),b=C(),f=b.socket,g=b.online,h=b.emitWithTimeout,O=Ws().connected,v=x().authState,y=Object(r.useRef)(!0),k=R(),S=k.uiState,T=k.dispatch,N=ns().designState.design,A=N.metadata,I=Object(w.b)().enqueueSnackbar,P=Object(r.useRef)(),M=Object(r.useRef)(),L=Object(r.useRef)(),B=Object(r.useRef)(),F=Object(r.useRef)(),z=Object(r.useRef)(),G=Object(r.useRef)(),q=Object(r.useRef)(),Q=jc({name:A.name,category:null!==(a=A.category.name)&&void 0!==a?a:"Sin categor\xeda",classSize:A.classSize,workingTimeDesignHours:null!==(i=A.workingTimeDesign.hours)&&void 0!==i?i:0,workingTimeDesignMinutes:null!==(c=A.workingTimeDesign.minutes)&&void 0!==c?c:0,workingTimeHours:null!==(s=A.workingTime.hours)&&void 0!==s?s:0,workingTimeMinutes:null!==(o=A.workingTime.minutes)&&void 0!==o?o:0,priorKnowledge:A.priorKnowledge,description:A.description,objective:A.objective,isPublic:A.isPublic,evaluation:A.evaluation,evaluationPattern:A.evaluationPattern,keywords:null!==(l=N.keywords)&&void 0!==l?l:[]}),V=Object(p.a)(Q,4),K=V[0],J=V[1],X=V[3];Object(r.useImperativeHandle)(t,(function(){return{clearEditors:function(){var e,t,a,n,r,i,c;null===P||void 0===P||null===(e=P.current)||void 0===e||e.clearText(),null===M||void 0===M||null===(t=M.current)||void 0===t||t.clearText(),null===L||void 0===L||null===(a=L.current)||void 0===a||a.clearText(),null===B||void 0===B||null===(n=B.current)||void 0===n||n.clearText(),null===F||void 0===F||null===(r=F.current)||void 0===r||r.clearText(),null===z||void 0===z||null===(i=z.current)||void 0===i||i.clearText(),null===G||void 0===G||null===(c=G.current)||void 0===c||c.clearText()}}})),Object(r.useEffect)((function(){return function(){y.current=!1}}),[]);var Y=Object(r.useCallback)((function(e){y.current&&J({target:{name:"keywords",value:e}})}),[J]);Object(r.useEffect)((function(){y.current&&JSON.stringify(K.keywords)!==JSON.stringify(N.keywords)&&Y(Object(xr.a)(N.keywords))}),[N.keywords,K.keywords,Y]),Object(r.useEffect)((function(){var e;y.current&&(K.category!==A.category.name&&J({target:{name:"category",value:null!==(e=A.category.name)&&void 0!==e?e:"Sin categor\xeda"}}))}),[A.category,K.category,X,J]),Object(r.useEffect)((function(){var e;y.current&&(K.evaluation!==A.evaluation&&J({target:{name:"evaluation",value:null!==(e=A.evaluation)&&void 0!==e?e:""}}))}),[A.evaluation,K.evaluation,X,J]),Object(r.useEffect)((function(){y.current&&K.name!==A.name&&J({target:{name:"name",value:A.name}})}),[A.name,K.name,X,J]),Object(r.useEffect)((function(){y.current&&K.classSize!==A.classSize&&J({target:{name:"classSize",value:A.classSize}})}),[A.classSize,K.classSize,X,J]),Object(r.useEffect)((function(){y.current&&K.description!==A.description&&J({target:{name:"description",value:A.description}})}),[A.description,K.description,X,J]),Object(r.useEffect)((function(){y.current&&K.workingTimeDesignHours!==A.workingTimeDesign.hours&&J({target:{name:"workingTimeDesignHours",value:A.workingTimeDesign.hours}})}),[A.workingTimeDesign,K.workingTimeDesignHours,X,J]),Object(r.useEffect)((function(){var e;y.current&&(K.workingTimeDesignMinutes!==A.workingTimeDesign.minutes&&J({target:{name:"workingTimeDesignMinutes",value:null!==(e=A.workingTimeDesign.minutes)&&void 0!==e?e:0}}))}),[A.workingTimeDesign,K.workingTimeDesignMinutes,X,J]),Object(r.useEffect)((function(){var e;y.current&&(K.workingTimeHours!==A.workingTime.hours&&J({target:{name:"workingTimeHours",value:null!==(e=A.workingTime.hours)&&void 0!==e?e:0}}))}),[A.workingTime.hours,K.workingTimeHours,X,J]),Object(r.useEffect)((function(){var e;y.current&&(K.workingTimeMinutes!==A.workingTime.minutes&&J({target:{name:"workingTimeMinutes",value:null!==(e=A.workingTime.minutes)&&void 0!==e?e:0}}))}),[A.workingTime.minutes,K.workingTimeMinutes,X,J]),Object(r.useEffect)((function(){y.current&&K.priorKnowledge!==A.priorKnowledge&&J({target:{name:"priorKnowledge",value:A.priorKnowledge}})}),[A.priorKnowledge,K.priorKnowledge,X,J]),Object(r.useEffect)((function(){y.current&&K.objective!==A.objective&&J({target:{name:"objective",value:A.objective}})}),[A.objective,K.objective,X,J]),Object(r.useEffect)((function(){y.current&&K.isPublic!==A.isPublic&&J({target:{name:"isPublic",value:A.isPublic}})}),[A.isPublic,K.isPublic,X,J]),Object(r.useEffect)((function(){y.current&&K.evaluationPattern!==A.evaluationPattern&&J({target:{name:"evaluationPattern",value:A.evaluationPattern}})}),[A.evaluationPattern,K.evaluationPattern,X,J]);var _=K.name,$=K.category,ee=K.classSize,te=K.workingTimeDesignHours,ae=K.workingTimeDesignMinutes,ne=K.workingTimeHours,re=K.workingTimeMinutes,ie=K.priorKnowledge,ce=K.description,se=K.isPublic,oe=K.keywords,le=K.evaluation,de=K.evaluationPattern,ue=Object(gr.a)("categories",Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bs();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}),je=ue.isLoading,pe=ue.isError,me=ue.data,be=ue.error;if(pe)return Object(n.jsx)(Z.a,{children:be.message});var fe=function(e){var t=e.target,a=t.name,n=t.value;n="number"!==t.type||isNaN(t.value)?"checkbox"===t.type?t.checked:t.value:parseInt(t.value);var r={target:{name:t.name,value:n}},i=null;switch(a){case"workingTimeHours":a="workingTime",i="hours",n=isNaN(n)?0:n;break;case"workingTimeMinutes":a="workingTime",i="minutes",n=isNaN(n)?0:n;break;case"category":n=me.categories.find((function(e){return e.name===n}))}null===f||void 0===f||f.emit("edit-metadata-field",{designId:N._id,field:a,value:n,subfield:i},h((function(e){if(!e.ok)return I(e.message,{variant:"error",autoHideDuration:2e3});S.userSaveDesign&&T({type:D.ui.setUserSaveDesign,payload:!1})}),(function(){g&&O||I("Error al editar el dise\xf1o. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})}))),i?void 0!==A[a]&&null!==A[a]&&void 0!==A[a][i]&&null!==A[a][i]&&A[a][i].toString()===n.toString()||y.current&&J(r):void 0!==A[a]&&null!==A[a]&&A[a].toString()===n.toString()||y.current&&J(r)},ge=function(){return T({type:D.ui.openModal,payload:"LearningResult"})};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(H.a,{container:!0,children:[Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:m.leftPanel}),Object(n.jsxs)(H.a,{item:!0,xs:12,md:6,lg:8,className:m.workspace,children:[Object(n.jsx)("div",{className:m.title,children:je?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(qr.a,{width:300,height:50}),Object(n.jsx)(qr.a,{width:150,height:50})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"h4",children:"Informaci\xf3n Dise\xf1o"}),Object(n.jsx)(U.a,{className:m.sectionAction,variant:"outlined",color:"default",onClick:function(e){d.current.editing&&d.current.handleSave(),null===f||void 0===f||f.emit("save-design",{designId:N._id},h((function(e){e.ok&&!S.userSaveDesign&&T({type:D.ui.setUserSaveDesign,payload:!0}),I(e.message,{variant:e.ok?"success":"error",autoHideDuration:2e3})}),(function(){return I("Error al intentar guardar el dise\xf1o. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})})))},children:"Guardar Informaci\xf3n"})]})}),Object(n.jsx)(br.a,{}),Object(n.jsxs)(H.a,{container:!0,spacing:3,className:m.content,children:[Object(n.jsx)(H.a,{item:!0,className:m.grid,xs:12,sm:12,md:6,lg:8,children:je?Object(n.jsx)(qr.a,{width:"100%",height:70}):Object(n.jsx)(Pi.a,{label:"Nombre",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"none",variant:"outlined",color:"primary",InputProps:{inputComponent:$s,inputProps:{ref:P,name:"name",placeholder:"Nombre",initialvalue:_,onChange:fe}}})}),Object(n.jsx)(H.a,{item:!0,className:m.grid,xs:6,sm:6,md:3,lg:2,children:Object(n.jsx)("div",{style:{width:"100%"},children:je?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(qr.a,{width:80,height:20}),Object(n.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center"},children:[Object(n.jsx)(qr.a,{width:40,height:20,style:{marginRight:10}}),Object(n.jsx)(qr.a,{width:"100%",height:20})]})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",children:"Visibilidad"}),Object(n.jsx)(Tc.a,{control:Object(n.jsx)(Nc.a,{name:"isPublic",checked:se,onChange:fe,disabled:!(N.owner===v.user.uid)}),label:se?"P\xfablico":"Privado"})]})})}),Object(n.jsx)(H.a,{item:!0,className:m.grid,xs:6,sm:6,md:3,lg:2,children:Object(n.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"flex-start"},children:je?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(qr.a,{width:80,height:20}),Object(n.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center"},children:[Object(n.jsx)(qr.a,{width:40,height:20,style:{marginRight:10}}),Object(n.jsx)(qr.a,{width:"100%",height:20})]})]}):Object(n.jsxs)(W.a,{style:{marginTop:-10},children:[Object(n.jsx)(Z.a,{variant:"body2",gutterBottom:!0,children:"Valoraci\xf3n media "}),Object(n.jsxs)(W.a,{display:"flex",children:[Object(n.jsx)(Nr.a,{style:{marginRight:10}})," ",A.scoreMean]})]})})}),Object(n.jsx)(H.a,{item:!0,className:m.grid,xs:12,md:12,lg:6,children:je?Object(n.jsx)(qr.a,{width:"100%",height:70}):Object(n.jsxs)(As.a,{className:m.category,variant:"outlined",children:[Object(n.jsx)(Is.a,{id:"category-label",children:"Categor\xeda"}),Object(n.jsx)(Rs.a,{labelId:"category-label",name:"category",label:"Categor\xeda",value:$,onChange:fe,MenuProps:{classes:{paper:m.categoryPopOver}},children:null==me||0===me.categories.length?Object(n.jsx)(ti.a,{value:"Sin categor\xeda",children:"Sin categor\xeda"}):me.categories.map((function(e){return Object(n.jsx)(ti.a,{value:e.name,children:e.name},e._id)}))})]})}),Object(n.jsx)(H.a,{item:!0,className:m.grid,xs:12,md:12,lg:6,children:je?Object(n.jsx)(qr.a,{width:"100%",height:70}):Object(n.jsx)(Pi.a,{label:"Tama\xf1o de la clase",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"none",variant:"outlined",color:"primary",InputProps:{inputComponent:$s,inputProps:{ref:M,name:"classSize",placeholder:"Tama\xf1o de la clase",initialvalue:null!==ee&&void 0!==ee?ee:0,type:"number",min:0,onChange:fe}}})}),Object(n.jsx)(H.a,{item:!0,className:m.grid,xs:12,md:12,lg:6,children:Object(n.jsxs)("div",{style:{width:"100%"},children:[je?Object(n.jsx)(qr.a,{width:150,height:20}):Object(n.jsx)(Z.a,{children:" Tiempo de trabajo "}),Object(n.jsxs)("div",{className:m.timeField,children:[je?Object(n.jsx)(qr.a,{width:"100%",height:70}):Object(n.jsx)(Pi.a,{label:"Horas",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"none",variant:"outlined",color:"primary",InputProps:{inputComponent:$s,inputProps:{ref:L,name:"workingTimeHours",placeholder:"Horas",initialvalue:ne,type:"number",min:0,onChange:fe}}}),Object(n.jsx)(Z.a,{style:{marginLeft:10,marginRight:10},children:" : "}),je?Object(n.jsx)(qr.a,{width:"100%",height:70}):Object(n.jsx)(Pi.a,{label:"Minutos",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"none",variant:"outlined",color:"primary",InputProps:{inputComponent:$s,inputProps:{ref:B,name:"workingTimeMinutes",placeholder:"Minutos",initialvalue:re,type:"number",min:0,max:59,onChange:fe}}})]})]})}),Object(n.jsx)(H.a,{item:!0,className:m.grid,xs:12,md:12,lg:6,children:Object(n.jsxs)("div",{style:{width:"100%"},children:[je?Object(n.jsx)(qr.a,{width:150,height:20}):Object(n.jsx)(Z.a,{children:" Tiempo dise\xf1ado "}),Object(n.jsxs)("div",{className:m.timeField,children:[je?Object(n.jsx)(qr.a,{width:"100%",height:70}):Object(n.jsx)(Pi.a,{variant:"outlined",InputLabelProps:{shrink:!0},name:"workingTimeDesignHours",value:te,label:"Horas",type:"number",disabled:!0,fullWidth:!0}),Object(n.jsx)(Z.a,{style:{marginLeft:10,marginRight:10},children:" : "}),je?Object(n.jsx)(qr.a,{width:"100%",height:70}):Object(n.jsx)(Pi.a,{variant:"outlined",InputLabelProps:{shrink:!0},name:"workingTimeDesignMinutes",value:ae,label:"Minutos",type:"number",disabled:!0,fullWidth:!0})]})]})}),Object(n.jsx)(H.a,{item:!0,className:m.grid,xs:12,children:je?Object(n.jsx)(qr.a,{width:"100%",height:70}):Object(n.jsx)(Pi.a,{label:"Descripci\xf3n",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"none",variant:"outlined",color:"primary",InputProps:{inputComponent:$s,inputProps:{ref:z,name:"description",placeholder:"Descripci\xf3n",initialvalue:null!==ce&&void 0!==ce?ce:"",rowMax:5,onChange:fe,multiline:!0}}})}),Object(n.jsx)(H.a,{item:!0,className:m.grid,xs:12,children:je?Object(n.jsx)(qr.a,{width:"100%",height:70}):Object(n.jsx)(Pi.a,{label:"Conocimiento previo",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"none",variant:"outlined",color:"primary",InputProps:{inputComponent:$s,inputProps:{ref:F,name:"priorKnowledge",placeholder:"Conocimiento previo",initialvalue:null!==ie&&void 0!==ie?ie:"",rowMax:5,onChange:fe,multiline:!0}}})}),Object(n.jsx)(H.a,{item:!0,className:m.grid,xs:12,children:je?Object(n.jsx)(qr.a,{width:"100%",height:70}):Object(n.jsx)(Pi.a,{label:"Evaluaci\xf3n",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"none",variant:"outlined",color:"primary",InputProps:{inputComponent:$s,inputProps:{ref:q,name:"evaluation",placeholder:"Evaluaci\xf3n",initialvalue:null!==le&&void 0!==le?le:"",rowMax:5,onChange:fe,multiline:!0}}})}),Object(n.jsx)(H.a,{item:!0,className:m.grid,xs:12,children:je?Object(n.jsx)(qr.a,{width:"100%",height:70}):Object(n.jsx)(yl,{ref:d,label:"Pauta/R\xfabrica de evaluaci\xf3n",name:"evaluationPattern",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"none",variant:"outlined",value:de,onSave:fe,color:"primary"})})]}),je?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(n.jsx)(qr.a,{width:"100%",height:70,style:{marginRight:10}}),Object(n.jsx)(qr.a,{width:"10%",height:70})]}),Object(n.jsx)(qr.a,{width:"100%",height:30})]}):Object(n.jsx)(hs,{keywords:oe,onChangeKeywords:function(e,t,a){"add"===t?null===f||void 0===f||f.emit("add-design-keyword",{designId:N._id,keyword:a},h((function(e){if(!e.ok)return I(e.message,{variant:"error",autoHideDuration:2e3})}),(function(){return I("Error al agregar la palabra clave. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})}))):"remove"===t&&(null===f||void 0===f||f.emit("remove-design-keyword",{designId:N._id,keyword:a},h((function(e){if(!e.ok)return I(e.message,{variant:"error",autoHideDuration:2e3})}),(function(){return I("Error al eliminar la palabra clave. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})}))))}}),je?Object(n.jsx)("div",{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:m.title,children:[Object(n.jsx)(Z.a,{variant:"h4",children:"Aprendizajes esperados"}),Object(n.jsx)(U.a,{className:m.sectionAction,variant:"outlined",color:"default",onClick:ge,children:"Agregar"})]}),Object(n.jsx)(br.a,{}),Object(n.jsx)("div",{className:"".concat(m.content," ").concat(m.learningResults),children:0===A.results.length?Object(n.jsxs)(Gr.a,{severity:"info",variant:"outlined",style:{width:"100%",display:"flex",justifyContent:"center"},children:["Este dise\xf1o a\xfan no tiene aprendizajes esperados. Agrega el primer aprendizaje esperado haciendo click "," ",Object(n.jsx)(Or.a,{className:m.clickHere,onClick:ge,children:"aqu\xed"}),"!"]}):A.results.map((function(e,t){return Object(n.jsx)(ll,Object(E.a)({index:t},e),"learning-result-".concat(t))}))})]})]}),Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:m.rightPanel})]},N._id),Object(n.jsx)(Ol,{design:N,isOpen:S.isLearningResultModalOpen})]})})),Sl=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("bloom/category");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error(t.message);case 5:return e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Cl=function(){var e=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("bloom/verb",{category:t},"POST");case 2:if((a=e.sent).ok){e.next=5;break}throw new Error(a.message);case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tl=Object(F.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},titleMargin:{margin:"auto"},bodyMargin:{marginLeft:e.spacing(5),marginRight:e.spacing(5)}}})),Nl=function(){var e=Tl(),t=R(),a=t.uiState,r=t.dispatch,i=a.historyData.url,c=Object(B.g)(),s=function(){r({type:D.ui.closeModal,payload:"CheckSaveDesign"})};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Ai.a,{onClose:s,open:a.isCheckSaveDesignModalOpen,children:[Object(n.jsx)(Ii.a,{className:e.titleMargin,children:"Est\xe1 apunto de salir del dise\xf1o"}),Object(n.jsx)(Sr.a,{"aria-label":"close",className:e.closeButton,onClick:s,children:Object(n.jsx)(mc.a,{})}),Object(n.jsxs)(Ri.a,{dividers:!0,children:[Object(n.jsx)(Z.a,{align:"center",style:{marginTop:15,marginBottom:25},children:"Usted est\xe1 intentando salir del dise\xf1o actual, pero existen cambios que no han sido guardados. \xbfDesea continuar sin guardar?"}),Object(n.jsx)(Z.a,{variant:"caption",children:"IMPORTANTE: Al aceptar realizar esta acci\xf3n los cambios no se guardaran."}),Object(n.jsx)(W.a,{children:Object(n.jsx)(Z.a,{variant:"caption",children:"RECOMENDACI\xd3N: Guarde sus cambios antes de salir de esta p\xe1gina."})})]}),Object(n.jsxs)(Mi.a,{children:[Object(n.jsx)(U.a,{onClick:s,children:"Cancelar"}),Object(n.jsx)(U.a,{onClick:function(){r({type:D.ui.setUserSaveDesign,payload:!0}),r({type:D.ui.closeModal,payload:"CheckSaveDesign"}),c.push("".concat(i))},children:"Aceptar"})]})]})})},El=a(1325),Dl=Object(F.a)((function(e){return{root:function(e){return{marginBottom:10,boxShadow:e.editing?"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)":"none"}},header:{paddingBottom:0}}})),Al=function(e){var t=e.data,a=Object(w.b)().enqueueSnackbar,i=x().authState,c=R().dispatch,s=ns().designState,o=C(),l=o.socket,d=o.online,u=o.emitWithTimeout,j=s.design,m=t.user,b=t.date,f=t.commentary,g=Object(r.useState)(!1),h=Object(p.a)(g,2),O=h[0],v=h[1],y=Object(r.useState)(f),k=Object(p.a)(y,2),S=k[0],T=k[1],N=Dl({editing:O}),A=function(){c({type:D.ui.setConfirmData,payload:{type:"comentario",args:{designId:j._id,commentaryId:t._id},actionMutation:null}}),c({type:D.ui.openModal,payload:"Confirmation"})};return Object(n.jsxs)(vr.a,{className:N.root,elevation:0,children:[Object(n.jsx)(El.a,{className:N.header,avatar:Object(n.jsx)(G.a,{alt:Dr(m.name,m.lastname),src:m.img&&m.img.length>0?"".concat("http://dma.uct.cl/","uploads/users/").concat(m.img):"",children:Ar(m.name,m.lastname)}),action:i.user?i.user.uid===m._id?Object(n.jsx)(Ui,{options:[{icon:Object(n.jsx)(ni.a,{}),label:"Editar",onSelect:function(){return v(!0)}},{icon:Object(n.jsx)(Er.a,{}),label:"Eliminar",onSelect:A}]}):i.user.uid===j.owner?Object(n.jsx)(Ui,{options:[{icon:Object(n.jsx)(Er.a,{}),label:"Eliminar",onSelect:A}]}):Object(n.jsx)("div",{}):null,title:m.name+" "+m.lastname,subheader:To(new Date(b))+" a las "+No(new Date(b))}),Object(n.jsx)(wr.a,{children:O?Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(),f.trim()!==S.trim()&&d&&(null===l||void 0===l||l.emit("comment-design",{designId:j._id,commentary:Object(E.a)(Object(E.a)({},t),{},{commentary:S.trim()})},u((function(e){e.ok||a(e.message,{variant:"error",autoHideDuration:2e3})}),(function(){T(f),a("Error al editar el comentario. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})})))),v(!1)},noValidate:!0,children:[Object(n.jsx)(Pi.a,{multiline:!0,rowsMax:6,variant:"outlined",name:"commentary",value:null!==S&&void 0!==S?S:"",onChange:function(e){var t=e.target;return T(t.value)},label:"Editar Comentario",type:"text",fullWidth:!0}),Object(n.jsx)(W.a,{style:{display:"flex",justifyContent:"flex-end",marginTop:10},children:Object(n.jsx)(U.a,{type:"submit",variant:"contained",color:"primary",disabled:!S.length,disableElevation:!0,children:"Guardar"})})]}):Object(n.jsx)(Z.a,{children:f})})]})},Il=Object(F.a)({clickHere:{textDecoration:"none",cursor:"pointer","&:hover":{textDecoration:"underline"}}}),Rl=function(){var e=Il(),t=Object(w.b)().enqueueSnackbar,a=Object(z.a)(),i=Object(mr.a)(a.breakpoints.down("xs")),c=R().dispatch,s=x().authState,o=ns().designState,l=C(),d=l.socket,u=l.online,j=l.emitWithTimeout,m=Object(r.useState)(""),b=Object(p.a)(m,2),f=b[0],g=b[1],h=o.design,O=s.user,v=function(){g("")};return Object(n.jsx)(vr.a,{elevation:0,style:{marginBottom:10},children:Object(n.jsx)(wr.a,{children:s.user?Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u&&(null===d||void 0===d||d.emit("comment-design",{designId:h._id,commentary:{user:{_id:O.uid,name:O.name,lastname:O.lastname,img:O.img},date:(new Date).toJSON(),commentary:f.trim()}},j((function(e){e.ok||t(e.message,{variant:"error",autoHideDuration:2e3})}),(function(){return t("Error al agregar el comentario. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})}))),v())},noValidate:!0,children:[Object(n.jsxs)(W.a,{style:{display:"flex",marginBottom:10},children:[!i&&Object(n.jsx)(G.a,{style:{marginRight:10,marginTop:5},alt:Dr(O.name,O.lastname),src:O.img&&O.img.length>0?"".concat("http://dma.uct.cl/","uploads/users/").concat(O.img):"",children:Ar(O.name,O.lastname)}),Object(n.jsx)(Pi.a,{multiline:!0,variant:"outlined",name:"commentary",InputLabelProps:{shrink:!0},placeholder:"Ingresa tu comentario",value:f,onChange:function(e){var t=e.target;return g(t.value)},label:"Nuevo Comentario",type:"text",fullWidth:!0})]}),Object(n.jsx)(W.a,{style:{display:"flex",justifyContent:"flex-end"},children:Object(n.jsx)(U.a,{type:"submit",variant:"contained",color:"primary",disabled:!f.length,disableElevation:!0,children:"Comentar"})})]}):Object(n.jsxs)(Z.a,{align:"center",children:["Para poder comentar este dise\xf1o debes ",Object(n.jsx)(Or.a,{className:e.clickHere,onClick:function(){c({type:D.ui.openModal,payload:"Login"})},children:"ingresar sesi\xf3n"}),"."]})})})},Pl=function(){var e=ns().designState.design;return Object(n.jsxs)("div",{children:[0!==e.comments.length&&e.comments.map((function(e){return Object(n.jsx)(Al,{data:e},e._id)})),Object(n.jsx)(Rl,{})]})},Ml=Object(F.a)((function(e){return{leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},workspace:{paddingLeft:30,paddingRight:30,background:e.palette.background.workSpace,minHeight:"calc(100vh - 128px)"},rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},menu:{borderBottom:"1px solid ".concat(e.palette.divider)},menuLetters:{marginLeft:e.spacing(2),marginBottom:e.spacing(1)},menuLettersSelected:{marginLeft:e.spacing(2),borderBottom:"2px solid ".concat(e.palette.divider)},tabBarGrid:Object(N.a)({display:"flex",justifyContent:"space-between",alignItems:"center"},e.breakpoints.down("xs"),{justifyContent:"center"}),usersConnecteds:{display:"flex"},error:{display:"flex",justifyContent:"center",padding:20,alignItems:"start",minHeight:"calc(100vh - 128px)"},backdrop:{zIndex:1e3,color:"#fff"},loadingFile:{"-webkit-backface-visibility":"hidden",animation:"$spinAndScale 3000ms ".concat(e.transitions.easing.easeInOut),animationIterationCount:"infinite",animationDirection:"alternate"},comments:{paddingTop:10,paddingLeft:10,paddingRight:10,background:e.palette.background.workSpace,minHeight:"calc(100vh - 177px)"},user:{display:"flex",alignItems:"center",marginTop:10},"@keyframes spinAndScale":{from:{height:300,width:300,transform:"rotate(0deg)"},to:{height:150,width:150,transform:"rotate(360deg)"}}}})),Ll=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}},Bl=function(){var e=Ml(),t=Object(B.i)().id,a=Object(z.a)(),i=Object(mr.a)(a.breakpoints.down("sm")),c=Object(mr.a)(a.breakpoints.down("xs")),s=Ws(),o=s.doc,l=s.provider,d=s.connectToDesign,m=s.clearDoc,b=s.connected,f=s.user,g=x().authState,h=C(),O=h.socket,v=h.online,y=h.emitWithTimeout,w=ns(),k=w.designState,S=w.dispatch,T=R().uiState,N=Object(r.useState)([]),A=Object(p.a)(N,2),I=A[0],P=A[1],M=Object(r.useState)(0),L=Object(p.a)(M,2),F=L[0],U=L[1],q=Object(r.useState)(null),Q=Object(p.a)(q,2),V=Q[0],K=Q[1],J=k.design,X=Object(r.useRef)(!0),Y=Object(r.useRef)(),_=Object(r.useRef)(),$=Object(r.useRef)(),ee=Object(r.useRef)(),te=Object(r.useCallback)(Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sl();case 2:t=e.sent,S({type:D.design.setBloomCategories,payload:t.bloomCategories});case 4:case"end":return e.stop()}}),e)}))),[S]),ae=Object(r.useCallback)(Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cl("");case 2:t=e.sent,S({type:D.design.setBloomVerbs,payload:t.bloomVerbs});case 4:case"end":return e.stop()}}),e)}))),[S]);Object(r.useEffect)((function(){te(),ae()}),[te,ae]),Object(r.useEffect)((function(){var e=Y.current;return function(){null===e||void 0===e||e.clearEditors(),m(),X.current=!1,S({type:D.design.updateDesign,payload:null})}}),[m,S]),Object(r.useEffect)((function(){v&&(null===O||void 0===O||O.emit("join-to-design",{user:g.user,designId:t,public:!1},y((function(e){if(e.ok){var a=e.data.design.privileges.find((function(e){return e.user._id===g.user.uid}));a&&0===a.type?X.current&&(S({type:D.design.updateDesign,payload:e.data.design}),d(t)):K("Ha ocurrido un error, el dise\xf1o no existe o usted no tiene privilegios para editar este dise\xf1o.")}else S({type:D.ui.setUserSaveDesign,payload:!0}),K(e.message)}),(function(){K("Error al intentar ingresar al dise\xf1o. Por favor revise su conexi\xf3n. Tiempo de espera excedido.")}))))}),[O,g.user,v,t,S,d,y]),Object(r.useEffect)((function(){return null===O||void 0===O||O.on("update-design",(function(e){X.current&&S({type:D.design.updateDesign,payload:e})})),null===O||void 0===O||O.on("add-design-keyword",(function(e){X.current&&S({type:D.design.addDesignKeyword,payload:e})})),null===O||void 0===O||O.on("remove-design-keyword",(function(e){X.current&&S({type:D.design.removeDesignKeyword,payload:e})})),null===O||void 0===O||O.on("edit-metadata-field",(function(e){var t=e.field,a=e.value,n=e.subfield;X.current&&S({type:D.design.changeMetadataField,payload:{field:t,value:a,subfield:n}})})),null===O||void 0===O||O.on("reorder-activities",(function(e){X.current&&S({type:D.design.reorderActivities,payload:e})})),null===O||void 0===O||O.on("reorder-tasks",(function(e){var t=e.learningActivityId,a=e.newOrder;X.current&&S({type:D.design.reorderTasks,payload:{learningActivityId:t,newOrder:a}})})),null===O||void 0===O||O.on("edit-task-field",(function(e){var t=e.learningActivityID,a=e.taskID,n=e.field,r=e.value,i=e.subfield;X.current&&S({type:D.design.changeTaskField,payload:{learningActivityID:t,taskID:a,field:n,value:r,subfield:i}})})),null===O||void 0===O||O.on("users",(function(e){X.current&&(P(e),S({type:D.design.setConnectedUsers,payload:e}))})),null===O||void 0===O||O.on("change-design-privileges",(function(e){S({type:D.design.setDesignPrivileges,payload:e})})),null===O||void 0===O||O.on("change-read-only-link",(function(e){X.current&&S({type:D.design.updateReadOnlyLink,payload:e})})),null===O||void 0===O||O.on("update-design-rate",(function(e){var t=e.assessments,a=e.mean;X.current&&(S({type:D.design.setAssessments,payload:t}),S({type:D.design.setScoreMean,payload:a}))})),null===O||void 0===O||O.on("comment-design",(function(e){X.current&&S({type:D.design.commentDesign,payload:e})})),null===O||void 0===O||O.on("delete-comment",(function(e){X.current&&S({type:D.design.deleteComment,payload:e})})),function(){null===O||void 0===O||O.emit("leave-from-design",{user:g.user,designId:t}),null===O||void 0===O||O.off("updateDesign"),null===O||void 0===O||O.off("edit-metadata-field"),null===O||void 0===O||O.off("add-design-keyword"),null===O||void 0===O||O.off("remove-design-keyword"),null===O||void 0===O||O.off("change-read-only-link"),null===O||void 0===O||O.off("edit-task-field"),null===O||void 0===O||O.off("users"),null===O||void 0===O||O.off("update-design-rate"),null===O||void 0===O||O.off("comment-design"),null===O||void 0===O||O.off("reorder-tasks"),null===O||void 0===O||O.off("reorder-activities"),null===O||void 0===O||O.off("delete-comment")}}),[O,g.user,t,S]);if(Object(r.useEffect)((function(){return T.userSaveDesign||(window.onbeforeunload=function(e){return"\xbfSeguro que quieres salir?"}),function(){return window.onbeforeunload=null}}),[T]),V)return Object(n.jsx)("div",{className:e.error,children:Object(n.jsx)(Gr.a,{severity:"error",variant:"outlined",children:V})});if(!J||!o||!l||!f)return Object(n.jsx)(W.a,{className:e.workspace,children:Object(n.jsx)(qi.a,{className:e.backdrop,open:!0,children:Object(n.jsxs)(W.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(n.jsx)(W.a,{width:300,height:300,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(n.jsx)(Tr.a,{className:e.loadingFile})}),Object(n.jsx)(Z.a,{children:"Cargando Dise\xf1o de Aprendizaje..."})]})})});var ne=function(){return Object(n.jsx)("div",{className:e.usersConnecteds,children:Object(n.jsxs)(Ui,{Icon:Object(n.jsx)(gi.a,{}),text:I.length,children:[Object(n.jsx)(Z.a,{style:{paddingLeft:10,paddingTop:5},gutterBottom:!0,children:"Usuarios conectados"}),Object(n.jsx)(br.a,{}),Object(n.jsx)(W.a,{style:{padding:10},children:re()})]})})},re=function(){return I.map((function(t,a){return Object(n.jsxs)(W.a,{className:e.user,children:[Object(n.jsx)(G.a,{style:{border:"3px solid ".concat(t.color),backgroundColor:t.color,marginRight:10},alt:Dr(t.name,t.lastname),src:t.img&&t.img.length>0?"".concat("http://dma.uct.cl/","uploads/users/").concat(t.img):"",children:Ar(t.name,t.lastname)}),Object(n.jsxs)(W.a,{children:[Object(n.jsx)(Z.a,{color:"textPrimary",children:t.name+" "+t.lastname}),Object(n.jsx)(Z.a,{color:"textSecondary",children:t.privilege})]})]},t.uid+a)}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(H.a,{container:!0,className:e.menu,children:[Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)(W.a,{width:"100%",height:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",children:c&&ne()})}),Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2}),Object(n.jsxs)(H.a,{ref:ee,item:!0,xs:12,md:6,lg:8,className:e.tabBarGrid,children:[Object(n.jsxs)(Ts.a,{ref:$,value:F,onChange:function(e,t){_.current&&(null===_||void 0===_?void 0:_.current.editing)&&_.current.handleSave(),U(t)},"aria-label":"full width tabs example",children:[Object(n.jsx)(Ns.a,Object(E.a)({label:"METADATOS"},Ll(0))),Object(n.jsx)(Ns.a,Object(E.a)({label:"DISE\xd1O"},Ll(1))),Object(n.jsx)(Ns.a,Object(E.a)({label:"COMENTARIOS"},Ll(2)))]}),!c&&i&&ne()]}),Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,children:Object(n.jsx)(W.a,{width:"100%",height:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",children:!c&&!i&&ne()})})]},J._id),Object(n.jsx)(Io,{value:F,index:0,children:Object(n.jsx)(kl,{ref:Y,evaluationPatternRef:_})}),Object(n.jsx)(Io,{value:F,index:1,children:Object(n.jsx)(sl,{})}),Object(n.jsx)(Io,{value:F,index:2,children:Object(n.jsxs)(H.a,{container:!0,children:[Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.leftPanel}),Object(n.jsx)(H.a,{item:!0,xs:12,md:6,lg:8,className:e.comments,children:Object(n.jsx)(Pl,{})}),Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.rightPanel})]})}),T.isCheckSaveDesignModalOpen&&Object(n.jsx)(Nl,{}),Object(n.jsx)(qi.a,{className:e.backdrop,open:!v||!b,children:Object(n.jsxs)(W.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(n.jsx)(W.a,{width:300,height:300,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(n.jsx)(Tr.a,{className:e.loadingFile})}),Object(n.jsx)(Z.a,{align:"center",children:"Se ha perdido la conexi\xf3n con el servidor. Intentando reconectar..."})]})})]})},Fl=Object(F.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},titleMargin:{margin:"auto"},bodyMargin:{marginLeft:e.spacing(5),marginRight:e.spacing(5)}}})),zl=function(){var e=Fl(),t=Object(z.a)(),a=R(),i=a.uiState,c=a.dispatch,s=i.confirmModalData,o=s.type,l=s.args,d=s.actionMutation,m=Object(w.b)().enqueueSnackbar,b=C(),f=b.socket,g=b.emitWithTimeout,h=Object(r.useState)(""),x=Object(p.a)(h,2),O=x[0],v=x[1];Object(r.useEffect)((function(){v("carpeta"===o?"\xbfEst\xe1s realmente seguro de que deseas eliminar tu carpeta? ":"\xbfEst\xe1s realmente seguro de que deseas eliminar tu ".concat(o,"?"))}),[o]);var y=function(){c({type:D.ui.closeModal,payload:"Confirmation"}),setTimeout((function(){return c({type:D.ui.setConfirmData,payload:{type:null,args:null,actionMutation:null}})}),t.transitions.duration.enteringScreen)},k=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,a=null,"dise\xf1o"!==o&&"carpeta"!==o){e.next=7;break}return e.next=5,d.mutate(l);case 5:e.next=8;break;case 7:"actividad"===o?(t="delete-learningActivity",a="Error al eliminar la actividad."):"tarea"===o?(t="delete-task",a="Error al eliminar la tarea."):"comentario"===o?(t="delete-comment",a="Error al eliminar el comentario."):"resultado de aprendizaje"===o&&(t="delete-learning-result",a="Error al eliminar el resultado de aprendizaje.");case 8:t&&(null===f||void 0===f||f.emit(t,l,g((function(e){return e.ok&&i.userSaveDesign&&c({type:D.ui.setUserSaveDesign,payload:!1}),m(e.message,{variant:e.ok?"success":"error",autoHideDuration:2e3})}),(function(){return m(a+" Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})})))),y();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Ai.a,{onClose:y,open:i.isConfirmationModalOpen,children:[Object(n.jsxs)(Ii.a,{className:e.titleMargin,children:["Eliminar ",o]}),Object(n.jsx)(Sr.a,{"aria-label":"close",className:e.closeButton,onClick:y,children:Object(n.jsx)(mc.a,{})}),Object(n.jsxs)(Ri.a,{dividers:!0,children:[Object(n.jsx)(Z.a,{align:"center",style:{marginTop:15,marginBottom:25},children:O}),Object(n.jsx)(Z.a,{align:"center",variant:"caption",children:"carpeta"!==o?"IMPORTANTE: Este proceso no se podr\xe1 deshacer luego de haber elegido la opci\xf3n de eliminar.":"IMPORTANTE: Recuerda que se eliminar\xe1n tambi\xe9n las carpetas y dise\xf1os de aprendizaje que se encuentren al interior de esta o de sus carpetas hijas y este proceso no se podr\xe1 deshacer luego de haber elegido la opci\xf3n de eliminar."})]}),Object(n.jsxs)(Mi.a,{children:[Object(n.jsx)(U.a,{onClick:y,children:"Cancelar"}),Object(n.jsx)(U.a,{variant:"contained",color:"primary",onClick:k,children:"Eliminar"})]})]})})},Hl=Object(F.a)((function(e){return{trashIcon:{display:"flex"},tasksSpacing:{position:"relative",width:"100%",height:"100%",marginTop:e.spacing(1),background:e.palette.background.workSpace},taskBody:{padding:10,position:"relative",left:"5%",width:"95%",height:"100%"},taskSpacingDescription:{marginLeft:e.spacing(2),marginTop:e.spacing(2)},taskSpacingDescriptionBD:{marginBottom:e.spacing(1)},colorLearningType:{position:"absolute",width:"5%",height:"100%"},timeField:Object(N.a)({display:"flex",alignItems:"center",marginRight:10},e.breakpoints.down("md"),{marginRight:0}),grid:{display:"flex",alignItems:"center"},gridContainer:Object(N.a)({display:"grid",gridTemplateColumns:"50% 50%",gridTemplateRows:"auto",gridTemplateAreas:"\n            'learningType modality'\n            'workingTime format'\n            'description description'"},e.breakpoints.down("md"),{gridTemplateAreas:"\n                'learningType learningType'\n                'modality modality'\n                'format format'\n                'workingTime workingTime'\n                'description description'"}),firstRow:{display:"grid",gridTemplateColumns:"auto auto 10%",gridTemplateRows:"auto",gridTemplateAreas:"'learningType modality'"},learningTypeContainer:{gridArea:"learningType",width:"100%",display:"flex"},learningType:Object(N.a)({marginRight:10},e.breakpoints.down("md"),{marginRight:0,marginTop:10}),modality:Object(N.a)({gridArea:"modality",width:"100%"},e.breakpoints.down("md"),{marginTop:10}),format:Object(N.a)({gridArea:"format",alignSelf:"flex-end"},e.breakpoints.down("md"),{marginTop:10})}})),Wl=function(e){var t=e.index,a=e.task,r=Hl();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(W.a,{style:{height:"100%"},children:Object(n.jsx)(q.a,{square:!0,className:r.tasksSpacing,children:Object(n.jsx)(W.a,{children:Object(n.jsxs)(W.a,{style:{display:"flex",position:"relative",height:"100%",width:"100%"},children:["Investigaci\xf3n"===a.learningType?Object(n.jsx)("div",{className:r.colorLearningType,style:{backgroundColor:"#57A8E7"}}):"Adquisici\xf3n"===a.learningType?Object(n.jsx)("div",{className:r.colorLearningType,style:{backgroundColor:"#E95D5D"}}):"Producci\xf3n"===a.learningType?Object(n.jsx)("div",{className:r.colorLearningType,style:{backgroundColor:"#C8951F"}}):"Discusi\xf3n"===a.learningType?Object(n.jsx)("div",{className:r.colorLearningType,style:{backgroundColor:"#087A4C"}}):"Colaboraci\xf3n"===a.learningType?Object(n.jsx)("div",{className:r.colorLearningType,style:{backgroundColor:"#DFDF3F"}}):"Pr\xe1ctica"===a.learningType?Object(n.jsx)("div",{className:r.colorLearningType,style:{backgroundColor:"#A75BCD"}}):void 0,Object(n.jsx)("div",{className:r.taskBody,children:Object(n.jsxs)("div",{className:r.gridContainer,children:[Object(n.jsx)("div",{className:r.learningTypeContainer,children:Object(n.jsxs)(W.a,{className:r.learningType,children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",children:" Aprendizaje "}),Object(n.jsx)(Z.a,{children:a.learningType})]})}),Object(n.jsxs)("div",{className:r.modality,children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",children:" Modalidad "}),Object(n.jsx)(Z.a,{children:a.modality})]}),Object(n.jsxs)("div",{style:{width:"100%",gridArea:"workingTime",marginTop:3},children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:" Tiempo de trabajo "}),Object(n.jsxs)("div",{className:r.timeField,children:[Object(n.jsx)(Z.a,{children:a.duration.hours}),Object(n.jsx)(Z.a,{style:{marginLeft:10,marginRight:10},children:" : "}),Object(n.jsxs)(Z.a,{children:[a.duration.minutes," (hrs:mins)"]})]})]}),Object(n.jsxs)(W.a,{className:r.format,children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",style:{marginBottom:4,marginRight:5},children:" Formato "}),Object(n.jsx)(Z.a,{children:a.format})]}),Object(n.jsxs)(W.a,{style:{gridArea:"description",marginTop:10,wordBreak:"break-word"},children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",children:" Descripci\xf3n "}),Object(n.jsx)(W.a,{className:r.taskSpacingDescriptionBD,children:Object(n.jsx)(Z.a,{children:a.description})})]})]})})]})})})},t)})},Zl=Object(F.a)((function(e){return{unitSpacing:{marginTop:e.spacing(3)},titleUnitSpacing:{display:"flex",paddingLeft:10,paddingRight:10,marginTop:e.spacing(1)},graphicUnitSpacing:{width:"100%",paddingLeft:10,paddingRight:10,display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.spacing(1)},trashIcon:{marginLeft:"auto"},spacingDescriptionlearningActivity:{marginTop:e.spacing(1)},spacingDescription:{marginRight:e.spacing(2)},spacingLinkedResults:{marginTop:e.spacing(2)},buttonPos:{marginTop:e.spacing(1),marginLeft:"auto"},gridTask:{marginTop:e.spacing(1),marginLeft:e.spacing(1)},descriptionContainer:{display:"flex",flexDirection:"column",padding:e.spacing(1)},learningResultList:{display:"flex",flexWrap:"nowrap",flexDirection:"column",paddingLeft:15,paddingRight:15,maxHeight:200,overflow:"auto",overflowX:!0},taskContainer:{position:"relative"},learningResult:{marginBottom:10,userSelect:"none"},ellipsis:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}})),Ul=function(e){var t=e.index,a=e.learningActivity,r=Zl(),i=ns().designState.design,c=function(){var e=[];return i.metadata.results.forEach((function(t,n){a.learningResults.find((function(e){return e.verb===t.verb&&e.description===t.description}))&&e.push(t)})),e.map((function(e,a){return Object(n.jsx)(W.a,{className:r.learningResult,children:Object(n.jsx)(kr.a,{title:e.verb+" "+e.description,arrow:!0,children:Object(n.jsx)(Z.a,{className:r.ellipsis,children:a+1+". "+e.verb+" "+e.description})})},"learning-result-".concat(a,"-learning-activity-").concat(t))}))};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(H.a,{children:Object(n.jsxs)(q.a,{className:r.unitSpacing,children:[Object(n.jsxs)(H.a,{container:!0,children:[Object(n.jsx)(H.a,{item:!0,xs:12,sm:5,className:r.titleUnitSpacing,children:Object(n.jsx)(Z.a,{children:a.title})}),void ro.forEach((function(e){e.value=0})),Object(n.jsxs)(H.a,{item:!0,xs:12,sm:7,className:r.graphicUnitSpacing,children:[i.data.learningActivities[t]&&i.data.learningActivities[t].tasks&&i.data.learningActivities[t].tasks.forEach((function(e){ro.forEach((function(t){t.title===e.learningType&&(t.value=t.value+1)}))})),Object(n.jsx)(no,{items:ro,type:"Activity"})]})]}),Object(n.jsx)(br.a,{}),Object(n.jsxs)(H.a,{container:!0,spacing:2,children:[Object(n.jsxs)(H.a,{item:!0,xs:12,sm:8,className:r.taskContainer,children:[Object(n.jsx)(H.a,{className:r.gridTask,children:i.data.learningActivities[t]&&i.data.learningActivities[t].tasks&&i.data.learningActivities[t].tasks.map((function(e,a){return Object(n.jsx)(Wl,{index:a,task:e,learningActivityIndex:t},"task-".concat(a,"-learningActivity-").concat(t))}))}),Object(n.jsx)(H.a,{container:!0,children:Object(n.jsx)(H.a,{item:!0})})]}),Object(n.jsx)(H.a,{item:!0,xs:12,sm:4,children:Object(n.jsxs)("div",{className:r.descriptionContainer,children:[Object(n.jsx)(Z.a,{variant:"body2",className:r.spacingDescriptionlearningActivity,color:"textSecondary",children:" Descripci\xf3n Unidad de aprendizaje "}),Object(n.jsx)(H.a,{className:r.spacingDescription,children:Object(n.jsx)(Z.a,{children:a.description})}),Object(n.jsx)(Z.a,{variant:"body2",className:r.spacingLinkedResults,color:"textSecondary",children:" Resultados Vinculados "}),Object(n.jsx)("div",{className:r.learningResultList,children:c()})]})})]})]})},t)})},Gl=Object(F.a)((function(e){return{root:{background:e.palette.background.workSpace,minHeight:"calc(100vh - 112px)"},leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider),height:"auto"},workspace:Object(N.a)({paddingLeft:15,paddingRight:15,background:e.palette.background.workSpace,height:"auto",paddingBottom:e.spacing(1)},e.breakpoints.up("md"),{height:"calc(100vh - 112px)"}),rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider),background:e.palette.background.paper},textLefPanel:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},spaceData:{marginBottom:e.spacing(1),borderBottom:"2px solid ".concat(e.palette.divider)},LeftPanelMetadata:Object(N.a)({marginTop:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),height:"auto",paddingBottom:e.spacing(1)},e.breakpoints.up("xs"),{height:"calc(100vh - 200px)",overflow:"auto"}),textLeftPanelMetadata:{marginTop:e.spacing(3)},graphicsSpacing:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},betweenGraphics:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},workSpaceUnits:Object(N.a)({height:"auto"},e.breakpoints.up("md"),{height:"90%",overflow:"auto",overflowX:"hidden"}),buttonGroupWorkSpace:{height:"auto",marginTop:e.spacing(1),marginBottom:e.spacing(1)},origin:{marginTop:10,marginBottom:10,border:"1px solid ".concat(e.palette.divider),borderRadius:4,cursor:"pointer",userSelect:"none",backgroundColor:e.palette.background.design,"&:hover":{boxShadow:"0px 0px 10px 0 #bcc3d6",background:e.palette.background.designHover}},"@global":{"*::-webkit-scrollbar":{width:"0.4em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)"},"*::-webkit-scrollbar-thumb":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)",borderRadius:"15px",backgroundColor:"rgba(0,0,0,.1)"}}}})),ql=function(e){e.type;var t=Gl(),a=ns().designState,r=x().authState,i=Object(B.i)(),c=Object(B.g)(),s=Object(l.b)(),o=Object(w.b)().enqueueSnackbar,d=a.design,p=d.metadata,m=!1,b=!1,f=!1,g=Object(hr.a)(Hr,{onMutate:function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.cancelQueries("recent-designs");case 2:return e.next=4,s.cancelQueries(["designs","/"]);case 4:return e.next=6,s.cancelQueries([r.user.id,"user-public-designs"]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){s.invalidateQueries("recent-designs"),s.invalidateQueries(["designs","/"]),s.invalidateQueries([r.user.id,"user-public-designs"])},onError:function(e){o(e.message,{variant:"error",autoHideDuration:2e3})},onSuccess:function(e){c.push("/designs/".concat(e.newDesign._id))}});d.data.learningActivities.forEach((function(e){void 0!==e.tasks&&e.tasks.forEach((function(e){""!==e.learningType&&"Seleccionar"!==e.learningType&&(m=!0),""!==e.format&&"Seleccionar"!==e.format&&(b=!0),""!==e.modality&&"Seleccionar"!==e.modality&&(f=!0)}))}));var h=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.mutate({id:i.id});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(H.a,{container:!0,className:t.root,children:[Object(n.jsxs)(H.a,{item:!0,xs:12,md:3,lg:2,className:t.leftPanel,children:[Object(n.jsx)(H.a,{container:!0,alignItems:"center",justify:"center",children:Object(n.jsx)(Z.a,{className:t.textLefPanel,children:" INFORMACI\xd3N DISE\xd1O "})}),Object(n.jsx)(br.a,{className:t.spaceData}),Object(n.jsxs)(H.a,{className:t.LeftPanelMetadata,children:[Object(n.jsx)(H.a,{children:p&&p.name&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",children:" Nombre "}),Object(n.jsx)(Z.a,{variant:"body2",children:p.name}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:p&&p.category&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:t.textLeftPanelMetadata,children:"Tema"}),Object(n.jsxs)(Z.a,{variant:"body2",children:[" ",p.category.name," "]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:p&&p.workingTime&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:t.textLeftPanelMetadata,children:" Tiempo de trabajo "}),Object(n.jsxs)(Z.a,{variant:"body2",children:[" ",p.workingTime.hours," (hrs) : ",p.workingTime.minutes," (min)"]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:p&&p.workingTimeDesign&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:t.textLeftPanelMetadata,children:"Tiempo de trabajo Dise\xf1o"}),Object(n.jsxs)(Z.a,{variant:"body2",children:[" ",p.workingTimeDesign.hours," (hrs) : ",p.workingTimeDesign.minutes," (min)"]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:p&&p.classSize&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:t.textLeftPanelMetadata,children:" Tama\xf1o de la clase "}),Object(n.jsxs)(Z.a,{variant:"body2",children:[" ",p.classSize," "]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:p&&p.priorKnowledge&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:t.textLeftPanelMetadata,children:" Conocimiento Previo "}),Object(n.jsxs)(Z.a,{variant:"body2",component:W.a,children:[" ",Object(n.jsx)("pre",{style:{fontFamily:"inherit",margin:0,wordBreak:"break-word",whiteSpace:"pre-wrap"},children:p.priorKnowledge})]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:p&&p.description&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:t.textLeftPanelMetadata,children:" Descripci\xf3n "}),Object(n.jsxs)(Z.a,{variant:"body2",component:W.a,children:[" ",Object(n.jsx)("pre",{style:{fontFamily:"inherit",margin:0,wordBreak:"break-word",whiteSpace:"pre-wrap"},children:p.description})," "]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:p&&p.evaluation&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:t.textLeftPanelMetadata,children:" Evaluaci\xf3n "}),Object(n.jsxs)(Z.a,{variant:"body2",component:W.a,children:[" ",Object(n.jsx)("pre",{style:{fontFamily:"inherit",margin:0,wordBreak:"break-word",whiteSpace:"pre-wrap"},children:p.evaluation})," "]}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:p&&null!==p.scoreMean&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:t.textLeftPanelMetadata,children:" Valoraci\xf3n media (0 - 5) "}),Object(n.jsx)(W.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",children:p.scoreMean}),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:p&&p.results&&Object(n.jsxs)("div",{className:t.textLeftPanelMetadata,children:[p.results.map((function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(Z.a,{variant:"body2",color:"textSecondary",children:["Aprendizaje esperado ",t+1]}),Object(n.jsx)(Z.a,{variant:"body2",gutterBottom:!0,children:e.verb+" "+e.description})]},"learning-result-".concat(t))})),Object(n.jsx)(br.a,{})]})}),Object(n.jsx)(H.a,{children:d.origin&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z.a,{variant:"body2",color:"textSecondary",className:t.textLeftPanelMetadata,children:" Derivado del dise\xf1o: "}),Object(n.jsxs)(vr.a,{className:t.origin,elevation:0,children:[Object(n.jsx)(yr.a,{onClick:function(){return function(e){if(!r.user)return o("Debe ingresar sesi\xf3n para poder realizar esta acci\xf3n.",{variant:"error",autoHideDuration:2e3});e.privileges.find((function(e){return r.user.uid===e.user._id}))?e.privileges.find((function(e){return r.user.uid===e.user._id&&0===e.type}))?c.push("/designs/".concat(e._id)):c.push("/designs/reader/".concat(e._id)):e.metadata.isPublic?c.push("/designs/reader/".concat(e._id)):o("Usted no tiene acceso a este dise\xf1o.",{variant:"error",autoHideDuration:2e3})}(d.origin)},children:Object(n.jsxs)(W.a,{style:{display:"flex",alignItems:"center",padding:5},children:[Object(n.jsx)(Tr.a,{style:{marginBottom:5}}),Object(n.jsx)(Z.a,{style:{marginLeft:10},variant:"body2",children:d.origin.metadata.name})]})}),Object(n.jsx)(br.a,{}),Object(n.jsx)(yr.a,{onClick:function(){return function(e){if(!r.user)return o("Debe ingresar sesi\xf3n para poder realizar esta acci\xf3n.",{variant:"error",autoHideDuration:2e3});c.push("/profile/".concat(e.owner._id))}(d.origin)},children:Object(n.jsxs)(W.a,{style:{display:"flex",alignItems:"center",padding:5},children:[Object(n.jsx)(G.a,{style:{width:25,height:25,fontSize:15},alt:Dr(d.origin.owner.name,d.origin.owner.lastname),src:d.origin.owner.img&&d.origin.owner.img.length>0?"".concat("http://dma.uct.cl/","uploads/users/").concat(d.origin.owner.img):"",children:Ar(d.origin.owner.name,d.origin.owner.lastname)}),Object(n.jsx)(Z.a,{style:{marginLeft:10},variant:"body2",children:Dr(d.origin.owner.name,d.origin.owner.lastname)})]})})]})]})})]})]}),Object(n.jsxs)(H.a,{item:!0,xs:12,md:6,lg:8,className:t.workspace,children:[r.token?Object(n.jsx)("div",{className:t.buttonZone,children:Object(n.jsx)(Es.a,{size:"small","aria-label":"outlined primary button group",className:t.buttonGroupWorkSpace,children:Object(n.jsx)(U.a,{onClick:h,children:" Duplicar "})})}):Object(n.jsx)("div",{}),Object(n.jsx)(H.a,{className:t.workSpaceUnits,children:Object(n.jsx)(H.a,{children:d.data.learningActivities&&d.data.learningActivities.map((function(e,t){return Object(n.jsx)(Ul,{index:t,learningActivity:e},"learningActivity-".concat(t))}))})})]}),Object(n.jsxs)(H.a,{item:!0,xs:12,md:3,lg:2,className:t.rightPanel,children:[(ro.forEach((function(e){e.value=0})),io.forEach((function(e){e.value=0})),co.forEach((function(e){e.value=0})),void so.forEach((function(e){e.value=0}))),Object(n.jsxs)(H.a,{className:t.graphicsSpacing,children:[d.data.learningActivities&&d.data.learningActivities.map((function(e){return e.tasks&&e.tasks.forEach((function(e){ro.forEach((function(t){t.title===e.learningType&&(t.value=t.value+1)})),io.forEach((function(t){t.title===e.learningType&&(t.value=t.value+1)})),co.forEach((function(t){t.title===e.format&&(t.value=t.value+1)})),so.forEach((function(t){t.title===e.modality&&(t.value=t.value+1)}))}))})),m&&Object(n.jsx)("div",{className:t.betweenGraphics,children:Object(n.jsx)(go,{items:io,colorGraphicToPdf:!0})}),b&&Object(n.jsxs)("div",{className:t.betweenGraphics,children:[Object(n.jsx)(Z.a,{children:"Formato"}),Object(n.jsx)(no,{items:co,type:"Format",legends:!0,colorGraphicToPdf:!0})]}),f&&Object(n.jsxs)("div",{className:t.betweenGraphics,children:[Object(n.jsx)(Z.a,{children:"Modalidad"}),Object(n.jsx)(no,{items:so,type:"Modality",legends:!0,colorGraphicToPdf:!0})]})]})]})]})})},Ql=a(1353),Vl=Object(F.a)((function(e){return{closeButton:{color:e.palette.grey[500]},title:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},ellipsis:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},bodyMargin:{marginLeft:e.spacing(5),marginRight:e.spacing(5)},ratingRoot:Object(N.a)({fontSize:90},e.breakpoints.down("xs"),{fontSize:40})}})),Kl={.5:"P\xe9simo",1:"Muy malo",1.5:"Malo",2:"Menos que bueno",2.5:"Bueno",3:"M\xe1s que bueno",3.5:"Muy bueno",4:"Extraordinario",4.5:"Casi excelente",5:"Excelente"},Jl=function(e,t){var a=e.find((function(e){return e.user===t}));return a?a.score:null},Xl=function(){var e=Vl(),t=Object(z.a)(),a=Object(w.b)().enqueueSnackbar,i=C(),c=i.socket,s=i.online,o=i.emitWithTimeout,l=x().authState,d=R(),u=d.uiState,j=d.dispatch,m=ns().designState.design,b=Jl(m.assessments,l.user.uid),f=Object(r.useState)(b),g=Object(p.a)(f,2),h=g[0],O=g[1],v=Object(r.useState)(-1),y=Object(p.a)(v,2),k=y[0],S=y[1];Object(r.useEffect)((function(){O(Jl(m.assessments,l.user.uid))}),[m.assessments,O,l.user.uid]);var T=function(){j({type:D.ui.closeModal,payload:"Assessment"}),setTimeout((function(){O(b),S(-1)}),t.transitions.duration.enteringScreen)};return Object(n.jsxs)(Ai.a,{style:{padding:0},open:u.isAssessmentModalOpen,children:[Object(n.jsx)(Ii.a,{style:{padding:"5px 5px 5px 16px"},children:Object(n.jsxs)(W.a,{className:e.title,children:[Object(n.jsx)(W.a,{className:e.ellipsis,children:"Valorar dise\xf1o"}),Object(n.jsx)(Sr.a,{"aria-label":"close",className:e.closeButton,onClick:T,children:Object(n.jsx)(Li.a,{})})]})}),Object(n.jsxs)(Ri.a,{dividers:!0,children:[Object(n.jsx)(Z.a,{align:"center",style:{marginBottom:20},children:"En esta ventana usted puede valorar o cambiar su valoraci\xf3n del dise\xf1o de aprendizaje que est\xe1 visualizando haciendo click en alguna de las estrellas a continuaci\xf3n:"}),Object(n.jsxs)(W.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(n.jsx)(Ql.a,{classes:{root:e.ratingRoot},name:"hover-feedback",value:h,precision:.5,onChange:function(e,t){O(t)},onChangeActive:function(e,t){S(t)}}),Object(n.jsx)(W.a,{style:{minHeight:50,marginTop:20},children:Object(n.jsx)(Z.a,{children:-1!==k?Kl[k]:h?Kl[h]:"No valorado"})})]})]}),Object(n.jsxs)(Mi.a,{children:[Object(n.jsx)(U.a,{onClick:T,children:" Cancelar "}),Object(n.jsx)(U.a,{variant:"contained",color:"primary",onClick:function(){if(h){if(h===b)return T();s&&(null===c||void 0===c||c.emit("rate-design",{designId:m._id,rate:{user:l.user.uid,score:h}},o((function(e){return a(e.message,{variant:e.ok?"success":"error",autoHideDuration:2e3})}),(function(){return a("Error al valorar el dise\xf1o. Por favor revise su conexi\xf3n. Tiempo de espera excedido.",{variant:"error",autoHideDuration:2e3})}))),T())}},disabled:!h,children:" Valorar "})]})]})},Yl=Object(F.a)((function(e){return{leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},comments:{paddingTop:10,paddingLeft:10,paddingRight:10,background:e.palette.background.workSpace,minHeight:"calc(100vh - 177px)"},rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},menu:{borderBottom:"1px solid ".concat(e.palette.divider)},tabBar:{display:"flex",justifyContent:"space-between",alignItems:"center"},error:{display:"flex",justifyContent:"center",padding:20,alignItems:"start",minHeight:"calc(100vh - 128px)"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},loadingFile:{"-webkit-backface-visibility":"hidden",animation:"$spinAndScale 3000ms ".concat(e.transitions.easing.easeInOut),animationIterationCount:"infinite",animationDirection:"alternate"},"@keyframes spinAndScale":{from:{height:300,width:300,transform:"rotate(0deg)"},to:{height:150,width:150,transform:"rotate(360deg)"}}}})),_l=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}},$l=function(){var e=Yl(),t=Object(B.i)().id,a=Object(r.useRef)(!0),i=C(),c=i.socket,s=i.online,o=i.emitWithTimeout,l=x().authState,d=ns(),u=d.designState,j=d.dispatch,m=R().dispatch,b=Object(r.useState)(0),f=Object(p.a)(b,2),g=f[0],h=f[1],O=u.design,v=Object(r.useState)(null),y=Object(p.a)(v,2),w=y[0],k=y[1];Object(r.useEffect)((function(){s&&(null===c||void 0===c||c.emit("join-to-design",{user:l.user,designId:t,public:!0},o((function(e){e.ok?a.current&&j({type:D.design.updateDesign,payload:e.data.design}):k(e.message)}),(function(){k("Error al intentar ingresar al dise\xf1o. Por favor revise su conexi\xf3n. Tiempo de espera excedido.")}))))}),[c,l.user,s,t,j,o]),Object(r.useEffect)((function(){return null===c||void 0===c||c.on("update-design-rate",(function(e){var t=e.assessments,n=e.mean;a.current&&(j({type:D.design.setAssessments,payload:t}),j({type:D.design.setScoreMean,payload:n}))})),null===c||void 0===c||c.on("comment-design",(function(e){a.current&&j({type:D.design.commentDesign,payload:e})})),null===c||void 0===c||c.on("delete-comment",(function(e){a.current&&j({type:D.design.deleteComment,payload:e})})),function(){null===c||void 0===c||c.off("update-design-rate"),null===c||void 0===c||c.off("comment-design"),null===c||void 0===c||c.off("delete-comment")}}),[c,j]),Object(r.useEffect)((function(){return function(){null===c||void 0===c||c.emit("leave-from-design",{user:l.user,designId:t})}}),[c,l.user,t]);if(w)return Object(n.jsx)("div",{className:e.error,children:Object(n.jsx)(Gr.a,{severity:"error",variant:"outlined",children:w})});if(!O)return Object(n.jsx)(qi.a,{className:e.backdrop,open:!0,children:Object(n.jsxs)(W.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(n.jsx)(W.a,{width:300,height:300,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(n.jsx)(Tr.a,{className:e.loadingFile})}),Object(n.jsx)(Z.a,{children:"Cargando Dise\xf1o de Aprendizaje..."})]})});return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(H.a,{container:!0,className:e.menu,children:[Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2}),Object(n.jsxs)(H.a,{item:!0,xs:12,md:6,lg:8,className:e.tabBar,children:[Object(n.jsxs)(Ts.a,{value:g,onChange:function(e,t){h(t)},"aria-label":"full width tabs example",children:[Object(n.jsx)(Ns.a,Object(E.a)({label:"DISE\xd1O"},_l(0))),Object(n.jsx)(Ns.a,Object(E.a)({label:"COMENTARIOS"},_l(1)))]}),l.user&&l.user.uid!==O.owner&&Object(n.jsxs)(U.a,{variant:"outlined",color:"default",onClick:function(){m({type:D.ui.openModal,payload:"Assessment"})},children:[Object(n.jsx)(Nr.a,{style:{marginRight:10,marginTop:-3}})," Valorar Dise\xf1o"]})]}),Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2})]},O._id),Object(n.jsx)(Io,{value:g,index:0,children:Object(n.jsx)(ql,{})}),Object(n.jsx)(Io,{value:g,index:1,children:Object(n.jsxs)(H.a,{container:!0,children:[Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.leftPanel}),Object(n.jsx)(H.a,{item:!0,xs:12,md:6,lg:8,className:e.comments,children:Object(n.jsx)(Pl,{})}),Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.rightPanel})]})}),Object(n.jsx)(Xl,{})]})},ed=Object(F.a)((function(e){return{root:{minHeight:"calc(100vh - 128px)"},leftPanel:{display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.divider)},comments:{paddingTop:10,paddingLeft:10,paddingRight:10,background:e.palette.background.workSpace,minHeight:"calc(100vh - 177px)"},rightPanel:{display:"flex",flexDirection:"column",borderLeft:"1px solid ".concat(e.palette.divider)},content:{borderBottom:"1px solid ".concat(e.palette.divider)},tabBar:{display:"flex",justifyContent:"space-between",alignItems:"center"},error:{display:"flex",justifyContent:"center",padding:20,alignItems:"start"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},loadingFile:{"-webkit-backface-visibility":"hidden",animation:"$spinAndScale 3000ms ".concat(e.transitions.easing.easeInOut),animationIterationCount:"infinite",animationDirection:"alternate"},"@keyframes spinAndScale":{from:{height:300,width:300,transform:"rotate(0deg)"},to:{height:150,width:150,transform:"rotate(360deg)"}}}})),td=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}},ad=function(){var e=ed(),t=Object(B.i)(),a=Object(r.useRef)(!0),i=C(),c=i.socket,s=i.online,o=i.emitWithTimeout,l=x().authState,d=ns(),m=d.designState,b=d.dispatch,f=R().dispatch,g=Object(r.useState)(0),h=Object(p.a)(g,2),O=h[0],v=h[1],y=m.design,w=Object(r.useState)(null),k=Object(p.a)(w,2),S=k[0],T=k[1],N=Object(r.useState)(null),A=Object(p.a)(N,2),I=A[0],P=A[1];Object(r.useEffect)((function(){l.user&&s&&I&&(null===c||void 0===c||c.emit("join-to-design",{user:l.user,designId:I,public:!0},o((function(e){e.ok?a.current&&b({type:D.design.updateDesign,payload:e.data.design}):T(e.message)}),(function(){T("Error al intentar ingresar al dise\xf1o. Por favor revise su conexi\xf3n. Tiempo de espera excedido.")}))))}),[c,l.user,s,b,I,o]),Object(r.useEffect)((function(){return function(){l.user&&(null===c||void 0===c||c.emit("leave-from-design",{user:l.user,designId:I}))}}),[c,l.user,I]),Object(r.useEffect)((function(){return l.user&&(null===c||void 0===c||c.on("update-design-rate",(function(e){var t=e.assessments,n=e.mean;a.current&&(b({type:D.design.setAssessments,payload:t}),b({type:D.design.setScoreMean,payload:n}))})),null===c||void 0===c||c.on("comment-design",(function(e){a.current&&b({type:D.design.commentDesign,payload:e})})),null===c||void 0===c||c.on("delete-comment",(function(e){a.current&&b({type:D.design.deleteComment,payload:e})}))),function(){l.user&&(null===c||void 0===c||c.off("update-design-rate")),null===c||void 0===c||c.off("comment-design"),null===c||void 0===c||c.off("delete-comment")}}),[c,b,l.user]);var M=Object(gr.a)(["shared-design-by-link",t.link],Object(j.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zr({link:t.link});case 2:if(a=e.sent,!l.user){e.next=6;break}return P(a.design._id),e.abrupt("return",a);case 6:return b({type:D.design.updateDesign,payload:a.design}),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))),{refetchOnWindowFocus:!1}),L=M.isLoading,F=M.isError,z=M.error,G=M.data,q=function(e,t){v(t)},Q=function(){f({type:D.ui.openModal,payload:"Assessment"})};return Object(n.jsx)("div",{className:e.root,children:F||S?Object(n.jsx)("div",{className:e.error,children:Object(n.jsx)(Gr.a,{severity:"error",variant:"outlined",children:z.message})}):L||!y?Object(n.jsx)(qi.a,{className:e.backdrop,open:!0,children:Object(n.jsxs)(W.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(n.jsx)(W.a,{width:300,height:300,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(n.jsx)(Tr.a,{className:e.loadingFile})}),Object(n.jsx)(Z.a,{children:"Cargando Dise\xf1o de Aprendizaje..."})]})}):G.design==={}?Object(n.jsx)("div",{className:e.error,children:Object(n.jsx)(Gr.a,{severity:"error",variant:"outlined",children:"No se ha encontrado dise\xf1o."})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(H.a,{container:!0,className:e.content,children:[Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2}),Object(n.jsxs)(H.a,{item:!0,xs:12,md:6,lg:8,className:e.tabBar,children:[Object(n.jsxs)(Ts.a,{value:O,onChange:q,"aria-label":"full width tabs example",children:[Object(n.jsx)(Ns.a,Object(E.a)({label:"DISE\xd1O"},td(0))),Object(n.jsx)(Ns.a,Object(E.a)({label:"COMENTARIOS"},td(1)))]}),l.user&&l.user.uid!==y.owner&&Object(n.jsxs)(U.a,{variant:"outlined",color:"default",onClick:Q,children:[Object(n.jsx)(Nr.a,{style:{marginRight:10,marginTop:-3}})," Valorar Dise\xf1o"]})]}),Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2})]},G.design._id),Object(n.jsx)(Io,{value:O,index:0,children:Object(n.jsx)(ql,{type:"shared-link"})}),Object(n.jsx)(Io,{value:O,index:1,children:Object(n.jsxs)(H.a,{container:!0,children:[Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.leftPanel}),Object(n.jsx)(H.a,{item:!0,xs:12,md:6,lg:8,className:e.comments,children:Object(n.jsx)(Pl,{})}),Object(n.jsx)(H.a,{item:!0,xs:12,md:3,lg:2,className:e.rightPanel})]})}),l.user&&Object(n.jsx)(Xl,{})]})})},nd=a(1326),rd=a(1327),id=a(1328),cd=Object(F.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"calc(100vh - 128px)",height:"auto"},container:Object(N.a)({display:"flex",flexDirection:"column",alignItems:"center",border:"1px solid ".concat(e.palette.divider),padding:10,borderRadius:e.shape.borderRadius,height:"100%"},e.breakpoints.down("xs"),{borderStyle:"none",padding:0}),backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},buttonZone:Object(N.a)({display:"flex",justifySelf:"flex-end",justifyContent:"flex-end"},e.breakpoints.down("sm"),{marginTop:30,paddingRight:20}),body:Object(N.a)({maxWidth:600,display:"flex",flexDirection:"column",justifyContent:"space-between"},e.breakpoints.up("sm"),{height:450}),content:Object(N.a)({width:"100%",display:"flex",flexDirection:"column",alignItems:"center",padding:20},e.breakpoints.down("sm"),{padding:40}),input:{marginTop:30},codeForm:{width:"100%",display:"flex",marginTop:30},codeButton:{borderTopLeftRadius:0,borderBottomLeftRadius:0},codeInput:{"& fieldset":{borderTopRightRadius:0,borderBottomRightRadius:0}},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),sd={value:"",error:null},od={value:"",error:null},ld={password:"",confirm:"",passwordError:null,confirmError:null},dd=function(){var e=cd(),t=Object(B.g)(),a=Object(w.b)().enqueueSnackbar,i=Object(r.useState)(0),c=Object(p.a)(i,2),s=c[0],o=c[1],l=Object(r.useState)(!1),d=Object(p.a)(l,2),m=d[0],b=d[1],f=Object(r.useState)(null),g=Object(p.a)(f,2),h=g[0],x=g[1],O=Object(r.useState)(null),v=Object(p.a)(O,2),y=v[0],k=v[1],S=Object(r.useState)(od),C=Object(p.a)(S,2),T=C[0],D=C[1],A=Object(r.useState)(sd),I=Object(p.a)(A,2),R=I[0],P=I[1],M=Object(r.useState)(ld),L=Object(p.a)(M,2),F=L[0],z=L[1],H=[{icon:dc.a,label:"Buscar cuenta por email"},{icon:nd.a,label:"C\xf3digo de verificaci\xf3n"},{icon:rd.a,label:"Restablecer contrase\xf1a"},{icon:id.a,label:"Contrase\xf1a restablecida"}],G=function(){o((function(e){return e+1}))},q=function(e){var t=e.target;P({value:t.value,error:null})},Q=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),R.value.trim().length){e.next=3;break}return e.abrupt("return",P(Object(E.a)(Object(E.a)({},R),{},{error:"Este campo es obligatorio"})));case 3:if(/^[-\w.%+]{1,64}@(?:[A-Z0-9]{1,63}\.){1,125}[A-Z]{2,63}$/i.test(R.value)||(P((function(e){return Object(E.a)(Object(E.a)({},e),{},{error:"El correo debe tener la siguiente estructura: example@example.com"})})),0)){e.next=5;break}return e.abrupt("return");case 5:return b(!0),e.next=8,rc(R.value);case 8:if(n=e.sent,b(!1),n.ok){e.next=12;break}return e.abrupt("return",a(n.message,{variant:"error",autoHideDuration:5e3}));case 12:a("Se ha enviado un c\xf3digo de verificaci\xf3n a su correo electr\xf3nico.",{variant:"success",autoHideDuration:5e3}),k(n.data.randomCode),x(n.data.user._id),G();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),F.password.trim().length?F.confirm.trim().length?/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,16}$/.test(F.password)?F.password===F.confirm||(z((function(e){return Object(E.a)(Object(E.a)({},e),{},{passwordError:"Las contrase\xf1as no coinciden.",confirmError:"Las contrase\xf1as no coinciden."})})),0):(z((function(e){return Object(E.a)(Object(E.a)({},e),{},{passwordError:"La contrase\xf1a debe tener al menos un car\xe1cter en min\xfascula, uno en may\xfascula, un n\xfamero y debe tener entre 8 y 16 caract\xe9res de longitud."})})),0):z(Object(E.a)(Object(E.a)({},F),{},{confirmError:"Este campo es obligatorio"})):z(Object(E.a)(Object(E.a)({},F),{},{passwordError:"Este campo es obligatorio"}))){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,cc({uid:h,newPassword:F.password});case 5:if((n=e.sent).ok){e.next=8;break}return e.abrupt("return",a(n.message,{variant:"error",autoHideDuration:5e3}));case 8:a(n.message,{variant:"success",autoHideDuration:5e3}),G();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e){var t,a=e.target;z(Object(E.a)(Object(E.a)({},F),{},(t={},Object(N.a)(t,a.name,a.value),Object(N.a)(t,"passwordError",null),Object(N.a)(t,"confirmError",null),t)))},J=function(e){var t=e.target;D(Object(E.a)(Object(E.a)({},T),{},{value:t.value,error:null}))},X=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),D(od),e.next=4,ic(R.value);case 4:if(n=e.sent,b(!1),n.ok){e.next=8;break}return e.abrupt("return",a(n.message,{variant:"error",autoHideDuration:5e3}));case 8:a(n.message,{variant:"success",autoHideDuration:2e3}),k(n.data.randomCode);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(os.a,{className:e.root,children:[Object(n.jsxs)(W.a,{className:e.container,children:[Object(n.jsx)(dl.a,{style:{width:"100%"},activeStep:s,alternativeLabel:!0,children:H.map((function(e){return Object(n.jsx)(ul.a,{children:Object(n.jsx)(jl.a,{children:e.label})},e.label)}))}),Object(n.jsxs)("form",{className:e.body,onSubmit:0===s?Q:1===s?function(e){if(e.preventDefault(),T.value.trim().toUpperCase()!==y.trim().toUpperCase())return D(Object(E.a)(Object(E.a)({},T),{},{error:"El c\xf3digo ingresado no coincide"}));G()}:2===s?V:function(e){e.preventDefault(),t.push("/")},noValidate:!0,children:[function(t){switch(t){case 0:return Object(n.jsxs)(W.a,{className:e.content,children:[Object(n.jsx)(Z.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Busca tu cuenta por correo electr\xf3nico"}),Object(n.jsx)(Z.a,{variant:"body1",align:"center",gutterBottom:!0,children:"Introduce la direcci\xf3n de correo electr\xf3nico asociada a tu cuenta para poder identificarte."}),Object(n.jsx)(Pi.a,{className:e.input,label:"Email",type:"email",value:R.value,error:!!R.error,helperText:R.error,onChange:q,placeholder:"Ingresa correo electr\xf3nico",variant:"outlined",fullWidth:!0,autoFocus:!0})]});case 1:return Object(n.jsxs)(W.a,{className:e.content,children:[Object(n.jsx)(Z.a,{variant:"h5",align:"center",gutterBottom:!0,children:"C\xf3digo de verificaci\xf3n"}),Object(n.jsx)(Z.a,{variant:"body1",align:"center",gutterBottom:!0,children:'Introduce el c\xf3digo de verificaci\xf3n que hemos enviado a tu correo electr\xf3nico. Si este no ha llegado a tu correo, puedes reenviar un c\xf3digo haciendo click en el bot\xf3n "Reenviar C\xf3digo".'}),Object(n.jsxs)("div",{className:e.codeForm,children:[Object(n.jsx)(Pi.a,{className:e.codeInput,value:T.value,error:!!T.error,helperText:T.error,onChange:J,label:"C\xf3digo verificaci\xf3n",type:"text",placeholder:"Ingresa c\xf3digo verificaci\xf3n",variant:"outlined",inputProps:{style:{textTransform:"uppercase"}},fullWidth:!0}),Object(n.jsx)(U.a,{className:e.codeButton,size:"small",variant:"contained",color:"primary",disableElevation:!0,onClick:X,children:"Reenviar C\xf3digo"})]})]});case 2:return Object(n.jsxs)(W.a,{className:e.content,children:[Object(n.jsx)(Z.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Restablecer contrase\xf1a"}),Object(n.jsx)(Z.a,{variant:"body1",align:"center",gutterBottom:!0,children:"Complete el siguiente formulario para reestablecer su contrase\xf1a."}),Object(n.jsx)(Pi.a,{name:"password",className:e.input,value:F.password,onChange:K,error:!!F.passwordError,helperText:F.passwordError,label:"Nueva contrase\xf1a",type:"password",placeholder:"Ingresa la nueva contrase\xf1a",variant:"outlined",fullWidth:!0}),Object(n.jsx)(Pi.a,{name:"confirm",className:e.input,value:F.confirm,onChange:K,error:!!F.confirmError,helperText:F.confirmError,label:"Confirmar contrase\xf1a",type:"password",placeholder:"Ingresa nuevamente la nueva contrase\xf1a",variant:"outlined",fullWidth:!0})]});case 3:return Object(n.jsxs)(W.a,{className:e.content,children:[Object(n.jsx)(Z.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Contrase\xf1a restablecida"}),Object(n.jsx)(Z.a,{variant:"body1",align:"center",gutterBottom:!0,children:'La contrase\xf1a de su cuenta se ha reestablecido con \xe9xito. Por favor haga click en el boton "Finalizar" para redirigirlo a la p\xe1gina de inicio.'})]});default:return"Unknown step"}}(s),Object(n.jsxs)(W.a,{className:e.buttonZone,children:[1===s&&Object(n.jsx)(U.a,{disabled:0===s,onClick:function(){o((function(e){return e-1})),k(null),P(sd)},className:e.backButton,children:"Volver"}),Object(n.jsx)(U.a,{disableElevation:!0,variant:"contained",type:"submit",color:"primary",children:s===H.length-1?"Finalizar":"Siguiente"})]})]})]}),Object(n.jsx)(qi.a,{className:e.backdrop,open:m,children:Object(n.jsx)(Qi.a,{color:"inherit"})})]})},ud=Object(F.a)((function(e){return{"@global":{"html, body":{height:"100%"},"*::-webkit-scrollbar":{height:"0.6em",width:"0.6em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)"},"*::-webkit-scrollbar-thumb":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.2)",borderRadius:"15px",backgroundColor:"dark"===e.palette.type?e.palette.grey[400]:e.palette.grey[500]}}}})),jd=function(){var e=x(),t=e.authState,a=e.verifyToken,i=t.token,c=t.checking;return ud(),Object(r.useEffect)((function(){a()}),[a]),c?Object(n.jsx)("h1",{children:"Espere..."}):Object(n.jsx)(L.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(us.a,{}),Object(n.jsx)(ss,{}),Object(n.jsxs)(B.d,{children:[Object(n.jsx)(jr,{exact:!0,path:"/",component:dr,isAuthenticated:!c&&!!i}),Object(n.jsx)(jr,{exact:!0,path:"/reset-password",component:dd,isAuthenticated:!c&&!!i}),Object(n.jsx)(B.b,{exact:!0,path:"/shared-link/:link",component:ad}),Object(n.jsx)(pr,{exact:!0,path:"/profile/:uid",component:wc,isAuthenticated:!c&&!!i}),Object(n.jsx)(pr,{exact:!0,path:"/my-designs",component:Yi,isAuthenticated:!c&&!!i}),Object(n.jsx)(pr,{path:"/my-designs/:urlPath+/",component:Yi,isAuthenticated:!c&&!!i}),Object(n.jsx)(pr,{exact:!0,path:"/shared-with-me",component:ps,isAuthenticated:!c&&!!i}),Object(n.jsx)(pr,{exact:!0,path:"/public-repository",component:Os,isAuthenticated:!c&&!!i}),Object(n.jsx)(pr,{exact:!0,path:"/users/search",component:Cs,isAuthenticated:!c&&!!i}),Object(n.jsx)(pr,{exact:!0,path:"/designs/:id",component:Bl,isAuthenticated:!c&&!!i}),Object(n.jsx)(pr,{exact:!0,path:"/designs/reader/:id",component:$l,isAuthenticated:!c&&!!i}),Object(n.jsx)(B.a,{to:"/"})]}),Object(n.jsx)(zl,{}),Object(n.jsx)(ds,{})]})})},pd=a(633),md=new o.a;var bd=function(){return Object(n.jsx)(l.a,{client:md,children:Object(n.jsx)(w.a,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:pd.a,children:Object(n.jsx)(M,{children:Object(n.jsx)(v,{children:Object(n.jsx)(Zc,{children:Object(n.jsx)(is,{children:Object(n.jsx)(T,{children:Object(n.jsx)(Zs,{children:Object(n.jsx)(jd,{})})})})})})})})})};s.a.render(Object(n.jsx)(bd,{}),document.getElementById("root"))},707:function(e,t,a){},834:function(e,t){},836:function(e,t){},863:function(e,t){},864:function(e,t){},977:function(e,t){},979:function(e,t){}},[[1212,1,2]]]);
//# sourceMappingURL=main.ff9405fa.chunk.js.map